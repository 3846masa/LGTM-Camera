{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/index.js","node_modules/vue/dist/vue.common.js","node_modules/process/browser.js","node_modules/webrtc-adapter/src/js/adapter_core.js","node_modules/webrtc-adapter/src/js/utils.js","node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js","node_modules/webrtc-adapter/src/js/edge/edge_shim.js","node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js","node_modules/webrtc-adapter/src/js/safari/safari_shim.js","src/App.vue","node_modules/webrtc-adapter/src/js/chrome/getusermedia.js","node_modules/webrtc-adapter/src/js/firefox/getusermedia.js","node_modules/webrtc-adapter/src/js/edge/getusermedia.js","node_modules/file-saver/FileSaver.js","node_modules/lodash.debounce/index.js","node_modules/recordrtc/RecordRTC.js","node_modules/vue-hot-reload-api/index.js","node_modules/mobile-detect/mobile-detect.js","node_modules/eastasianwidth/eastasianwidth.js","node_modules/vueify/lib/insert-css.js","src/CaptureButton.vue","node_modules/sdp/sdp.js"],"names":["require","_vue","_App","_vue2","default","config","devtools","_App2","$mount","_toString","val","JSON","stringify","String","toNumber","n","parseFloat","makeMap","str","expectsLowerCase","map","Object","create","list","split","i","length","toLowerCase","remove","arr","item","index","indexOf","splice","hasOwn","obj","key","hasOwnProperty","call","isPrimitive","value","cached","fn","cache","hit","bind","ctx","boundFn","a","l","arguments","apply","_length","toArray","start","ret","Array","extend","to","_from","isObject","isPlainObject","toString","OBJECT_STRING","toObject","res","noop","genStaticKeys","modules","reduce","keys","m","concat","staticKeys","join","isReserved","c","charCodeAt","def","enumerable","defineProperty","writable","configurable","parsePath","path","bailRE","test","segments","pushTarget","_target","Dep","target","targetStack","push","popTarget","pop","resetSchedulerState","queue","has","process","env","NODE_ENV","circular","waiting","flushing","flushSchedulerQueue","sort","b","id","watcher","run","_maxUpdateCount","warn","user","vm","emit","queueWatcher","Math","max","nextTick","traverse","seen","seenObjects","clear","isA","isArray","isO","isExtensible","__ob__","depId","dep","add","protoAugment","src","__proto__","copyAugment","observe","ob","Observer","observerState","shouldConvert","_isServer","_isVue","defineReactive","customSetter","property","getOwnPropertyDescriptor","getter","get","setter","set","childOb","depend","e","newVal","notify","vmCount","del","initState","_watchers","initProps","initData","initComputed","initMethods","initWatch","props","$options","propsData","_propKeys","isRoot","$parent","loop","validateProp","isSettingProps","data","_data","proxy","computed","userDef","computedSharedDefinition","makeComputedGetter","owner","Watcher","lazy","dirty","evaluate","methods","watch","handler","createWatcher","options","$watch","stateMixin","Vue","dataDef","this","newData","prototype","$set","$delete","expOrFn","cb","immediate","teardown","cloneVNode","vnode","cloned","VNode","tag","children","text","elm","ns","context","componentOptions","isStatic","isCloned","cloneVNodes","vnodes","normalizeChildren","nestedIndex","createTextVNode","last","applyNS","undefined","getFirstComponentChild","filter","mergeVNodeHook","hook","oldHook","injectedHash","__injected","updateListeners","on","oldOn","name","cur","old","event","capture","charAt","slice","invoker","arrInvoker","fnInvoker","ev","arguments$1","single","o","initLifecycle","parent","abstract","$children","$root","$refs","_watcher","_inactive","_isMounted","_isDestroyed","_isBeingDestroyed","lifecycleMixin","_mount","el","hydrating","$el","render","emptyVNode","template","callHook","_update","_render","prevEl","prevActiveInstance","activeInstance","prevVnode","_vnode","__patch__","__vue__","$vnode","_updateFromParent","listeners","parentVnode","renderChildren","hasChildren","_renderChildren","_parentVnode","propKeys","oldListeners","_parentListeners","_updateListeners","$slots","resolveSlots","$forceUpdate","update","$destroy","$off","handlers","j","$emit","createComponent","Ctor","cid","resolved","resolveAsyncComponent","extractProps","functional","createFunctionalComponent","nativeOn","mergeHooks","propOptions","$createElement","slots","createComponentInstanceForVnode","vnodeComponentOptions","_isComponent","_componentTag","inlineTemplate","staticRenderFns","init","child","prepatch","oldVnode","insert","keepAlive","destroy","factory","requested","cbs","pendingCallbacks","sync","resolve","reject","reason","then","attrs","domProps","altKey","hyphenate","checkProp","hash","preserve","hooksToMerge","fromParent","ours","hooks","mergeHook$1","_","__","createElement","_createElement","_self","getTagNamespace","isReservedTag","resolveAsset","initRender","_staticTrees","renderMixin","$nextTick","ref","_renderProxy","formatComponentName","errorHandler","setTimeout","_h","_s","_n","_e","_m","isInFor","tree","identity","_f","_l","_t","fallback","slotNodes","_rendered","_b","asProp","mustUseProp","_k","keyCodes","defaultSlot","slot","isComment","initEvents","_events","$on","off","eventsMixin","$once","args","initMixin","initInternalComponent","opts","resolveConstructorOptions","constructor","super","superOptions","cachedSuperOptions","mergeOptions","extendOptions","components","_init","_uid","uid","initProxy","mergeData","from","toVal","fromVal","mergeHook","parentVal","childVal","mergeAssets","normalizeComponents","lower","isBuiltInTag","normalizeProps","camelize","type","normalizeDirectives","dirs","directives","mergeField","strat","strats","defaultStrat","extendsFrom","extends","mixins","mixin","warnMissing","assets","capitalize","prop","absent","getType","getPropDefaultValue","prevShouldConvert","assertProp","Function","required","valid","expectedTypes","assertedType","assertType","expectedType","validator","match","initUse","use","plugin","installed","unshift","install","initMixin$1","initExtend","Super","isFirstExtend","_Ctor","Sub","_assetTypes","forEach","initAssetRegisters","definition","initGlobalAPI","configDef","util","delete","builtInComponents","genClassForVnode","parentNode","childNode","mergeClassData","genClassFromData","staticClass","class","dynamicClass","stringifyClass","stringified","isSVG","isUnknownElement","inBrowser","unknownElementCache","document","window","HTMLUnknownElement","HTMLElement","query","selector","querySelector","createElement$1","tagName","createElementNS","namespace","namespaceMap","createTextNode","createComment","insertBefore","newNode","referenceNode","removeChild","node","appendChild","nextSibling","setTextContent","textContent","childNodes","setAttribute","registerRef","isRemoval","refs","refInFor","isUndef","s","isDef","sameVnode","vnode1","vnode2","createKeyToOldIdx","beginIdx","endIdx","createPatchFunction","backend","emptyNodeAt","nodeOps","createRmCb","childElm","removeElement","createElm","insertedVnodeQueue","nested","isRootInsert","initComponent","ignoredElements","setScope","createChildren","invokeCreateHooks","isPatchable","i$1","emptyNode","pendingInsert","_scopeId","addVnodes","parentElm","before","startIdx","invokeDestroyHook","removeVnodes","ch","removeAndInvokeRemoveHook","rm","updateChildren","oldCh","newCh","removeOnly","oldKeyToIdx","idxInOld","elmToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","canMove","patchVnode","hasData","postpatch","invokeInsertHook","initial","hydrate","assertNodeMatch","childrenMatch","console","bailed","hooks$1","isInitialPatch","isRealElement","nodeType","hasAttribute","removeAttribute","forEachDirective","dir","oldDirs","oldValue","modifiers","emptyModifiers","applyDirectives","callHook$1","updateAttrs","oldAttrs","setAttr","isXlink","removeAttributeNS","xlinkNS","getXlinkProp","isEnumeratedAttr","isBooleanAttr","isFalsyAttrValue","setAttributeNS","updateClass","oldData","cls","transitionClass","_transitionClasses","_prevClass","updateDOMListeners","_v_add","addEventListener","_v_remove","removeEventListener","updateDOMProps","oldProps","_value","strCur","updateStyle","style","oldStyle","cssText","needClone","normalize","addClass","classList","getAttribute","trim","removeClass","tar","replace","nextFrame","raf","addTransitionClass","removeTransitionClass","whenTransitionEnds","getTransitionInfo","timeout","propCount","TRANSITION","transitionEndEvent","animationEndEvent","ended","end","onEnd","styles","getComputedStyle","transitioneDelays","transitionProp","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationProp","animationDurations","animationTimeout","ANIMATION","hasTransform","transformRE","delays","durations","d","toMs","Number","enter","_leaveCb","cancelled","resolveTransition","transition","_enterCb","css","enterClass","enterActiveClass","appearClass","appearActiveClass","beforeEnter","afterEnter","enterCancelled","beforeAppear","appear","afterAppear","appearCancelled","transitionNode","isAppear","startClass","activeClass","beforeEnterHook","enterHook","afterEnterHook","enterCancelledHook","expectsCSS","isIE9","userWantsControl","once","show","pendingNode","_pending","leave","performLeave","beforeLeave","leaveClass","leaveActiveClass","afterLeave","leaveCancelled","delayLeave","autoCssTransition","called","setSelected","binding","isMultiple","multiple","selected","option","getValue","selectedIndex","hasNoMatchingOption","onCompositionStart","composing","onCompositionEnd","trigger","createEvent","initEvent","dispatchEvent","locateNode","getRealChild","compOptions","extractTransitionData","comp","key$1","placeholder","h","rawChild","hasParentTransition","camelizeRE","toUpperCase","hyphenateRE","no","optionMergeStrategies","silent","_lifecycleHooks","VUE_ENV","hasProto","__VUE_DEVTOOLS_GLOBAL_HOOK__","UA","navigator","userAgent","isIos","iosVersionMatch","iosVersion","hasMutationObserverBug","indexedDB","nextTickHandler","pending","copies","callbacks","timerFunc","MutationObserver","global","setImmediate","counter","observer","textNode","characterData","func","_Set","Set","hasProxy","proxyHandlers","allowedGlobals","Proxy","isAllowed","uid$2","subs","addSub","sub","removeSub","addDep","uid$1","deep","expression","active","deps","newDeps","depIds","newDepIds","cleanupDeps","this$1","tmp","_vForRemoving","arrayProto","arrayMethods","method","original","inserted","result","observeArray","arrayKeys","getOwnPropertyNames","augment","walk","items","raw","constructHook","construct","hasConsole","msg","error","formatLocation","instanceData","defaultData","freeze","KeepAlive","created","destroyed","version","isAttr","svg","math","isHTMLTag","isUnaryTag","canBeLeftOpenTag","isNonPhrasingTag","UA$1","isIE","isAndroid","emptyData","hasInsert","baseModules","klass","events","prefixes","testEl","upper","prefixed","hasTransition","ontransitionend","onwebkittransitionend","onanimationend","onwebkitanimationend","requestAnimationFrame","platformModules","patch","modelableTagRE","activeElement","vmodel","model","componentUpdated","needReset","some","v","originalDisplay","display","__vOriginalDisplay","platformDirectives","transitionProps","Boolean","mode","Transition","_leaving","oldRawChild","oldChild","delayedLeave","moveClass","TransitionGroup","prevChildren","rawChildren","transitionData","kept","removed","c$1","pos","getBoundingClientRect","beforeUpdate","updated","hasMove","_moveCb","oldPos","newPos","dx","left","dy","top","moved","transform","WebkitTransform","transitionDuration","body","offsetHeight","_moveDest","propertyName","_hasMove","info","platformComponents","log","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","len","Item","array","title","browser","argv","versions","addListener","removeListener","removeAllListeners","cwd","chdir","umask","logging","browserDetails","extractVersion","disableLog","chromeShim","edgeShim","firefoxShim","safariShim","shimPeerConnection","browserShim","shimGetUserMedia","shimMediaStream","shimSourceObject","shimOnTrack","logDisabled_","utils","bool","uastring","expr","parseInt","detectBrowser","mozGetUserMedia","webkitGetUserMedia","webkitRTCPeerConnection","mediaDevices","MediaStream","webkitMediaStream","RTCPeerConnection","_ontrack","f","self","_ontrackpoly","stream","te","Event","track","receiver","streams","getTracks","HTMLMediaElement","_srcObject","URL","revokeObjectURL","createObjectURL","pcConfig","pcConstraints","iceTransportPolicy","iceTransports","pc","origGetStats","getStats","successCallback","errorCallback","fixChromeStats_","response","standardReport","reports","report","standardStats","timestamp","names","stat","makeMapStats","stats","legacyStats","Map","successCallbackWrapper_","Promise","generateCertificate","nativeMethod","promise","err","RTCIceCandidate","RTCSessionDescription","nativeAddIceCandidate","addIceCandidate","SDPUtils","RTCIceGatherer","_eventTarget","createDocumentFragment","onicecandidate","onaddstream","ontrack","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onnegotiationneeded","ondatachannel","localStreams","remoteStreams","getLocalStreams","getRemoteStreams","localDescription","sdp","remoteDescription","signalingState","iceConnectionState","iceGatheringState","iceOptions","gatherPolicy","iceServers","TypeError","usingBundle","bundlePolicy","parse","server","urls","url","transceivers","_localIceCandidatesBuffer","_emitBufferedCandidates","sections","splitSections","candidate","sdpMLineIndex","complete","every","transceiver","iceGatherer","state","addStream","clone","_maybeFireNegotiationNeeded","removeStream","idx","getSenders","rtpSender","getReceivers","rtpReceiver","_getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","codecs","headerExtensions","fecMechanisms","lCodec","rCodec","clockRate","numChannels","rtcpFeedback","fb","parameter","lHeaderExtension","rHeaderExtension","uri","_createIceAndDtlsTransports","mid","iceTransport","RTCIceTransport","onlocalcandidate","evt","sdpMid","cand","component","writeCandidate","onicestatechange","_updateConnectionState","dtlsTransport","RTCDtlsTransport","ondtlsstatechange","onerror","_transceive","send","recv","params","encodings","sendEncodingParameters","rtcp","cname","localCName","recvEncodingParameters","ssrc","receive","setLocalDescription","description","sessionpart","_pendingOffer","shift","mediaSection","caps","parseRtpParameters","isIceLite","matchPrefix","rejected","isDatachannel","remoteIceParameters","getIceParameters","cands","parseCandidate","setRemoteCandidates","remoteDtlsParameters","getDtlsParameters","role","_updateSignalingState","hasCallback","p","setRemoteDescription","receiverList","lines","splitLines","mline","substr","kind","direction","getDirection","generateIdentifier","parseRtpEncodingParameters","remoteSsrc","line","parseSsrcMedia","attribute","isComplete","addTrack","transports","RTCRtpReceiver","getCapabilities","localTrack","getAudioTracks","getVideoTracks","RTCRtpSender","trackEvent","close","stop","newState","states","new","closed","connecting","checking","connected","completed","failed","disconnected","createOffer","offerOptions","tracks","numAudioTracks","numVideoTracks","mandatory","optional","offerToReceiveAudio","offerToReceiveVideo","wantReceive","writeSessionBoilerplate","t","writeMediaSection","desc","createAnswer","addRemoteCandidate","mLineIndex","protocol","port","promises","results","all","mozSrcObject","mozRTCPeerConnection","newIceServers","newServer","username","credential","mozRTCSessionDescription","mozRTCIceCandidate","nativeGetStats","onSucc","onErr","getUserMedia","INIT","STOP","RECORDING","GENERATING","GENERATED","mobileDetect","_mobileDetect2","recordRTC","recorded","gifImage","status","STATUS","progress","recTime","recStartDate","devices","overlayTextType","constraints","audio","video","mimeType","videoBitsPerSecond","numWorkers","root__overlayText","fontSize","_stream","srcObject","_recordrtc2","fitOverlayText","reloadFont","mounted","checkDevice","initStream","initCanvasPatch","os","alert","location","href","_this","device","find","label","includes","deviceId","exact","initStreamSuccessHandler","catch","initStreamErrorHandler","originalFillText","CanvasRenderingContext2D","fillText","x","y","canvas","textWidth","overlayText","width","calcedWidth","innerWidth","videoTracks","startRecord","startRecording","Date","updateRecTime","stopRecord","_this2","stopRecording","videoURL","playPreview","createGif","duration","floor","playbackRate","_this3","interval","overlayTextStyle","numFrames","gifWidth","gifHeight","fontFamily","fontWeight","textAlign","textBaseline","textYCoordinate","progressCallback","image","reset","reload","toggleType","downloadGif","_this4","blob","_fileSaver","saveAs","_eastasianwidth2","japont","blur","$event","CaptureButton","_CaptureButton2","__vue__options__","muted","autoplay","click","fa-thumbs-o-up","fa-warning","disabled","keyup","keyCode","input","time","alias","constraintsToChrome_","cc","r","ideal","min","oldname_","prefix","oc","mix","advanced","shimConstraints_","face","facingMode","getSupportedConstraints","enumerateDevices","back","shimError_","PermissionDeniedError","ConstraintNotSatisfiedError","message","constraint","constraintName","getUserMedia_","onSuccess","onError","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","groupId","origGetUserMedia","cs","SecurityError","The operation is insecure.","constraintsToFF37_","infos","orgEnumerateDevices","view","doc","get_URL","webkitURL","save_link","can_use_save_link","MouseEvent","is_safari","is_chrome_ios","throw_outside","ex","force_saveable_type","arbitrary_revoke_timeout","revoke","file","revoker","dispatch","filesaver","event_types","listener","auto_bom","Blob","fromCharCode","FileSaver","no_auto_bom","object_url","force","dispatch_all","fs_error","FileReader","reader","onloadend","popup","open","readyState","DONE","readAsDataURL","opened","download","FS_proto","msSaveOrOpenBlob","abort","WRITING","onwritestart","onprogress","onwrite","onabort","onwriteend","content","define","amd","debounce","wait","invokeFunc","lastArgs","thisArg","lastThis","lastInvokeTime","leadingEdge","timerId","timerExpired","leading","remainingWait","timeSinceLastCall","lastCallTime","timeSinceLastInvoke","maxing","nativeMin","maxWait","shouldInvoke","now","trailingEdge","trailing","cancel","flush","debounced","isInvoking","FUNC_ERROR_TEXT","nativeMax","isObjectLike","isSymbol","objectToString","symbolTag","NAN","other","valueOf","reTrim","isBinary","reIsBinary","reIsOctal","freeParseInt","reIsBadHex","freeGlobal","freeSelf","root","objectProto","RecordRTC","mediaStream","disableLogs","debug","mediaRecorder","clearRecordedData","resume","recordingDuration","handleRecordingDuration","initRecorder","initCallback","Recorder","GetRecorderType","record","callback","_callback","__blob","bytesToSize","size","autoWriteToDisk","getDataURL","dataURL","DiskStorage","Store","WARNING","pauseRecording","pause","resumeRecording","readFile","_blob","postMessage","FileReaderSync","_mediaRecorder","processInWebWorker","_function","worker","Worker","onload","webWorker","onmessage","onRecordingStopped","RecordRTCConfiguration","returnObject","setRecordingDuration","milliseconds","getBlob","toURL","save","fileName","invokeSaveAsDialog","getFromDisk","setAdvertisementArray","arrayOfWebPImages","advertisement","bufferSize","sampleRate","buffer","recorderType","WhammyRecorder","CanvasRecorder","GifRecorder","StereoAudioRecorder","MediaStreamRecorder","MediaRecorder","bitsPerSecond","recorder","isChrome","isEdge","isOpera","isMediaRecorderCompatible","MRecordRTC","_mediaStream","mediaType","gif","audioRecorder","numberOfAudioChannels","newStream","videoTrack","videoRecorder","frameInterval","gifRecorder","frameRate","quality","blobURL","output","callback00","_audioDataURL","_videoDataURL","writeToDisk","bytes","k","sizes","pow","toPrecision","fileExtension","splitted","fileFullName","round","random","msSaveBlob","hyperlink","onclick","documentElement","bubbles","cancelable","opera","chrome","isFirefox","InstallTrigger","verOffset","ix","nAgt","appVersion","fullVersion","majorVersion","substring","isNaN","isMediaStreamActive","recorderHints","canRecordMimeType","ignoreMutedMedia","ondataavailable","dontFireOnDataAvailableEvent","getNativeBlob","recordingCallback","onAudioProcessStarted","looper","mergeLeftRightBuffers","mergeAudioBuffers","mergeBuffers","channelBuffer","rLength","Float64Array","offset","lng","interleave","leftChannel","rightChannel","inputIndex","writeUTFBytes","string","setUint8","leftBuffers","rightBuffers","internalInterleavedLength","interleaved","interleavedLength","resultingBufferLength","ArrayBuffer","DataView","setUint32","setUint16","volume","setInt16","workerURL","onAudioProcessDataAvailable","isPaused","jsAudioNode","disconnect","recording","audioInput","isAudioProcessStarted","inputBuffer","getChannelData","leftchannel","Float32Array","right","rightchannel","recordingLength","connect","byteLength","Storage","AudioContextConstructor","AudioContext","createMediaStreamSource","legalBufferValues","createJavaScriptNode","createScriptProcessor","onaudioprocess","destination","htmlElement","cloneCanvas","newCanvas","getContext","height","drawImage","drawCanvasFrame","isPausedRecording","lastTime","getTime","nodeName","whammy","frames","isRecording","html2canvas","grabMouse","showMousePointer","onrendered","toDataURL","isCanvasSupportsStreamCapturing","_isChrome","chromeVersion","matchArray","globalCanvas","mediaStreamRecorder","HTMLCanvasElement","canvasMediaStream","captureStream","mozCaptureStream","webkitCaptureStream","mdStream","getWebPImages","framesLength","frame","framesRemaining","onEncodingCallback","webp","that","compile","Whammy","Video","drawFrames","paused","play","isStopDrawing","asyncLoop","functionToLoop","dropBlackFrames","_frames","_framesToCheck","_pixTolerance","_frameTolerance","localCanvas","context2d","resultFrames","checkUntilNotBlack","endCheckFrame","sampleColor","g","maxColorDifference","sqrt","pixTolerance","frameTolerance","doNotCheckNext","matchPixCount","endPixCheck","maxPixCount","finishImage","Image","imageData","getImageData","pix","currentColor","colorDifference","HTMLVideoElement","cloneNode","onloadedmetadata","GIFEncoder","isHTMLObject","drawVideoFrame","lastAnimationFrame","lastFrameTime","onGifPreview","gifEncoder","addFrame","offsetWidth","setRepeat","setDelay","setQuality","startTime","cancelAnimationFrame","endTime","Uint8Array","bin","Fetch","_type","audioDataURL","videoDataURL","gifDataURL","audioBlob","videoBlob","gifBlob","browserFakeUserAgent","screen","webkitRequestAnimationFrame","mozRequestAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","webkitAudioContext","mozAudioContext","WhammyVideo","whammyInWebWorker","ArrayToWebM","checkFrames","clusterMaxDuration","EBML","doubleToString","frameNumber","clusterTimecode","clusterFrames","clusterDuration","clusterCounter","cluster","getClusterData","generateEBML","block","makeSimpleBlock","discardable","invisible","keyframe","lacing","trackNum","timecode","numToBuffer","num","parts","reverse","strToBuffer","bitsToBuffer","bits","pad","json","ebml","zeroes","ceil","sizeToString","padded","flags","out","parseWebP","riff","VP8","RIFF","WEBP","frameStart","getStrLength","unpadded","parseRIFF","chunks","webm","atob","createObjectStore","dataBase","dataStoreName","putInDB","getFromStore","portionName","transaction","objectStore","onsuccess","db","put","dbVersion","dbName","request","setVersion","onupgradeneeded","makeOptionsHot","injectHook","initHookName","instances","existing","tryWrap","arg","__VUE_HOT_MAP__","isBrowserify","vue","browserify","compatible","createRecord","rerender","fns","instance","newCtor","release","equalIC","containsIC","valueLC","convertPropsToRegExp","object","hasOwnProp","RegExp","MobileDetect","maxPhoneWidth","ua","_cache","impl","mobileDetectRules","phones","iPhone","BlackBerry","HTC","Nexus","Dell","Motorola","Samsung","LG","Sony","Asus","NokiaLumia","Micromax","Palm","Vertu","Pantech","Fly","Wiko","iMobile","SimValley","Wolfgang","Alcatel","Nintendo","Amoi","INQ","GenericPhone","tablets","iPad","NexusTablet","SamsungTablet","Kindle","SurfaceTablet","HPTablet","AsusTablet","BlackBerryTablet","HTCtablet","MotorolaTablet","NookTablet","AcerTablet","ToshibaTablet","LGTablet","FujitsuTablet","PrestigioTablet","LenovoTablet","DellTablet","YarvikTablet","MedionTablet","ArnovaTablet","IntensoTablet","IRUTablet","MegafonTablet","EbodaTablet","AllViewTablet","ArchosTablet","AinolTablet","NokiaLumiaTablet","SonyTablet","PhilipsTablet","CubeTablet","CobyTablet","MIDTablet","MSITablet","SMiTTablet","RockChipTablet","FlyTablet","bqTablet","HuaweiTablet","NecTablet","PantechTablet","BronchoTablet","VersusTablet","ZyncTablet","PositivoTablet","NabiTablet","KoboTablet","DanewTablet","TexetTablet","PlaystationTablet","TrekstorTablet","PyleAudioTablet","AdvanTablet","DanyTechTablet","GalapadTablet","MicromaxTablet","KarbonnTablet","AllFineTablet","PROSCANTablet","YONESTablet","ChangJiaTablet","GUTablet","PointOfViewTablet","OvermaxTablet","HCLTablet","DPSTablet","VistureTablet","CrestaTablet","MediatekTablet","ConcordeTablet","GoCleverTablet","ModecomTablet","VoninoTablet","ECSTablet","StorexTablet","VodafoneTablet","EssentielBTablet","RossMoorTablet","iMobileTablet","TolinoTablet","AudioSonicTablet","AMPETablet","SkkTablet","TecnoTablet","JXDTablet","iJoyTablet","FX2Tablet","XoroTablet","ViewsonicTablet","OdysTablet","CaptivaTablet","IconbitTablet","TeclastTablet","OndaTablet","JaytechTablet","BlaupunktTablet","DigmaTablet","EvolioTablet","LavaTablet","AocTablet","MpmanTablet","CelkonTablet","WolderTablet","MiTablet","NibiruTablet","NexoTablet","LeaderTablet","UbislateTablet","PocketBookTablet","KocasoTablet","Hudl","TelstraTablet","GenericTablet","oss","AndroidOS","BlackBerryOS","PalmOS","SymbianOS","WindowsMobileOS","WindowsPhoneOS","iOS","MeeGoOS","MaemoOS","JavaOS","webOS","badaOS","BREWOS","uas","Vivaldi","Chrome","Dolfin","Opera","Skyfire","Edge","IE","Firefox","Bolt","TeaShark","Blazer","Safari","Tizen","UCBrowser","baiduboxapp","baidubrowser","DiigoBrowser","Puffin","Mercury","ObigoBrowser","NetFront","GenericBrowser","PaleMoon","Mobile","Build","Version","VendorID","iPod","Coast","Fennec","NokiaBrowser","Opera Mini","Opera Mobi","UC Browser","MQQBrowser","MicroMessenger","Iron","Webkit","Gecko","Trident","Presto","Goanna","Android","BREW","Java","Windows Phone OS","Windows Phone","Windows CE","Windows NT","Symbian","Bot","MobileBot","DesktopMode","TV","WebKit","Console","Watch","detectMobileBrowsers","fullPattern","shortPattern","tabletPattern","FALLBACK_PHONE","FALLBACK_TABLET","FALLBACK_MOBILE","values","verPos","oss0","findMatch","rules","findMatches","getVersionStr","patterns","exec","getVersion","prepareVersionNo","NaN","numbers","isMobileFallback","isTabletFallback","prepareDetectionCache","mobile","phone","tablet","phoneSized","isPhoneSized","mobileGrade","$isMobile","is","detectOS","getDeviceSmallerSide","userAgents","versionStr","pattern","grade","_impl","eaw","eastasianwidth","eastAsianWidth","character","codePoint","characterLength","code","char","eawLen","elem","styleSheet","getElementsByTagName","_mobileDetect","strokeWidth","radius","circumference","PI","getDashArray","sec","getDashOffset","evName","viewBox","mousedown","preventDefault","mouseup","touchstart","touchend","cx","cy","fill","stroke","stroke-width","stroke-dasharray","stroke-dashoffset","part","foundation","priority","ip","relatedAddress","relatedPort","tcpType","parseRtpMap","parsed","payloadType","writeRtpMap","codec","pt","preferredPayloadType","parseExtmap","writeExtmap","headerExtension","preferredId","parseFmtp","kv","writeFmtp","parameters","param","parseRtcpFb","writeRtcpFb","sp","colon","fpLine","dtlsParameters","fingerprints","algorithm","writeDtlsParameters","setupType","fp","iceParameters","usernameFragment","password","writeIceParameters","rtpmapline","fmtps","writeRtpDescription","secondarySsrc","encodingParameters","hasRed","hasUlpfec","ssrcs","primarySsrc","flows","apt","encParam","codecPayloadType","rtx","fec","mechanism","bandwidth","maxBitrate","getLocalParameters","msid"],"mappings":"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pC,KAAUA,GACV,KAAUA,GACV,KAAUA,GAAaA,GAAa,KACpC,KAAUA,GACV,KAAUA,GACV,KAAUA,GAAaA,GAAa,KACpC,KAAUA,GAAaA,GAAa,KACpC,KAAUA,GAAaA,GAAa,KACpC,KAAUA,GAAaA,GAAa,KACpC,KAAUA,GAAaA,GAAa,KACpC,MAAUA,GACV,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GACV,MAAUA,GACV,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GACV,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GACV,MAAUA,GACV,MAAUA,GACV,MAAUA,GACV,MAAUA,GACV,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GACV,MAAUA,GACV,MAAUA,GACV,MAAUA,GACV,MAAUA,GACV,MAAUA,GACV,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GACV,MAAUA,GACV,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GACV,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GACV,MAAUA,GACV,MAAUA,GACV,MAAUA,GACV,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GACV,MAAUA,GACV,MAAUA,GACV,MAAUA,GACV,MAAUA,GACV,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GACV,MAAUA,GACV,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GACV,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GACV,MAAUA,GACV,MAAUA,GACV,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GAAaA,GAAa,MACpC,MAAUA,GACV,MAAUA,GACV,MAAUA,GAC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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// Polyfill\nimport 'webrtc-adapter';\n\nimport Vue from 'vue';\nimport App from './App.vue';\n\nVue.config.devtools = true;\nnew Vue(App).$mount('App');\n","'use strict';\n\n/*  */\n\n/**\n * Convert a value to a string that is actually rendered.\n */\nfunction _toString (val) {\n  return val == null\n    ? ''\n    : typeof val === 'object'\n      ? JSON.stringify(val, null, 2)\n      : String(val)\n}\n\n/**\n * Convert a input value to a number for persistence.\n * If the conversion fails, return original string.\n */\nfunction toNumber (val) {\n  var n = parseFloat(val, 10)\n  return (n || n === 0) ? n : val\n}\n\n/**\n * Make a map and return a function for checking if a key\n * is in that map.\n */\nfunction makeMap (\n  str,\n  expectsLowerCase\n) {\n  var map = Object.create(null)\n  var list = str.split(',')\n  for (var i = 0; i < list.length; i++) {\n    map[list[i]] = true\n  }\n  return expectsLowerCase\n    ? function (val) { return map[val.toLowerCase()]; }\n    : function (val) { return map[val]; }\n}\n\n/**\n * Check if a tag is a built-in tag.\n */\nvar isBuiltInTag = makeMap('slot,component', true)\n\n/**\n * Remove an item from an array\n */\nfunction remove (arr, item) {\n  if (arr.length) {\n    var index = arr.indexOf(item)\n    if (index > -1) {\n      return arr.splice(index, 1)\n    }\n  }\n}\n\n/**\n * Check whether the object has the property.\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty\nfunction hasOwn (obj, key) {\n  return hasOwnProperty.call(obj, key)\n}\n\n/**\n * Check if value is primitive\n */\nfunction isPrimitive (value) {\n  return typeof value === 'string' || typeof value === 'number'\n}\n\n/**\n * Create a cached version of a pure function.\n */\nfunction cached (fn) {\n  var cache = Object.create(null)\n  return function cachedFn (str) {\n    var hit = cache[str]\n    return hit || (cache[str] = fn(str))\n  }\n}\n\n/**\n * Camelize a hyphen-delmited string.\n */\nvar camelizeRE = /-(\\w)/g\nvar camelize = cached(function (str) {\n  return str.replace(camelizeRE, function (_, c) { return c ? c.toUpperCase() : ''; })\n})\n\n/**\n * Capitalize a string.\n */\nvar capitalize = cached(function (str) {\n  return str.charAt(0).toUpperCase() + str.slice(1)\n})\n\n/**\n * Hyphenate a camelCase string.\n */\nvar hyphenateRE = /([^-])([A-Z])/g\nvar hyphenate = cached(function (str) {\n  return str\n    .replace(hyphenateRE, '$1-$2')\n    .replace(hyphenateRE, '$1-$2')\n    .toLowerCase()\n})\n\n/**\n * Simple bind, faster than native\n */\nfunction bind (fn, ctx) {\n  function boundFn (a) {\n    var l = arguments.length\n    return l\n      ? l > 1\n        ? fn.apply(ctx, arguments)\n        : fn.call(ctx, a)\n      : fn.call(ctx)\n  }\n  // record original fn length\n  boundFn._length = fn.length\n  return boundFn\n}\n\n/**\n * Convert an Array-like object to a real Array.\n */\nfunction toArray (list, start) {\n  start = start || 0\n  var i = list.length - start\n  var ret = new Array(i)\n  while (i--) {\n    ret[i] = list[i + start]\n  }\n  return ret\n}\n\n/**\n * Mix properties into target object.\n */\nfunction extend (to, _from) {\n  for (var key in _from) {\n    to[key] = _from[key]\n  }\n  return to\n}\n\n/**\n * Quick object check - this is primarily used to tell\n * Objects from primitive values when we know the value\n * is a JSON-compliant type.\n */\nfunction isObject (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\n/**\n * Strict object type check. Only returns true\n * for plain JavaScript objects.\n */\nvar toString = Object.prototype.toString\nvar OBJECT_STRING = '[object Object]'\nfunction isPlainObject (obj) {\n  return toString.call(obj) === OBJECT_STRING\n}\n\n/**\n * Merge an Array of Objects into a single Object.\n */\nfunction toObject (arr) {\n  var res = {}\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i]) {\n      extend(res, arr[i])\n    }\n  }\n  return res\n}\n\n/**\n * Perform no operation.\n */\nfunction noop () {}\n\n/**\n * Always return false.\n */\nvar no = function () { return false; }\n\n/**\n * Generate a static keys string from compiler modules.\n */\nfunction genStaticKeys (modules) {\n  return modules.reduce(function (keys, m) {\n    return keys.concat(m.staticKeys || [])\n  }, []).join(',')\n}\n\n/*  */\n\nvar config = {\n  /**\n   * Option merge strategies (used in core/util/options)\n   */\n  optionMergeStrategies: Object.create(null),\n\n  /**\n   * Whether to suppress warnings.\n   */\n  silent: false,\n\n  /**\n   * Whether to enable devtools\n   */\n  devtools: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Error handler for watcher errors\n   */\n  errorHandler: null,\n\n  /**\n   * Ignore certain custom elements\n   */\n  ignoredElements: null,\n\n  /**\n   * Custom user key aliases for v-on\n   */\n  keyCodes: Object.create(null),\n\n  /**\n   * Check if a tag is reserved so that it cannot be registered as a\n   * component. This is platform-dependent and may be overwritten.\n   */\n  isReservedTag: no,\n\n  /**\n   * Check if a tag is an unknown element.\n   * Platform-dependent.\n   */\n  isUnknownElement: no,\n\n  /**\n   * Get the namespace of an element\n   */\n  getTagNamespace: noop,\n\n  /**\n   * Check if an attribute must be bound using property, e.g. value\n   * Platform-dependent.\n   */\n  mustUseProp: no,\n\n  /**\n   * List of asset types that a component can own.\n   */\n  _assetTypes: [\n    'component',\n    'directive',\n    'filter'\n  ],\n\n  /**\n   * List of lifecycle hooks.\n   */\n  _lifecycleHooks: [\n    'beforeCreate',\n    'created',\n    'beforeMount',\n    'mounted',\n    'beforeUpdate',\n    'updated',\n    'beforeDestroy',\n    'destroyed',\n    'activated',\n    'deactivated'\n  ],\n\n  /**\n   * Max circular updates allowed in a scheduler flush cycle.\n   */\n  _maxUpdateCount: 100,\n\n  /**\n   * Server rendering?\n   */\n  _isServer: process.env.VUE_ENV === 'server'\n}\n\n/*  */\n\n/**\n * Check if a string starts with $ or _\n */\nfunction isReserved (str) {\n  var c = (str + '').charCodeAt(0)\n  return c === 0x24 || c === 0x5F\n}\n\n/**\n * Define a property.\n */\nfunction def (obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true\n  })\n}\n\n/**\n * Parse simple path.\n */\nvar bailRE = /[^\\w\\.\\$]/\nfunction parsePath (path) {\n  if (bailRE.test(path)) {\n    return\n  } else {\n    var segments = path.split('.')\n    return function (obj) {\n      for (var i = 0; i < segments.length; i++) {\n        if (!obj) return\n        obj = obj[segments[i]]\n      }\n      return obj\n    }\n  }\n}\n\n/*  */\n\n/* global MutationObserver */\n// can we use __proto__?\nvar hasProto = '__proto__' in {}\n\n// Browser environment sniffing\nvar inBrowser =\n  typeof window !== 'undefined' &&\n  Object.prototype.toString.call(window) !== '[object Object]'\n\n// detect devtools\nvar devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__\n\n// UA sniffing for working around browser-specific quirks\nvar UA = inBrowser && window.navigator.userAgent.toLowerCase()\nvar isIos = UA && /(iphone|ipad|ipod|ios)/i.test(UA)\nvar iosVersionMatch = UA && isIos && UA.match(/os ([\\d_]+)/)\nvar iosVersion = iosVersionMatch && iosVersionMatch[1].split('_')\n\n// MutationObserver is unreliable in iOS 9.3 UIWebView\n// detecting it by checking presence of IndexedDB\n// ref #3027\nvar hasMutationObserverBug =\n  iosVersion &&\n  Number(iosVersion[0]) >= 9 &&\n  Number(iosVersion[1]) >= 3 &&\n  !window.indexedDB\n\n/**\n * Defer a task to execute it asynchronously. Ideally this\n * should be executed as a microtask, so we leverage\n * MutationObserver if it's available, and fallback to\n * setTimeout(0).\n *\n * @param {Function} cb\n * @param {Object} ctx\n */\nvar nextTick = (function () {\n  var callbacks = []\n  var pending = false\n  var timerFunc\n  function nextTickHandler () {\n    pending = false\n    var copies = callbacks.slice(0)\n    callbacks = []\n    for (var i = 0; i < copies.length; i++) {\n      copies[i]()\n    }\n  }\n\n  /* istanbul ignore else */\n  if (typeof MutationObserver !== 'undefined' && !hasMutationObserverBug) {\n    var counter = 1\n    var observer = new MutationObserver(nextTickHandler)\n    var textNode = document.createTextNode(String(counter))\n    observer.observe(textNode, {\n      characterData: true\n    })\n    timerFunc = function () {\n      counter = (counter + 1) % 2\n      textNode.data = String(counter)\n    }\n  } else {\n    // webpack attempts to inject a shim for setImmediate\n    // if it is used as a global, so we have to work around that to\n    // avoid bundling unnecessary code.\n    var context = inBrowser\n      ? window\n      : typeof global !== 'undefined' ? global : {}\n    timerFunc = context.setImmediate || setTimeout\n  }\n  return function (cb, ctx) {\n    var func = ctx\n      ? function () { cb.call(ctx) }\n      : cb\n    callbacks.push(func)\n    if (pending) return\n    pending = true\n    timerFunc(nextTickHandler, 0)\n  }\n})()\n\nvar _Set\n/* istanbul ignore if */\nif (typeof Set !== 'undefined' && /native code/.test(Set.toString())) {\n  // use native Set when available.\n  _Set = Set\n} else {\n  // a non-standard Set polyfill that only works with primitive keys.\n  _Set = (function () {\n    function Set () {\n      this.set = Object.create(null)\n    }\n    Set.prototype.has = function has (key) {\n      return this.set[key] !== undefined\n    };\n    Set.prototype.add = function add (key) {\n      this.set[key] = 1\n    };\n    Set.prototype.clear = function clear () {\n      this.set = Object.create(null)\n    };\n\n    return Set;\n  }())\n}\n\n/* not type checking this file because flow doesn't play well with Proxy */\n\nvar hasProxy;\nvar proxyHandlers;\nvar initProxy;\nif (process.env.NODE_ENV !== 'production') {\n  var allowedGlobals = makeMap(\n    'Infinity,undefined,NaN,isFinite,isNaN,' +\n    'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,' +\n    'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,' +\n    'require' // for Webpack/Browserify\n  )\n\n  hasProxy =\n    typeof Proxy !== 'undefined' &&\n    Proxy.toString().match(/native code/)\n\n  proxyHandlers = {\n    has: function has (target, key) {\n      var has = key in target\n      var isAllowed = allowedGlobals(key) || key.charAt(0) === '_'\n      if (!has && !isAllowed) {\n        warn(\n          \"Property or method \\\"\" + key + \"\\\" is not defined on the instance but \" +\n          \"referenced during render. Make sure to declare reactive data \" +\n          \"properties in the data option.\",\n          target\n        )\n      }\n      return has || !isAllowed\n    }\n  }\n\n  initProxy = function initProxy (vm) {\n    if (hasProxy) {\n      vm._renderProxy = new Proxy(vm, proxyHandlers)\n    } else {\n      vm._renderProxy = vm\n    }\n  }\n}\n\n/*  */\n\n\nvar uid$2 = 0\n\n/**\n * A dep is an observable that can have multiple\n * directives subscribing to it.\n */\nvar Dep = function Dep () {\n  this.id = uid$2++\n  this.subs = []\n};\n\nDep.prototype.addSub = function addSub (sub) {\n  this.subs.push(sub)\n};\n\nDep.prototype.removeSub = function removeSub (sub) {\n  remove(this.subs, sub)\n};\n\nDep.prototype.depend = function depend () {\n  if (Dep.target) {\n    Dep.target.addDep(this)\n  }\n};\n\nDep.prototype.notify = function notify () {\n  // stablize the subscriber list first\n  var subs = this.subs.slice()\n  for (var i = 0, l = subs.length; i < l; i++) {\n    subs[i].update()\n  }\n};\n\n// the current target watcher being evaluated.\n// this is globally unique because there could be only one\n// watcher being evaluated at any time.\nDep.target = null\nvar targetStack = []\n\nfunction pushTarget (_target) {\n  if (Dep.target) targetStack.push(Dep.target)\n  Dep.target = _target\n}\n\nfunction popTarget () {\n  Dep.target = targetStack.pop()\n}\n\n/*  */\n\n\nvar queue = []\nvar has = {}\nvar circular = {}\nvar waiting = false\nvar flushing = false\nvar index = 0\n\n/**\n * Reset the scheduler's state.\n */\nfunction resetSchedulerState () {\n  queue.length = 0\n  has = {}\n  if (process.env.NODE_ENV !== 'production') {\n    circular = {}\n  }\n  waiting = flushing = false\n}\n\n/**\n * Flush both queues and run the watchers.\n */\nfunction flushSchedulerQueue () {\n  flushing = true\n\n  // Sort queue before flush.\n  // This ensures that:\n  // 1. Components are updated from parent to child. (because parent is always\n  //    created before the child)\n  // 2. A component's user watchers are run before its render watcher (because\n  //    user watchers are created before the render watcher)\n  // 3. If a component is destroyed during a parent component's watcher run,\n  //    its watchers can be skipped.\n  queue.sort(function (a, b) { return a.id - b.id; })\n\n  // do not cache length because more watchers might be pushed\n  // as we run existing watchers\n  for (index = 0; index < queue.length; index++) {\n    var watcher = queue[index]\n    var id = watcher.id\n    has[id] = null\n    watcher.run()\n    // in dev build, check and stop circular updates.\n    if (process.env.NODE_ENV !== 'production' && has[id] != null) {\n      circular[id] = (circular[id] || 0) + 1\n      if (circular[id] > config._maxUpdateCount) {\n        warn(\n          'You may have an infinite update loop ' + (\n            watcher.user\n              ? (\"in watcher with expression \\\"\" + (watcher.expression) + \"\\\"\")\n              : \"in a component render function.\"\n          ),\n          watcher.vm\n        )\n        break\n      }\n    }\n  }\n\n  // devtool hook\n  /* istanbul ignore if */\n  if (devtools && config.devtools) {\n    devtools.emit('flush')\n  }\n\n  resetSchedulerState()\n}\n\n/**\n * Push a watcher into the watcher queue.\n * Jobs with duplicate IDs will be skipped unless it's\n * pushed when the queue is being flushed.\n */\nfunction queueWatcher (watcher) {\n  var id = watcher.id\n  if (has[id] == null) {\n    has[id] = true\n    if (!flushing) {\n      queue.push(watcher)\n    } else {\n      // if already flushing, splice the watcher based on its id\n      // if already past its id, it will be run next immediately.\n      var i = queue.length - 1\n      while (i >= 0 && queue[i].id > watcher.id) {\n        i--\n      }\n      queue.splice(Math.max(i, index) + 1, 0, watcher)\n    }\n    // queue the flush\n    if (!waiting) {\n      waiting = true\n      nextTick(flushSchedulerQueue)\n    }\n  }\n}\n\n/*  */\n\nvar uid$1 = 0\n\n/**\n * A watcher parses an expression, collects dependencies,\n * and fires callback when the expression value changes.\n * This is used for both the $watch() api and directives.\n */\nvar Watcher = function Watcher (\n  vm,\n  expOrFn,\n  cb,\n  options\n) {\n  if ( options === void 0 ) options = {};\n\n  this.vm = vm\n  vm._watchers.push(this)\n  // options\n  this.deep = !!options.deep\n  this.user = !!options.user\n  this.lazy = !!options.lazy\n  this.sync = !!options.sync\n  this.expression = expOrFn.toString()\n  this.cb = cb\n  this.id = ++uid$1 // uid for batching\n  this.active = true\n  this.dirty = this.lazy // for lazy watchers\n  this.deps = []\n  this.newDeps = []\n  this.depIds = new _Set()\n  this.newDepIds = new _Set()\n  // parse expression for getter\n  if (typeof expOrFn === 'function') {\n    this.getter = expOrFn\n  } else {\n    this.getter = parsePath(expOrFn)\n    if (!this.getter) {\n      this.getter = function () {}\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed watching path: \\\"\" + expOrFn + \"\\\" \" +\n        'Watcher only accepts simple dot-delimited paths. ' +\n        'For full control, use a function instead.',\n        vm\n      )\n    }\n  }\n  this.value = this.lazy\n    ? undefined\n    : this.get()\n};\n\n/**\n * Evaluate the getter, and re-collect dependencies.\n */\nWatcher.prototype.get = function get () {\n  pushTarget(this)\n  var value = this.getter.call(this.vm, this.vm)\n  // \"touch\" every property so they are all tracked as\n  // dependencies for deep watching\n  if (this.deep) {\n    traverse(value)\n  }\n  popTarget()\n  this.cleanupDeps()\n  return value\n};\n\n/**\n * Add a dependency to this directive.\n */\nWatcher.prototype.addDep = function addDep (dep) {\n  var id = dep.id\n  if (!this.newDepIds.has(id)) {\n    this.newDepIds.add(id)\n    this.newDeps.push(dep)\n    if (!this.depIds.has(id)) {\n      dep.addSub(this)\n    }\n  }\n};\n\n/**\n * Clean up for dependency collection.\n */\nWatcher.prototype.cleanupDeps = function cleanupDeps () {\n    var this$1 = this;\n\n  var i = this.deps.length\n  while (i--) {\n    var dep = this$1.deps[i]\n    if (!this$1.newDepIds.has(dep.id)) {\n      dep.removeSub(this$1)\n    }\n  }\n  var tmp = this.depIds\n  this.depIds = this.newDepIds\n  this.newDepIds = tmp\n  this.newDepIds.clear()\n  tmp = this.deps\n  this.deps = this.newDeps\n  this.newDeps = tmp\n  this.newDeps.length = 0\n};\n\n/**\n * Subscriber interface.\n * Will be called when a dependency changes.\n */\nWatcher.prototype.update = function update () {\n  /* istanbul ignore else */\n  if (this.lazy) {\n    this.dirty = true\n  } else if (this.sync) {\n    this.run()\n  } else {\n    queueWatcher(this)\n  }\n};\n\n/**\n * Scheduler job interface.\n * Will be called by the scheduler.\n */\nWatcher.prototype.run = function run () {\n  if (this.active) {\n    var value = this.get()\n      if (\n        value !== this.value ||\n      // Deep watchers and watchers on Object/Arrays should fire even\n      // when the value is the same, because the value may\n      // have mutated.\n      isObject(value) ||\n      this.deep\n    ) {\n      // set new value\n      var oldValue = this.value\n      this.value = value\n      if (this.user) {\n        try {\n          this.cb.call(this.vm, value, oldValue)\n        } catch (e) {\n          process.env.NODE_ENV !== 'production' && warn(\n            (\"Error in watcher \\\"\" + (this.expression) + \"\\\"\"),\n            this.vm\n          )\n          /* istanbul ignore else */\n          if (config.errorHandler) {\n            config.errorHandler.call(null, e, this.vm)\n          } else {\n            throw e\n          }\n        }\n      } else {\n        this.cb.call(this.vm, value, oldValue)\n      }\n    }\n  }\n};\n\n/**\n * Evaluate the value of the watcher.\n * This only gets called for lazy watchers.\n */\nWatcher.prototype.evaluate = function evaluate () {\n  this.value = this.get()\n  this.dirty = false\n};\n\n/**\n * Depend on all deps collected by this watcher.\n */\nWatcher.prototype.depend = function depend () {\n    var this$1 = this;\n\n  var i = this.deps.length\n  while (i--) {\n    this$1.deps[i].depend()\n  }\n};\n\n/**\n * Remove self from all dependencies' subcriber list.\n */\nWatcher.prototype.teardown = function teardown () {\n    var this$1 = this;\n\n  if (this.active) {\n    // remove self from vm's watcher list\n    // this is a somewhat expensive operation so we skip it\n    // if the vm is being destroyed or is performing a v-for\n    // re-render (the watcher list is then filtered by v-for).\n    if (!this.vm._isBeingDestroyed && !this.vm._vForRemoving) {\n      remove(this.vm._watchers, this)\n    }\n    var i = this.deps.length\n    while (i--) {\n      this$1.deps[i].removeSub(this$1)\n    }\n    this.active = false\n  }\n};\n\n/**\n * Recursively traverse an object to evoke all converted\n * getters, so that every nested property inside the object\n * is collected as a \"deep\" dependency.\n */\nvar seenObjects = new _Set()\nfunction traverse (val, seen) {\n  var i, keys\n  if (!seen) {\n    seen = seenObjects\n    seen.clear()\n  }\n  var isA = Array.isArray(val)\n  var isO = isObject(val)\n  if ((isA || isO) && Object.isExtensible(val)) {\n    if (val.__ob__) {\n      var depId = val.__ob__.dep.id\n      if (seen.has(depId)) {\n        return\n      } else {\n        seen.add(depId)\n      }\n    }\n    if (isA) {\n      i = val.length\n      while (i--) traverse(val[i], seen)\n    } else if (isO) {\n      keys = Object.keys(val)\n      i = keys.length\n      while (i--) traverse(val[keys[i]], seen)\n    }\n  }\n}\n\n/*\n * not type checking this file because flow doesn't play well with\n * dynamically accessing methods on Array prototype\n */\n\nvar arrayProto = Array.prototype\nvar arrayMethods = Object.create(arrayProto)\n\n/**\n * Intercept mutating methods and emit events\n */\n;[\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'splice',\n  'sort',\n  'reverse'\n]\n.forEach(function (method) {\n  // cache original method\n  var original = arrayProto[method]\n  def(arrayMethods, method, function mutator () {\n    var arguments$1 = arguments;\n\n    // avoid leaking arguments:\n    // http://jsperf.com/closure-with-arguments\n    var i = arguments.length\n    var args = new Array(i)\n    while (i--) {\n      args[i] = arguments$1[i]\n    }\n    var result = original.apply(this, args)\n    var ob = this.__ob__\n    var inserted\n    switch (method) {\n      case 'push':\n        inserted = args\n        break\n      case 'unshift':\n        inserted = args\n        break\n      case 'splice':\n        inserted = args.slice(2)\n        break\n    }\n    if (inserted) ob.observeArray(inserted)\n    // notify change\n    ob.dep.notify()\n    return result\n  })\n})\n\n/*  */\n\nvar arrayKeys = Object.getOwnPropertyNames(arrayMethods)\n\n/**\n * By default, when a reactive property is set, the new value is\n * also converted to become reactive. However when passing down props,\n * we don't want to force conversion because the value may be a nested value\n * under a frozen data structure. Converting it would defeat the optimization.\n */\nvar observerState = {\n  shouldConvert: true,\n  isSettingProps: false\n}\n\n/**\n * Observer class that are attached to each observed\n * object. Once attached, the observer converts target\n * object's property keys into getter/setters that\n * collect dependencies and dispatches updates.\n */\nvar Observer = function Observer (value) {\n  this.value = value\n  this.dep = new Dep()\n  this.vmCount = 0\n  def(value, '__ob__', this)\n  if (Array.isArray(value)) {\n    var augment = hasProto\n      ? protoAugment\n      : copyAugment\n    augment(value, arrayMethods, arrayKeys)\n    this.observeArray(value)\n  } else {\n    this.walk(value)\n  }\n};\n\n/**\n * Walk through each property and convert them into\n * getter/setters. This method should only be called when\n * value type is Object.\n */\nObserver.prototype.walk = function walk (obj) {\n  var keys = Object.keys(obj)\n  for (var i = 0; i < keys.length; i++) {\n    defineReactive(obj, keys[i], obj[keys[i]])\n  }\n};\n\n/**\n * Observe a list of Array items.\n */\nObserver.prototype.observeArray = function observeArray (items) {\n  for (var i = 0, l = items.length; i < l; i++) {\n    observe(items[i])\n  }\n};\n\n// helpers\n\n/**\n * Augment an target Object or Array by intercepting\n * the prototype chain using __proto__\n */\nfunction protoAugment (target, src) {\n  /* eslint-disable no-proto */\n  target.__proto__ = src\n  /* eslint-enable no-proto */\n}\n\n/**\n * Augment an target Object or Array by defining\n * hidden properties.\n *\n * istanbul ignore next\n */\nfunction copyAugment (target, src, keys) {\n  for (var i = 0, l = keys.length; i < l; i++) {\n    var key = keys[i]\n    def(target, key, src[key])\n  }\n}\n\n/**\n * Attempt to create an observer instance for a value,\n * returns the new observer if successfully observed,\n * or the existing observer if the value already has one.\n */\nfunction observe (value) {\n  if (!isObject(value)) {\n    return\n  }\n  var ob\n  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n    ob = value.__ob__\n  } else if (\n    observerState.shouldConvert &&\n    !config._isServer &&\n    (Array.isArray(value) || isPlainObject(value)) &&\n    Object.isExtensible(value) &&\n    !value._isVue\n  ) {\n    ob = new Observer(value)\n  }\n  return ob\n}\n\n/**\n * Define a reactive property on an Object.\n */\nfunction defineReactive (\n  obj,\n  key,\n  val,\n  customSetter\n) {\n  var dep = new Dep()\n\n  var property = Object.getOwnPropertyDescriptor(obj, key)\n  if (property && property.configurable === false) {\n    return\n  }\n\n  // cater for pre-defined getter/setters\n  var getter = property && property.get\n  var setter = property && property.set\n\n  var childOb = observe(val)\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter () {\n      var value = getter ? getter.call(obj) : val\n      if (Dep.target) {\n        dep.depend()\n        if (childOb) {\n          childOb.dep.depend()\n        }\n        if (Array.isArray(value)) {\n          for (var e, i = 0, l = value.length; i < l; i++) {\n            e = value[i]\n            e && e.__ob__ && e.__ob__.dep.depend()\n          }\n        }\n      }\n      return value\n    },\n    set: function reactiveSetter (newVal) {\n      var value = getter ? getter.call(obj) : val\n      if (newVal === value) {\n        return\n      }\n      if (process.env.NODE_ENV !== 'production' && customSetter) {\n        customSetter()\n      }\n      if (setter) {\n        setter.call(obj, newVal)\n      } else {\n        val = newVal\n      }\n      childOb = observe(newVal)\n      dep.notify()\n    }\n  })\n}\n\n/**\n * Set a property on an object. Adds the new property and\n * triggers change notification if the property doesn't\n * already exist.\n */\nfunction set (obj, key, val) {\n  if (Array.isArray(obj)) {\n    obj.splice(key, 1, val)\n    return val\n  }\n  if (hasOwn(obj, key)) {\n    obj[key] = val\n    return\n  }\n  var ob = obj.__ob__\n  if (obj._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid adding reactive properties to a Vue instance or its root $data ' +\n      'at runtime - declare it upfront in the data option.'\n    )\n    return\n  }\n  if (!ob) {\n    obj[key] = val\n    return\n  }\n  defineReactive(ob.value, key, val)\n  ob.dep.notify()\n  return val\n}\n\n/**\n * Delete a property and trigger change if necessary.\n */\nfunction del (obj, key) {\n  var ob = obj.__ob__\n  if (obj._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid deleting properties on a Vue instance or its root $data ' +\n      '- just set it to null.'\n    )\n    return\n  }\n  if (!hasOwn(obj, key)) {\n    return\n  }\n  delete obj[key]\n  if (!ob) {\n    return\n  }\n  ob.dep.notify()\n}\n\n/*  */\n\nfunction initState (vm) {\n  vm._watchers = []\n  initProps(vm)\n  initData(vm)\n  initComputed(vm)\n  initMethods(vm)\n  initWatch(vm)\n}\n\nfunction initProps (vm) {\n  var props = vm.$options.props\n  var propsData = vm.$options.propsData\n  if (props) {\n    var keys = vm.$options._propKeys = Object.keys(props)\n    var isRoot = !vm.$parent\n    // root instance props should be converted\n    observerState.shouldConvert = isRoot\n    var loop = function ( i ) {\n      var key = keys[i]\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production') {\n        defineReactive(vm, key, validateProp(key, props, propsData, vm), function () {\n          if (vm.$parent && !observerState.isSettingProps) {\n            warn(\n              \"Avoid mutating a prop directly since the value will be \" +\n              \"overwritten whenever the parent component re-renders. \" +\n              \"Instead, use a data or computed property based on the prop's \" +\n              \"value. Prop being mutated: \\\"\" + key + \"\\\"\",\n              vm\n            )\n          }\n        })\n      } else {\n        defineReactive(vm, key, validateProp(key, props, propsData, vm))\n      }\n    };\n\n    for (var i = 0; i < keys.length; i++) loop( i );\n    observerState.shouldConvert = true\n  }\n}\n\nfunction initData (vm) {\n  var data = vm.$options.data\n  data = vm._data = typeof data === 'function'\n    ? data.call(vm)\n    : data || {}\n  if (!isPlainObject(data)) {\n    data = {}\n    process.env.NODE_ENV !== 'production' && warn(\n      'data functions should return an object.',\n      vm\n    )\n  }\n  // proxy data on instance\n  var keys = Object.keys(data)\n  var props = vm.$options.props\n  var i = keys.length\n  while (i--) {\n    if (props && hasOwn(props, keys[i])) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"The data property \\\"\" + (keys[i]) + \"\\\" is already declared as a prop. \" +\n        \"Use prop default value instead.\",\n        vm\n      )\n    } else {\n      proxy(vm, keys[i])\n    }\n  }\n  // observe data\n  observe(data)\n  data.__ob__ && data.__ob__.vmCount++\n}\n\nvar computedSharedDefinition = {\n  enumerable: true,\n  configurable: true,\n  get: noop,\n  set: noop\n}\n\nfunction initComputed (vm) {\n  var computed = vm.$options.computed\n  if (computed) {\n    for (var key in computed) {\n      var userDef = computed[key]\n      if (typeof userDef === 'function') {\n        computedSharedDefinition.get = makeComputedGetter(userDef, vm)\n        computedSharedDefinition.set = noop\n      } else {\n        computedSharedDefinition.get = userDef.get\n          ? userDef.cache !== false\n            ? makeComputedGetter(userDef.get, vm)\n            : bind(userDef.get, vm)\n          : noop\n        computedSharedDefinition.set = userDef.set\n          ? bind(userDef.set, vm)\n          : noop\n      }\n      Object.defineProperty(vm, key, computedSharedDefinition)\n    }\n  }\n}\n\nfunction makeComputedGetter (getter, owner) {\n  var watcher = new Watcher(owner, getter, noop, {\n    lazy: true\n  })\n  return function computedGetter () {\n    if (watcher.dirty) {\n      watcher.evaluate()\n    }\n    if (Dep.target) {\n      watcher.depend()\n    }\n    return watcher.value\n  }\n}\n\nfunction initMethods (vm) {\n  var methods = vm.$options.methods\n  if (methods) {\n    for (var key in methods) {\n      if (methods[key] != null) {\n        vm[key] = bind(methods[key], vm)\n      } else if (process.env.NODE_ENV !== 'production') {\n        warn((\"Method \\\"\" + key + \"\\\" is undefined in options.\"), vm)\n      }\n    }\n  }\n}\n\nfunction initWatch (vm) {\n  var watch = vm.$options.watch\n  if (watch) {\n    for (var key in watch) {\n      var handler = watch[key]\n      if (Array.isArray(handler)) {\n        for (var i = 0; i < handler.length; i++) {\n          createWatcher(vm, key, handler[i])\n        }\n      } else {\n        createWatcher(vm, key, handler)\n      }\n    }\n  }\n}\n\nfunction createWatcher (vm, key, handler) {\n  var options\n  if (isPlainObject(handler)) {\n    options = handler\n    handler = handler.handler\n  }\n  if (typeof handler === 'string') {\n    handler = vm[handler]\n  }\n  vm.$watch(key, handler, options)\n}\n\nfunction stateMixin (Vue) {\n  // flow somehow has problems with directly declared definition object\n  // when using Object.defineProperty, so we have to procedurally build up\n  // the object here.\n  var dataDef = {}\n  dataDef.get = function () {\n    return this._data\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    dataDef.set = function (newData) {\n      warn(\n        'Avoid replacing instance root $data. ' +\n        'Use nested data properties instead.',\n        this\n      )\n    }\n  }\n  Object.defineProperty(Vue.prototype, '$data', dataDef)\n\n  Vue.prototype.$set = set\n  Vue.prototype.$delete = del\n\n  Vue.prototype.$watch = function (\n    expOrFn,\n    cb,\n    options\n  ) {\n    var vm = this\n    options = options || {}\n    options.user = true\n    var watcher = new Watcher(vm, expOrFn, cb, options)\n    if (options.immediate) {\n      cb.call(vm, watcher.value)\n    }\n    return function unwatchFn () {\n      watcher.teardown()\n    }\n  }\n}\n\nfunction proxy (vm, key) {\n  if (!isReserved(key)) {\n    Object.defineProperty(vm, key, {\n      configurable: true,\n      enumerable: true,\n      get: function proxyGetter () {\n        return vm._data[key]\n      },\n      set: function proxySetter (val) {\n        vm._data[key] = val\n      }\n    })\n  }\n}\n\n/*  */\n\nvar VNode = function VNode (\n  tag,\n  data,\n  children,\n  text,\n  elm,\n  ns,\n  context,\n  componentOptions\n) {\n  this.tag = tag\n  this.data = data\n  this.children = children\n  this.text = text\n  this.elm = elm\n  this.ns = ns\n  this.context = context\n  this.key = data && data.key\n  this.componentOptions = componentOptions\n  this.child = undefined\n  this.parent = undefined\n  this.raw = false\n  this.isStatic = false\n  this.isRootInsert = true\n  this.isComment = false\n  this.isCloned = false\n  // apply construct hook.\n  // this is applied during render, before patch happens.\n  // unlike other hooks, this is applied on both client and server.\n  var constructHook = data && data.hook && data.hook.construct\n  if (constructHook) {\n    constructHook(this)\n  }\n};\n\nvar emptyVNode = function () {\n  var node = new VNode()\n  node.text = ''\n  node.isComment = true\n  return node\n}\n\n// optimized shallow clone\n// used for static nodes and slot nodes because they may be reused across\n// multiple renders, cloning them avoids errors when DOM manipulations rely\n// on their elm reference.\nfunction cloneVNode (vnode) {\n  var cloned = new VNode(\n    vnode.tag,\n    vnode.data,\n    vnode.children,\n    vnode.text,\n    vnode.elm,\n    vnode.ns,\n    vnode.context,\n    vnode.componentOptions\n  )\n  cloned.isStatic = vnode.isStatic\n  cloned.key = vnode.key\n  cloned.isCloned = true\n  return cloned\n}\n\nfunction cloneVNodes (vnodes) {\n  var res = new Array(vnodes.length)\n  for (var i = 0; i < vnodes.length; i++) {\n    res[i] = cloneVNode(vnodes[i])\n  }\n  return res\n}\n\n/*  */\n\nfunction normalizeChildren (\n  children,\n  ns,\n  nestedIndex\n) {\n  if (isPrimitive(children)) {\n    return [createTextVNode(children)]\n  }\n  if (Array.isArray(children)) {\n    var res = []\n    for (var i = 0, l = children.length; i < l; i++) {\n      var c = children[i]\n      var last = res[res.length - 1]\n      //  nested\n      if (Array.isArray(c)) {\n        res.push.apply(res, normalizeChildren(c, ns, i))\n      } else if (isPrimitive(c)) {\n        if (last && last.text) {\n          last.text += String(c)\n        } else if (c !== '') {\n          // convert primitive to vnode\n          res.push(createTextVNode(c))\n        }\n      } else if (c instanceof VNode) {\n        if (c.text && last && last.text) {\n          last.text += c.text\n        } else {\n          // inherit parent namespace\n          if (ns) {\n            applyNS(c, ns)\n          }\n          // default key for nested array children (likely generated by v-for)\n          if (c.key == null && nestedIndex != null) {\n            c.key = \"__vlist_\" + nestedIndex + \"_\" + i + \"__\"\n          }\n          res.push(c)\n        }\n      }\n    }\n    return res\n  }\n}\n\nfunction createTextVNode (val) {\n  return new VNode(undefined, undefined, undefined, String(val))\n}\n\nfunction applyNS (vnode, ns) {\n  if (vnode.tag && !vnode.ns) {\n    vnode.ns = ns\n    if (vnode.children) {\n      for (var i = 0, l = vnode.children.length; i < l; i++) {\n        applyNS(vnode.children[i], ns)\n      }\n    }\n  }\n}\n\nfunction getFirstComponentChild (children) {\n  return children && children.filter(function (c) { return c && c.componentOptions; })[0]\n}\n\nfunction mergeVNodeHook (def, key, hook) {\n  var oldHook = def[key]\n  if (oldHook) {\n    var injectedHash = def.__injected || (def.__injected = {})\n    if (!injectedHash[key]) {\n      injectedHash[key] = true\n      def[key] = function () {\n        oldHook.apply(this, arguments)\n        hook.apply(this, arguments)\n      }\n    }\n  } else {\n    def[key] = hook\n  }\n}\n\nfunction updateListeners (\n  on,\n  oldOn,\n  add,\n  remove\n) {\n  var name, cur, old, fn, event, capture\n  for (name in on) {\n    cur = on[name]\n    old = oldOn[name]\n    if (!cur) {\n      process.env.NODE_ENV !== 'production' && warn(\n        (\"Handler for event \\\"\" + name + \"\\\" is undefined.\")\n      )\n    } else if (!old) {\n      capture = name.charAt(0) === '!'\n      event = capture ? name.slice(1) : name\n      if (Array.isArray(cur)) {\n        add(event, (cur.invoker = arrInvoker(cur)), capture)\n      } else {\n        if (!cur.invoker) {\n          fn = cur\n          cur = on[name] = {}\n          cur.fn = fn\n          cur.invoker = fnInvoker(cur)\n        }\n        add(event, cur.invoker, capture)\n      }\n    } else if (cur !== old) {\n      if (Array.isArray(old)) {\n        old.length = cur.length\n        for (var i = 0; i < old.length; i++) old[i] = cur[i]\n        on[name] = old\n      } else {\n        old.fn = cur\n        on[name] = old\n      }\n    }\n  }\n  for (name in oldOn) {\n    if (!on[name]) {\n      event = name.charAt(0) === '!' ? name.slice(1) : name\n      remove(event, oldOn[name].invoker)\n    }\n  }\n}\n\nfunction arrInvoker (arr) {\n  return function (ev) {\n    var arguments$1 = arguments;\n\n    var single = arguments.length === 1\n    for (var i = 0; i < arr.length; i++) {\n      single ? arr[i](ev) : arr[i].apply(null, arguments$1)\n    }\n  }\n}\n\nfunction fnInvoker (o) {\n  return function (ev) {\n    var single = arguments.length === 1\n    single ? o.fn(ev) : o.fn.apply(null, arguments)\n  }\n}\n\n/*  */\n\nvar activeInstance = null\n\nfunction initLifecycle (vm) {\n  var options = vm.$options\n\n  // locate first non-abstract parent\n  var parent = options.parent\n  if (parent && !options.abstract) {\n    while (parent.$options.abstract && parent.$parent) {\n      parent = parent.$parent\n    }\n    parent.$children.push(vm)\n  }\n\n  vm.$parent = parent\n  vm.$root = parent ? parent.$root : vm\n\n  vm.$children = []\n  vm.$refs = {}\n\n  vm._watcher = null\n  vm._inactive = false\n  vm._isMounted = false\n  vm._isDestroyed = false\n  vm._isBeingDestroyed = false\n}\n\nfunction lifecycleMixin (Vue) {\n  Vue.prototype._mount = function (\n    el,\n    hydrating\n  ) {\n    var vm = this\n    vm.$el = el\n    if (!vm.$options.render) {\n      vm.$options.render = emptyVNode\n      if (process.env.NODE_ENV !== 'production') {\n        /* istanbul ignore if */\n        if (vm.$options.template) {\n          warn(\n            'You are using the runtime-only build of Vue where the template ' +\n            'option is not available. Either pre-compile the templates into ' +\n            'render functions, or use the compiler-included build.',\n            vm\n          )\n        } else {\n          warn(\n            'Failed to mount component: template or render function not defined.',\n            vm\n          )\n        }\n      }\n    }\n    callHook(vm, 'beforeMount')\n    vm._watcher = new Watcher(vm, function () {\n      vm._update(vm._render(), hydrating)\n    }, noop)\n    hydrating = false\n    // root instance, call mounted on self\n    // mounted is called for child components in its inserted hook\n    if (vm.$root === vm) {\n      vm._isMounted = true\n      callHook(vm, 'mounted')\n    }\n    return vm\n  }\n\n  Vue.prototype._update = function (vnode, hydrating) {\n    var vm = this\n    if (vm._isMounted) {\n      callHook(vm, 'beforeUpdate')\n    }\n    var prevEl = vm.$el\n    var prevActiveInstance = activeInstance\n    activeInstance = vm\n    var prevVnode = vm._vnode\n    vm._vnode = vnode\n    if (!prevVnode) {\n      // Vue.prototype.__patch__ is injected in entry points\n      // based on the rendering backend used.\n      vm.$el = vm.__patch__(vm.$el, vnode, hydrating)\n    } else {\n      vm.$el = vm.__patch__(prevVnode, vnode)\n    }\n    activeInstance = prevActiveInstance\n    // update __vue__ reference\n    if (prevEl) {\n      prevEl.__vue__ = null\n    }\n    if (vm.$el) {\n      vm.$el.__vue__ = vm\n    }\n    // if parent is an HOC, update its $el as well\n    if (vm.$vnode && vm.$parent && vm.$vnode === vm.$parent._vnode) {\n      vm.$parent.$el = vm.$el\n    }\n    if (vm._isMounted) {\n      callHook(vm, 'updated')\n    }\n  }\n\n  Vue.prototype._updateFromParent = function (\n    propsData,\n    listeners,\n    parentVnode,\n    renderChildren\n  ) {\n    var vm = this\n    var hasChildren = !!(vm.$options._renderChildren || renderChildren)\n    vm.$options._parentVnode = parentVnode\n    vm.$options._renderChildren = renderChildren\n    // update props\n    if (propsData && vm.$options.props) {\n      observerState.shouldConvert = false\n      if (process.env.NODE_ENV !== 'production') {\n        observerState.isSettingProps = true\n      }\n      var propKeys = vm.$options._propKeys || []\n      for (var i = 0; i < propKeys.length; i++) {\n        var key = propKeys[i]\n        vm[key] = validateProp(key, vm.$options.props, propsData, vm)\n      }\n      observerState.shouldConvert = true\n      if (process.env.NODE_ENV !== 'production') {\n        observerState.isSettingProps = false\n      }\n    }\n    // update listeners\n    if (listeners) {\n      var oldListeners = vm.$options._parentListeners\n      vm.$options._parentListeners = listeners\n      vm._updateListeners(listeners, oldListeners)\n    }\n    // resolve slots + force update if has children\n    if (hasChildren) {\n      vm.$slots = resolveSlots(renderChildren)\n      vm.$forceUpdate()\n    }\n  }\n\n  Vue.prototype.$forceUpdate = function () {\n    var vm = this\n    if (vm._watcher) {\n      vm._watcher.update()\n    }\n  }\n\n  Vue.prototype.$destroy = function () {\n    var vm = this\n    if (vm._isBeingDestroyed) {\n      return\n    }\n    callHook(vm, 'beforeDestroy')\n    vm._isBeingDestroyed = true\n    // remove self from parent\n    var parent = vm.$parent\n    if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {\n      remove(parent.$children, vm)\n    }\n    // teardown watchers\n    if (vm._watcher) {\n      vm._watcher.teardown()\n    }\n    var i = vm._watchers.length\n    while (i--) {\n      vm._watchers[i].teardown()\n    }\n    // remove reference from data ob\n    // frozen object may not have observer.\n    if (vm._data.__ob__) {\n      vm._data.__ob__.vmCount--\n    }\n    // call the last hook...\n    vm._isDestroyed = true\n    callHook(vm, 'destroyed')\n    // turn off all instance listeners.\n    vm.$off()\n    // remove __vue__ reference\n    if (vm.$el) {\n      vm.$el.__vue__ = null\n    }\n  }\n}\n\nfunction callHook (vm, hook) {\n  var handlers = vm.$options[hook]\n  if (handlers) {\n    for (var i = 0, j = handlers.length; i < j; i++) {\n      handlers[i].call(vm)\n    }\n  }\n  vm.$emit('hook:' + hook)\n}\n\n/*  */\n\nvar hooks = { init: init, prepatch: prepatch, insert: insert, destroy: destroy }\nvar hooksToMerge = Object.keys(hooks)\n\nfunction createComponent (\n  Ctor,\n  data,\n  context,\n  children,\n  tag\n) {\n  if (!Ctor) {\n    return\n  }\n\n  if (isObject(Ctor)) {\n    Ctor = Vue.extend(Ctor)\n  }\n\n  if (typeof Ctor !== 'function') {\n    if (process.env.NODE_ENV !== 'production') {\n      warn((\"Invalid Component definition: \" + (String(Ctor))), context)\n    }\n    return\n  }\n\n  // async component\n  if (!Ctor.cid) {\n    if (Ctor.resolved) {\n      Ctor = Ctor.resolved\n    } else {\n      Ctor = resolveAsyncComponent(Ctor, function () {\n        // it's ok to queue this on every render because\n        // $forceUpdate is buffered by the scheduler.\n        context.$forceUpdate()\n      })\n      if (!Ctor) {\n        // return nothing if this is indeed an async component\n        // wait for the callback to trigger parent update.\n        return\n      }\n    }\n  }\n\n  data = data || {}\n\n  // extract props\n  var propsData = extractProps(data, Ctor)\n\n  // functional component\n  if (Ctor.options.functional) {\n    return createFunctionalComponent(Ctor, propsData, data, context, children)\n  }\n\n  // extract listeners, since these needs to be treated as\n  // child component listeners instead of DOM listeners\n  var listeners = data.on\n  // replace with listeners with .native modifier\n  data.on = data.nativeOn\n\n  if (Ctor.options.abstract) {\n    // abstract components do not keep anything\n    // other than props & listeners\n    data = {}\n  }\n\n  // merge component management hooks onto the placeholder node\n  mergeHooks(data)\n\n  // return a placeholder vnode\n  var name = Ctor.options.name || tag\n  var vnode = new VNode(\n    (\"vue-component-\" + (Ctor.cid) + (name ? (\"-\" + name) : '')),\n    data, undefined, undefined, undefined, undefined, context,\n    { Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children }\n  )\n  return vnode\n}\n\nfunction createFunctionalComponent (\n  Ctor,\n  propsData,\n  data,\n  context,\n  children\n) {\n  var props = {}\n  var propOptions = Ctor.options.props\n  if (propOptions) {\n    for (var key in propOptions) {\n      props[key] = validateProp(key, propOptions, propsData)\n    }\n  }\n  return Ctor.options.render.call(\n    null,\n    context.$createElement,\n    {\n      props: props,\n      data: data,\n      parent: context,\n      children: normalizeChildren(children),\n      slots: function () { return resolveSlots(children); }\n    }\n  )\n}\n\nfunction createComponentInstanceForVnode (\n  vnode, // we know it's MountedComponentVNode but flow doesn't\n  parent // activeInstance in lifecycle state\n) {\n  var vnodeComponentOptions = vnode.componentOptions\n  var options = {\n    _isComponent: true,\n    parent: parent,\n    propsData: vnodeComponentOptions.propsData,\n    _componentTag: vnodeComponentOptions.tag,\n    _parentVnode: vnode,\n    _parentListeners: vnodeComponentOptions.listeners,\n    _renderChildren: vnodeComponentOptions.children\n  }\n  // check inline-template render functions\n  var inlineTemplate = vnode.data.inlineTemplate\n  if (inlineTemplate) {\n    options.render = inlineTemplate.render\n    options.staticRenderFns = inlineTemplate.staticRenderFns\n  }\n  return new vnodeComponentOptions.Ctor(options)\n}\n\nfunction init (vnode, hydrating) {\n  if (!vnode.child || vnode.child._isDestroyed) {\n    var child = vnode.child = createComponentInstanceForVnode(vnode, activeInstance)\n    child.$mount(hydrating ? vnode.elm : undefined, hydrating)\n  }\n}\n\nfunction prepatch (\n  oldVnode,\n  vnode\n) {\n  var options = vnode.componentOptions\n  var child = vnode.child = oldVnode.child\n  child._updateFromParent(\n    options.propsData, // updated props\n    options.listeners, // updated listeners\n    vnode, // new parent vnode\n    options.children // new children\n  )\n}\n\nfunction insert (vnode) {\n  if (!vnode.child._isMounted) {\n    vnode.child._isMounted = true\n    callHook(vnode.child, 'mounted')\n  }\n  if (vnode.data.keepAlive) {\n    vnode.child._inactive = false\n    callHook(vnode.child, 'activated')\n  }\n}\n\nfunction destroy (vnode) {\n  if (!vnode.child._isDestroyed) {\n    if (!vnode.data.keepAlive) {\n      vnode.child.$destroy()\n    } else {\n      vnode.child._inactive = true\n      callHook(vnode.child, 'deactivated')\n    }\n  }\n}\n\nfunction resolveAsyncComponent (\n  factory,\n  cb\n) {\n  if (factory.requested) {\n    // pool callbacks\n    factory.pendingCallbacks.push(cb)\n  } else {\n    factory.requested = true\n    var cbs = factory.pendingCallbacks = [cb]\n    var sync = true\n\n    var resolve = function (res) {\n      if (isObject(res)) {\n        res = Vue.extend(res)\n      }\n      // cache resolved\n      factory.resolved = res\n      // invoke callbacks only if this is not a synchronous resolve\n      // (async resolves are shimmed as synchronous during SSR)\n      if (!sync) {\n        for (var i = 0, l = cbs.length; i < l; i++) {\n          cbs[i](res)\n        }\n      }\n    }\n\n    var reject = function (reason) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed to resolve async component: \" + (String(factory)) +\n        (reason ? (\"\\nReason: \" + reason) : '')\n      )\n    }\n\n    var res = factory(resolve, reject)\n\n    // handle promise\n    if (res && typeof res.then === 'function' && !factory.resolved) {\n      res.then(resolve, reject)\n    }\n\n    sync = false\n    // return in case resolved synchronously\n    return factory.resolved\n  }\n}\n\nfunction extractProps (data, Ctor) {\n  // we are only extrating raw values here.\n  // validation and default values are handled in the child\n  // component itself.\n  var propOptions = Ctor.options.props\n  if (!propOptions) {\n    return\n  }\n  var res = {}\n  var attrs = data.attrs;\n  var props = data.props;\n  var domProps = data.domProps;\n  if (attrs || props || domProps) {\n    for (var key in propOptions) {\n      var altKey = hyphenate(key)\n      checkProp(res, props, key, altKey, true) ||\n      checkProp(res, attrs, key, altKey) ||\n      checkProp(res, domProps, key, altKey)\n    }\n  }\n  return res\n}\n\nfunction checkProp (\n  res,\n  hash,\n  key,\n  altKey,\n  preserve\n) {\n  if (hash) {\n    if (hasOwn(hash, key)) {\n      res[key] = hash[key]\n      if (!preserve) {\n        delete hash[key]\n      }\n      return true\n    } else if (hasOwn(hash, altKey)) {\n      res[key] = hash[altKey]\n      if (!preserve) {\n        delete hash[altKey]\n      }\n      return true\n    }\n  }\n  return false\n}\n\nfunction mergeHooks (data) {\n  if (!data.hook) {\n    data.hook = {}\n  }\n  for (var i = 0; i < hooksToMerge.length; i++) {\n    var key = hooksToMerge[i]\n    var fromParent = data.hook[key]\n    var ours = hooks[key]\n    data.hook[key] = fromParent ? mergeHook$1(ours, fromParent) : ours\n  }\n}\n\nfunction mergeHook$1 (a, b) {\n  // since all hooks have at most two args, use fixed args\n  // to avoid having to use fn.apply().\n  return function (_, __) {\n    a(_, __)\n    b(_, __)\n  }\n}\n\n/*  */\n\n// wrapper function for providing a more flexible interface\n// without getting yelled at by flow\nfunction createElement (\n  tag,\n  data,\n  children\n) {\n  if (data && (Array.isArray(data) || typeof data !== 'object')) {\n    children = data\n    data = undefined\n  }\n  // make sure to use real instance instead of proxy as context\n  return _createElement(this._self, tag, data, children)\n}\n\nfunction _createElement (\n  context,\n  tag,\n  data,\n  children\n) {\n  if (data && data.__ob__) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"Avoid using observed data object as vnode data: \" + (JSON.stringify(data)) + \"\\n\" +\n      'Always create fresh vnode data objects in each render!',\n      context\n    )\n    return\n  }\n  if (!tag) {\n    // in case of component :is set to falsy value\n    return emptyVNode()\n  }\n  if (typeof tag === 'string') {\n    var Ctor\n    var ns = config.getTagNamespace(tag)\n    if (config.isReservedTag(tag)) {\n      // platform built-in elements\n      return new VNode(\n        tag, data, normalizeChildren(children, ns),\n        undefined, undefined, ns, context\n      )\n    } else if ((Ctor = resolveAsset(context.$options, 'components', tag))) {\n      // component\n      return createComponent(Ctor, data, context, children, tag)\n    } else {\n      // unknown or unlisted namespaced elements\n      // check at runtime because it may get assigned a namespace when its\n      // parent normalizes children\n      return new VNode(\n        tag, data, normalizeChildren(children, ns),\n        undefined, undefined, ns, context\n      )\n    }\n  } else {\n    // direct component options / constructor\n    return createComponent(tag, data, context, children)\n  }\n}\n\n/*  */\n\nfunction initRender (vm) {\n  vm.$vnode = null // the placeholder node in parent tree\n  vm._vnode = null // the root of the child tree\n  vm._staticTrees = null\n  vm.$slots = resolveSlots(vm.$options._renderChildren)\n  // bind the public createElement fn to this instance\n  // so that we get proper render context inside it.\n  vm.$createElement = bind(createElement, vm)\n  if (vm.$options.el) {\n    vm.$mount(vm.$options.el)\n  }\n}\n\nfunction renderMixin (Vue) {\n  Vue.prototype.$nextTick = function (fn) {\n    nextTick(fn, this)\n  }\n\n  Vue.prototype._render = function () {\n    var vm = this\n    var ref = vm.$options;\n    var render = ref.render;\n    var staticRenderFns = ref.staticRenderFns;\n    var _parentVnode = ref._parentVnode;\n\n    if (vm._isMounted) {\n      // clone slot nodes on re-renders\n      for (var key in vm.$slots) {\n        vm.$slots[key] = cloneVNodes(vm.$slots[key])\n      }\n    }\n\n    if (staticRenderFns && !vm._staticTrees) {\n      vm._staticTrees = []\n    }\n    // set parent vnode. this allows render functions to have access\n    // to the data on the placeholder node.\n    vm.$vnode = _parentVnode\n    // render self\n    var vnode\n    try {\n      vnode = render.call(vm._renderProxy, vm.$createElement)\n    } catch (e) {\n      if (process.env.NODE_ENV !== 'production') {\n        warn((\"Error when rendering \" + (formatComponentName(vm)) + \":\"))\n      }\n      /* istanbul ignore else */\n      if (config.errorHandler) {\n        config.errorHandler.call(null, e, vm)\n      } else {\n        if (config._isServer) {\n          throw e\n        } else {\n          setTimeout(function () { throw e }, 0)\n        }\n      }\n      // return previous vnode to prevent render error causing blank component\n      vnode = vm._vnode\n    }\n    // return empty vnode in case the render function errored out\n    if (!(vnode instanceof VNode)) {\n      if (process.env.NODE_ENV !== 'production' && Array.isArray(vnode)) {\n        warn(\n          'Multiple root nodes returned from render function. Render function ' +\n          'should return a single root node.',\n          vm\n        )\n      }\n      vnode = emptyVNode()\n    }\n    // set parent\n    vnode.parent = _parentVnode\n    return vnode\n  }\n\n  // shorthands used in render functions\n  Vue.prototype._h = createElement\n  // toString for mustaches\n  Vue.prototype._s = _toString\n  // number conversion\n  Vue.prototype._n = toNumber\n  // empty vnode\n  Vue.prototype._e = emptyVNode\n\n  // render static tree by index\n  Vue.prototype._m = function renderStatic (\n    index,\n    isInFor\n  ) {\n    var tree = this._staticTrees[index]\n    // if has already-rendered static tree and not inside v-for,\n    // we can reuse the same tree by doing a shallow clone.\n    if (tree && !isInFor) {\n      return Array.isArray(tree)\n        ? cloneVNodes(tree)\n        : cloneVNode(tree)\n    }\n    // otherwise, render a fresh tree.\n    tree = this._staticTrees[index] = this.$options.staticRenderFns[index].call(this._renderProxy)\n    if (Array.isArray(tree)) {\n      for (var i = 0; i < tree.length; i++) {\n        tree[i].isStatic = true\n        tree[i].key = \"__static__\" + index + \"_\" + i\n      }\n    } else {\n      tree.isStatic = true\n      tree.key = \"__static__\" + index\n    }\n    return tree\n  }\n\n  // filter resolution helper\n  var identity = function (_) { return _; }\n  Vue.prototype._f = function resolveFilter (id) {\n    return resolveAsset(this.$options, 'filters', id, true) || identity\n  }\n\n  // render v-for\n  Vue.prototype._l = function renderList (\n    val,\n    render\n  ) {\n    var ret, i, l, keys, key\n    if (Array.isArray(val)) {\n      ret = new Array(val.length)\n      for (i = 0, l = val.length; i < l; i++) {\n        ret[i] = render(val[i], i)\n      }\n    } else if (typeof val === 'number') {\n      ret = new Array(val)\n      for (i = 0; i < val; i++) {\n        ret[i] = render(i + 1, i)\n      }\n    } else if (isObject(val)) {\n      keys = Object.keys(val)\n      ret = new Array(keys.length)\n      for (i = 0, l = keys.length; i < l; i++) {\n        key = keys[i]\n        ret[i] = render(val[key], key, i)\n      }\n    }\n    return ret\n  }\n\n  // renderSlot\n  Vue.prototype._t = function (\n    name,\n    fallback\n  ) {\n    var slotNodes = this.$slots[name]\n    // warn duplicate slot usage\n    if (slotNodes && process.env.NODE_ENV !== 'production') {\n      slotNodes._rendered && warn(\n        \"Duplicate presence of slot \\\"\" + name + \"\\\" found in the same render tree \" +\n        \"- this will likely cause render errors.\",\n        this\n      )\n      slotNodes._rendered = true\n    }\n    return slotNodes || fallback\n  }\n\n  // apply v-bind object\n  Vue.prototype._b = function bindProps (\n    vnode,\n    value,\n    asProp) {\n    if (value) {\n      if (!isObject(value)) {\n        process.env.NODE_ENV !== 'production' && warn(\n          'v-bind without argument expects an Object or Array value',\n          this\n        )\n      } else {\n        if (Array.isArray(value)) {\n          value = toObject(value)\n        }\n        var data = vnode.data\n        for (var key in value) {\n          if (key === 'class' || key === 'style') {\n            data[key] = value[key]\n          } else {\n            var hash = asProp || config.mustUseProp(key)\n              ? data.domProps || (data.domProps = {})\n              : data.attrs || (data.attrs = {})\n            hash[key] = value[key]\n          }\n        }\n      }\n    }\n  }\n\n  // expose v-on keyCodes\n  Vue.prototype._k = function getKeyCodes (key) {\n    return config.keyCodes[key]\n  }\n}\n\nfunction resolveSlots (\n  renderChildren\n) {\n  var slots = {}\n  if (!renderChildren) {\n    return slots\n  }\n  var children = normalizeChildren(renderChildren) || []\n  var defaultSlot = []\n  var name, child\n  for (var i = 0, l = children.length; i < l; i++) {\n    child = children[i]\n    if (child.data && (name = child.data.slot)) {\n      delete child.data.slot\n      var slot = (slots[name] || (slots[name] = []))\n      if (child.tag === 'template') {\n        slot.push.apply(slot, child.children)\n      } else {\n        slot.push(child)\n      }\n    } else {\n      defaultSlot.push(child)\n    }\n  }\n  // ignore single whitespace\n  if (defaultSlot.length && !(\n    defaultSlot.length === 1 &&\n    (defaultSlot[0].text === ' ' || defaultSlot[0].isComment)\n  )) {\n    slots.default = defaultSlot\n  }\n  return slots\n}\n\n/*  */\n\nfunction initEvents (vm) {\n  vm._events = Object.create(null)\n  // init parent attached events\n  var listeners = vm.$options._parentListeners\n  var on = bind(vm.$on, vm)\n  var off = bind(vm.$off, vm)\n  vm._updateListeners = function (listeners, oldListeners) {\n    updateListeners(listeners, oldListeners || {}, on, off)\n  }\n  if (listeners) {\n    vm._updateListeners(listeners)\n  }\n}\n\nfunction eventsMixin (Vue) {\n  Vue.prototype.$on = function (event, fn) {\n    var vm = this\n    ;(vm._events[event] || (vm._events[event] = [])).push(fn)\n    return vm\n  }\n\n  Vue.prototype.$once = function (event, fn) {\n    var vm = this\n    function on () {\n      vm.$off(event, on)\n      fn.apply(vm, arguments)\n    }\n    on.fn = fn\n    vm.$on(event, on)\n    return vm\n  }\n\n  Vue.prototype.$off = function (event, fn) {\n    var vm = this\n    // all\n    if (!arguments.length) {\n      vm._events = Object.create(null)\n      return vm\n    }\n    // specific event\n    var cbs = vm._events[event]\n    if (!cbs) {\n      return vm\n    }\n    if (arguments.length === 1) {\n      vm._events[event] = null\n      return vm\n    }\n    // specific handler\n    var cb\n    var i = cbs.length\n    while (i--) {\n      cb = cbs[i]\n      if (cb === fn || cb.fn === fn) {\n        cbs.splice(i, 1)\n        break\n      }\n    }\n    return vm\n  }\n\n  Vue.prototype.$emit = function (event) {\n    var vm = this\n    var cbs = vm._events[event]\n    if (cbs) {\n      cbs = cbs.length > 1 ? toArray(cbs) : cbs\n      var args = toArray(arguments, 1)\n      for (var i = 0, l = cbs.length; i < l; i++) {\n        cbs[i].apply(vm, args)\n      }\n    }\n    return vm\n  }\n}\n\n/*  */\n\nvar uid = 0\n\nfunction initMixin (Vue) {\n  Vue.prototype._init = function (options) {\n    var vm = this\n    // a uid\n    vm._uid = uid++\n    // a flag to avoid this being observed\n    vm._isVue = true\n    // merge options\n    if (options && options._isComponent) {\n      // optimize internal component instantiation\n      // since dynamic options merging is pretty slow, and none of the\n      // internal component options needs special treatment.\n      initInternalComponent(vm, options)\n    } else {\n      vm.$options = mergeOptions(\n        resolveConstructorOptions(vm),\n        options || {},\n        vm\n      )\n    }\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      initProxy(vm)\n    } else {\n      vm._renderProxy = vm\n    }\n    // expose real self\n    vm._self = vm\n    initLifecycle(vm)\n    initEvents(vm)\n    callHook(vm, 'beforeCreate')\n    initState(vm)\n    callHook(vm, 'created')\n    initRender(vm)\n  }\n\n  function initInternalComponent (vm, options) {\n    var opts = vm.$options = Object.create(resolveConstructorOptions(vm))\n    // doing this because it's faster than dynamic enumeration.\n    opts.parent = options.parent\n    opts.propsData = options.propsData\n    opts._parentVnode = options._parentVnode\n    opts._parentListeners = options._parentListeners\n    opts._renderChildren = options._renderChildren\n    opts._componentTag = options._componentTag\n    if (options.render) {\n      opts.render = options.render\n      opts.staticRenderFns = options.staticRenderFns\n    }\n  }\n\n  function resolveConstructorOptions (vm) {\n    var Ctor = vm.constructor\n    var options = Ctor.options\n    if (Ctor.super) {\n      var superOptions = Ctor.super.options\n      var cachedSuperOptions = Ctor.superOptions\n      if (superOptions !== cachedSuperOptions) {\n        // super option changed\n        Ctor.superOptions = superOptions\n        options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions)\n        if (options.name) {\n          options.components[options.name] = Ctor\n        }\n      }\n    }\n    return options\n  }\n}\n\nfunction Vue (options) {\n  this._init(options)\n}\n\ninitMixin(Vue)\nstateMixin(Vue)\neventsMixin(Vue)\nlifecycleMixin(Vue)\nrenderMixin(Vue)\n\nvar warn\nvar formatComponentName\n\nif (process.env.NODE_ENV !== 'production') {\n  var hasConsole = typeof console !== 'undefined'\n\n  warn = function (msg, vm) {\n    if (hasConsole && (!config.silent)) {\n      console.error(\"[Vue warn]: \" + msg + \" \" + (\n        vm ? formatLocation(formatComponentName(vm)) : ''\n      ))\n    }\n  }\n\n  formatComponentName = function (vm) {\n    if (vm.$root === vm) {\n      return 'root instance'\n    }\n    var name = vm._isVue\n      ? vm.$options.name || vm.$options._componentTag\n      : vm.name\n    return name ? (\"component <\" + name + \">\") : \"anonymous component\"\n  }\n\n  var formatLocation = function (str) {\n    if (str === 'anonymous component') {\n      str += \" - use the \\\"name\\\" option for better debugging messages.\"\n    }\n    return (\"(found in \" + str + \")\")\n  }\n}\n\n/*  */\n\n/**\n * Option overwriting strategies are functions that handle\n * how to merge a parent option value and a child option\n * value into the final value.\n */\nvar strats = config.optionMergeStrategies\n\n/**\n * Options with restrictions\n */\nif (process.env.NODE_ENV !== 'production') {\n  strats.el = strats.propsData = function (parent, child, vm, key) {\n    if (!vm) {\n      warn(\n        \"option \\\"\" + key + \"\\\" can only be used during instance \" +\n        'creation with the `new` keyword.'\n      )\n    }\n    return defaultStrat(parent, child)\n  }\n\n  strats.name = function (parent, child, vm) {\n    if (vm && child) {\n      warn(\n        'options \"name\" can only be used as a component definition option, ' +\n        'not during instance creation.'\n      )\n    }\n    return defaultStrat(parent, child)\n  }\n}\n\n/**\n * Helper that recursively merges two data objects together.\n */\nfunction mergeData (to, from) {\n  var key, toVal, fromVal\n  for (key in from) {\n    toVal = to[key]\n    fromVal = from[key]\n    if (!hasOwn(to, key)) {\n      set(to, key, fromVal)\n    } else if (isObject(toVal) && isObject(fromVal)) {\n      mergeData(toVal, fromVal)\n    }\n  }\n  return to\n}\n\n/**\n * Data\n */\nstrats.data = function (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    // in a Vue.extend merge, both should be functions\n    if (!childVal) {\n      return parentVal\n    }\n    if (typeof childVal !== 'function') {\n      process.env.NODE_ENV !== 'production' && warn(\n        'The \"data\" option should be a function ' +\n        'that returns a per-instance value in component ' +\n        'definitions.',\n        vm\n      )\n      return parentVal\n    }\n    if (!parentVal) {\n      return childVal\n    }\n    // when parentVal & childVal are both present,\n    // we need to return a function that returns the\n    // merged result of both functions... no need to\n    // check if parentVal is a function here because\n    // it has to be a function to pass previous merges.\n    return function mergedDataFn () {\n      return mergeData(\n        childVal.call(this),\n        parentVal.call(this)\n      )\n    }\n  } else if (parentVal || childVal) {\n    return function mergedInstanceDataFn () {\n      // instance merge\n      var instanceData = typeof childVal === 'function'\n        ? childVal.call(vm)\n        : childVal\n      var defaultData = typeof parentVal === 'function'\n        ? parentVal.call(vm)\n        : undefined\n      if (instanceData) {\n        return mergeData(instanceData, defaultData)\n      } else {\n        return defaultData\n      }\n    }\n  }\n}\n\n/**\n * Hooks and param attributes are merged as arrays.\n */\nfunction mergeHook (\n  parentVal,\n  childVal\n) {\n  return childVal\n    ? parentVal\n      ? parentVal.concat(childVal)\n      : Array.isArray(childVal)\n        ? childVal\n        : [childVal]\n    : parentVal\n}\n\nconfig._lifecycleHooks.forEach(function (hook) {\n  strats[hook] = mergeHook\n})\n\n/**\n * Assets\n *\n * When a vm is present (instance creation), we need to do\n * a three-way merge between constructor options, instance\n * options and parent options.\n */\nfunction mergeAssets (parentVal, childVal) {\n  var res = Object.create(parentVal || null)\n  return childVal\n    ? extend(res, childVal)\n    : res\n}\n\nconfig._assetTypes.forEach(function (type) {\n  strats[type + 's'] = mergeAssets\n})\n\n/**\n * Watchers.\n *\n * Watchers hashes should not overwrite one\n * another, so we merge them as arrays.\n */\nstrats.watch = function (parentVal, childVal) {\n  /* istanbul ignore if */\n  if (!childVal) return parentVal\n  if (!parentVal) return childVal\n  var ret = {}\n  extend(ret, parentVal)\n  for (var key in childVal) {\n    var parent = ret[key]\n    var child = childVal[key]\n    if (parent && !Array.isArray(parent)) {\n      parent = [parent]\n    }\n    ret[key] = parent\n      ? parent.concat(child)\n      : [child]\n  }\n  return ret\n}\n\n/**\n * Other object hashes.\n */\nstrats.props =\nstrats.methods =\nstrats.computed = function (parentVal, childVal) {\n  if (!childVal) return parentVal\n  if (!parentVal) return childVal\n  var ret = Object.create(null)\n  extend(ret, parentVal)\n  extend(ret, childVal)\n  return ret\n}\n\n/**\n * Default strategy.\n */\nvar defaultStrat = function (parentVal, childVal) {\n  return childVal === undefined\n    ? parentVal\n    : childVal\n}\n\n/**\n * Make sure component options get converted to actual\n * constructors.\n */\nfunction normalizeComponents (options) {\n  if (options.components) {\n    var components = options.components\n    var def\n    for (var key in components) {\n      var lower = key.toLowerCase()\n      if (isBuiltInTag(lower) || config.isReservedTag(lower)) {\n        process.env.NODE_ENV !== 'production' && warn(\n          'Do not use built-in or reserved HTML elements as component ' +\n          'id: ' + key\n        )\n        continue\n      }\n      def = components[key]\n      if (isPlainObject(def)) {\n        components[key] = Vue.extend(def)\n      }\n    }\n  }\n}\n\n/**\n * Ensure all props option syntax are normalized into the\n * Object-based format.\n */\nfunction normalizeProps (options) {\n  var props = options.props\n  if (!props) return\n  var res = {}\n  var i, val, name\n  if (Array.isArray(props)) {\n    i = props.length\n    while (i--) {\n      val = props[i]\n      if (typeof val === 'string') {\n        name = camelize(val)\n        res[name] = { type: null }\n      } else if (process.env.NODE_ENV !== 'production') {\n        warn('props must be strings when using array syntax.')\n      }\n    }\n  } else if (isPlainObject(props)) {\n    for (var key in props) {\n      val = props[key]\n      name = camelize(key)\n      res[name] = isPlainObject(val)\n        ? val\n        : { type: val }\n    }\n  }\n  options.props = res\n}\n\n/**\n * Normalize raw function directives into object format.\n */\nfunction normalizeDirectives (options) {\n  var dirs = options.directives\n  if (dirs) {\n    for (var key in dirs) {\n      var def = dirs[key]\n      if (typeof def === 'function') {\n        dirs[key] = { bind: def, update: def }\n      }\n    }\n  }\n}\n\n/**\n * Merge two option objects into a new one.\n * Core utility used in both instantiation and inheritance.\n */\nfunction mergeOptions (\n  parent,\n  child,\n  vm\n) {\n  normalizeComponents(child)\n  normalizeProps(child)\n  normalizeDirectives(child)\n  var extendsFrom = child.extends\n  if (extendsFrom) {\n    parent = typeof extendsFrom === 'function'\n      ? mergeOptions(parent, extendsFrom.options, vm)\n      : mergeOptions(parent, extendsFrom, vm)\n  }\n  if (child.mixins) {\n    for (var i = 0, l = child.mixins.length; i < l; i++) {\n      var mixin = child.mixins[i]\n      if (mixin.prototype instanceof Vue) {\n        mixin = mixin.options\n      }\n      parent = mergeOptions(parent, mixin, vm)\n    }\n  }\n  var options = {}\n  var key\n  for (key in parent) {\n    mergeField(key)\n  }\n  for (key in child) {\n    if (!hasOwn(parent, key)) {\n      mergeField(key)\n    }\n  }\n  function mergeField (key) {\n    var strat = strats[key] || defaultStrat\n    options[key] = strat(parent[key], child[key], vm, key)\n  }\n  return options\n}\n\n/**\n * Resolve an asset.\n * This function is used because child instances need access\n * to assets defined in its ancestor chain.\n */\nfunction resolveAsset (\n  options,\n  type,\n  id,\n  warnMissing\n) {\n  /* istanbul ignore if */\n  if (typeof id !== 'string') {\n    return\n  }\n  var assets = options[type]\n  var res = assets[id] ||\n    // camelCase ID\n    assets[camelize(id)] ||\n    // Pascal Case ID\n    assets[capitalize(camelize(id))]\n  if (process.env.NODE_ENV !== 'production' && warnMissing && !res) {\n    warn(\n      'Failed to resolve ' + type.slice(0, -1) + ': ' + id,\n      options\n    )\n  }\n  return res\n}\n\n/*  */\n\nfunction validateProp (\n  key,\n  propOptions,\n  propsData,\n  vm\n) {\n  /* istanbul ignore if */\n  if (!propsData) return\n  var prop = propOptions[key]\n  var absent = !hasOwn(propsData, key)\n  var value = propsData[key]\n  // handle boolean props\n  if (getType(prop.type) === 'Boolean') {\n    if (absent && !hasOwn(prop, 'default')) {\n      value = false\n    } else if (value === '' || value === hyphenate(key)) {\n      value = true\n    }\n  }\n  // check default value\n  if (value === undefined) {\n    value = getPropDefaultValue(vm, prop, key)\n    // since the default value is a fresh copy,\n    // make sure to observe it.\n    var prevShouldConvert = observerState.shouldConvert\n    observerState.shouldConvert = true\n    observe(value)\n    observerState.shouldConvert = prevShouldConvert\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    assertProp(prop, key, value, vm, absent)\n  }\n  return value\n}\n\n/**\n * Get the default value of a prop.\n */\nfunction getPropDefaultValue (vm, prop, name) {\n  // no default, return undefined\n  if (!hasOwn(prop, 'default')) {\n    return undefined\n  }\n  var def = prop.default\n  // warn against non-factory defaults for Object & Array\n  if (isObject(def)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Invalid default value for prop \"' + name + '\": ' +\n      'Props with type Object/Array must use a factory function ' +\n      'to return the default value.',\n      vm\n    )\n  }\n  // call factory function for non-Function types\n  return typeof def === 'function' && prop.type !== Function\n    ? def.call(vm)\n    : def\n}\n\n/**\n * Assert whether a prop is valid.\n */\nfunction assertProp (\n  prop,\n  name,\n  value,\n  vm,\n  absent\n) {\n  if (prop.required && absent) {\n    warn(\n      'Missing required prop: \"' + name + '\"',\n      vm\n    )\n    return\n  }\n  if (value == null && !prop.required) {\n    return\n  }\n  var type = prop.type\n  var valid = !type || type === true\n  var expectedTypes = []\n  if (type) {\n    if (!Array.isArray(type)) {\n      type = [type]\n    }\n    for (var i = 0; i < type.length && !valid; i++) {\n      var assertedType = assertType(value, type[i])\n      expectedTypes.push(assertedType.expectedType)\n      valid = assertedType.valid\n    }\n  }\n  if (!valid) {\n    warn(\n      'Invalid prop: type check failed for prop \"' + name + '\".' +\n      ' Expected ' + expectedTypes.map(capitalize).join(', ') +\n      ', got ' + Object.prototype.toString.call(value).slice(8, -1) + '.',\n      vm\n    )\n    return\n  }\n  var validator = prop.validator\n  if (validator) {\n    if (!validator(value)) {\n      warn(\n        'Invalid prop: custom validator check failed for prop \"' + name + '\".',\n        vm\n      )\n    }\n  }\n}\n\n/**\n * Assert the type of a value\n */\nfunction assertType (value, type) {\n  var valid\n  var expectedType = getType(type)\n  if (expectedType === 'String') {\n    valid = typeof value === (expectedType = 'string')\n  } else if (expectedType === 'Number') {\n    valid = typeof value === (expectedType = 'number')\n  } else if (expectedType === 'Boolean') {\n    valid = typeof value === (expectedType = 'boolean')\n  } else if (expectedType === 'Function') {\n    valid = typeof value === (expectedType = 'function')\n  } else if (expectedType === 'Object') {\n    valid = isPlainObject(value)\n  } else if (expectedType === 'Array') {\n    valid = Array.isArray(value)\n  } else {\n    valid = value instanceof type\n  }\n  return {\n    valid: valid,\n    expectedType: expectedType\n  }\n}\n\n/**\n * Use function string name to check built-in types,\n * because a simple equality check will fail when running\n * across different vms / iframes.\n */\nfunction getType (fn) {\n  var match = fn && fn.toString().match(/^\\s*function (\\w+)/)\n  return match && match[1]\n}\n\n\n\nvar util = Object.freeze({\n\tdefineReactive: defineReactive,\n\t_toString: _toString,\n\ttoNumber: toNumber,\n\tmakeMap: makeMap,\n\tisBuiltInTag: isBuiltInTag,\n\tremove: remove,\n\thasOwn: hasOwn,\n\tisPrimitive: isPrimitive,\n\tcached: cached,\n\tcamelize: camelize,\n\tcapitalize: capitalize,\n\thyphenate: hyphenate,\n\tbind: bind,\n\ttoArray: toArray,\n\textend: extend,\n\tisObject: isObject,\n\tisPlainObject: isPlainObject,\n\ttoObject: toObject,\n\tnoop: noop,\n\tno: no,\n\tgenStaticKeys: genStaticKeys,\n\tisReserved: isReserved,\n\tdef: def,\n\tparsePath: parsePath,\n\thasProto: hasProto,\n\tinBrowser: inBrowser,\n\tdevtools: devtools,\n\tUA: UA,\n\tnextTick: nextTick,\n\tget _Set () { return _Set; },\n\tmergeOptions: mergeOptions,\n\tresolveAsset: resolveAsset,\n\tget warn () { return warn; },\n\tget formatComponentName () { return formatComponentName; },\n\tvalidateProp: validateProp\n});\n\n/*  */\n\nfunction initUse (Vue) {\n  Vue.use = function (plugin) {\n    /* istanbul ignore if */\n    if (plugin.installed) {\n      return\n    }\n    // additional parameters\n    var args = toArray(arguments, 1)\n    args.unshift(this)\n    if (typeof plugin.install === 'function') {\n      plugin.install.apply(plugin, args)\n    } else {\n      plugin.apply(null, args)\n    }\n    plugin.installed = true\n    return this\n  }\n}\n\n/*  */\n\nfunction initMixin$1 (Vue) {\n  Vue.mixin = function (mixin) {\n    Vue.options = mergeOptions(Vue.options, mixin)\n  }\n}\n\n/*  */\n\nfunction initExtend (Vue) {\n  /**\n   * Each instance constructor, including Vue, has a unique\n   * cid. This enables us to create wrapped \"child\n   * constructors\" for prototypal inheritance and cache them.\n   */\n  Vue.cid = 0\n  var cid = 1\n\n  /**\n   * Class inheritance\n   */\n  Vue.extend = function (extendOptions) {\n    extendOptions = extendOptions || {}\n    var Super = this\n    var isFirstExtend = Super.cid === 0\n    if (isFirstExtend && extendOptions._Ctor) {\n      return extendOptions._Ctor\n    }\n    var name = extendOptions.name || Super.options.name\n    if (process.env.NODE_ENV !== 'production') {\n      if (!/^[a-zA-Z][\\w-]*$/.test(name)) {\n        warn(\n          'Invalid component name: \"' + name + '\". Component names ' +\n          'can only contain alphanumeric characaters and the hyphen.'\n        )\n        name = null\n      }\n    }\n    var Sub = function VueComponent (options) {\n      this._init(options)\n    }\n    Sub.prototype = Object.create(Super.prototype)\n    Sub.prototype.constructor = Sub\n    Sub.cid = cid++\n    Sub.options = mergeOptions(\n      Super.options,\n      extendOptions\n    )\n    Sub['super'] = Super\n    // allow further extension\n    Sub.extend = Super.extend\n    // create asset registers, so extended classes\n    // can have their private assets too.\n    config._assetTypes.forEach(function (type) {\n      Sub[type] = Super[type]\n    })\n    // enable recursive self-lookup\n    if (name) {\n      Sub.options.components[name] = Sub\n    }\n    // keep a reference to the super options at extension time.\n    // later at instantiation we can check if Super's options have\n    // been updated.\n    Sub.superOptions = Super.options\n    Sub.extendOptions = extendOptions\n    // cache constructor\n    if (isFirstExtend) {\n      extendOptions._Ctor = Sub\n    }\n    return Sub\n  }\n}\n\n/*  */\n\nfunction initAssetRegisters (Vue) {\n  /**\n   * Create asset registration methods.\n   */\n  config._assetTypes.forEach(function (type) {\n    Vue[type] = function (\n      id,\n      definition\n    ) {\n      if (!definition) {\n        return this.options[type + 's'][id]\n      } else {\n        /* istanbul ignore if */\n        if (process.env.NODE_ENV !== 'production') {\n          if (type === 'component' && config.isReservedTag(id)) {\n            warn(\n              'Do not use built-in or reserved HTML elements as component ' +\n              'id: ' + id\n            )\n          }\n        }\n        if (type === 'component' && isPlainObject(definition)) {\n          definition.name = definition.name || id\n          definition = Vue.extend(definition)\n        }\n        if (type === 'directive' && typeof definition === 'function') {\n          definition = { bind: definition, update: definition }\n        }\n        this.options[type + 's'][id] = definition\n        return definition\n      }\n    }\n  })\n}\n\nvar KeepAlive = {\n  name: 'keep-alive',\n  abstract: true,\n  created: function created () {\n    this.cache = Object.create(null)\n  },\n  render: function render () {\n    var vnode = getFirstComponentChild(this.$slots.default)\n    if (vnode && vnode.componentOptions) {\n      var opts = vnode.componentOptions\n      var key = vnode.key == null\n        // same constructor may get registered as different local components\n        // so cid alone is not enough (#3269)\n        ? opts.Ctor.cid + '::' + opts.tag\n        : vnode.key\n      if (this.cache[key]) {\n        vnode.child = this.cache[key].child\n      } else {\n        this.cache[key] = vnode\n      }\n      vnode.data.keepAlive = true\n    }\n    return vnode\n  },\n  destroyed: function destroyed () {\n    var this$1 = this;\n\n    for (var key in this.cache) {\n      var vnode = this$1.cache[key]\n      callHook(vnode.child, 'deactivated')\n      vnode.child.$destroy()\n    }\n  }\n}\n\nvar builtInComponents = {\n  KeepAlive: KeepAlive\n}\n\n/*  */\n\nfunction initGlobalAPI (Vue) {\n  // config\n  var configDef = {}\n  configDef.get = function () { return config; }\n  if (process.env.NODE_ENV !== 'production') {\n    configDef.set = function () {\n      warn(\n        'Do not replace the Vue.config object, set individual fields instead.'\n      )\n    }\n  }\n  Object.defineProperty(Vue, 'config', configDef)\n  Vue.util = util\n  Vue.set = set\n  Vue.delete = del\n  Vue.nextTick = nextTick\n\n  Vue.options = Object.create(null)\n  config._assetTypes.forEach(function (type) {\n    Vue.options[type + 's'] = Object.create(null)\n  })\n\n  extend(Vue.options.components, builtInComponents)\n\n  initUse(Vue)\n  initMixin$1(Vue)\n  initExtend(Vue)\n  initAssetRegisters(Vue)\n}\n\ninitGlobalAPI(Vue)\n\nObject.defineProperty(Vue.prototype, '$isServer', {\n  get: function () { return config._isServer; }\n})\n\nVue.version = '2.0.0-rc.6'\n\n/*  */\n\n// attributes that should be using props for binding\nvar mustUseProp = makeMap('value,selected,checked,muted')\n\nvar isEnumeratedAttr = makeMap('contenteditable,draggable,spellcheck')\n\nvar isBooleanAttr = makeMap(\n  'allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,' +\n  'default,defaultchecked,defaultmuted,defaultselected,defer,disabled,' +\n  'enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,' +\n  'muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,' +\n  'required,reversed,scoped,seamless,selected,sortable,translate,' +\n  'truespeed,typemustmatch,visible'\n)\n\nvar isAttr = makeMap(\n  'accept,accept-charset,accesskey,action,align,alt,async,autocomplete,' +\n  'autofocus,autoplay,autosave,bgcolor,border,buffered,challenge,charset,' +\n  'checked,cite,class,code,codebase,color,cols,colspan,content,http-equiv,' +\n  'name,contenteditable,contextmenu,controls,coords,data,datetime,default,' +\n  'defer,dir,dirname,disabled,download,draggable,dropzone,enctype,method,for,' +\n  'form,formaction,headers,<th>,height,hidden,high,href,hreflang,http-equiv,' +\n  'icon,id,ismap,itemprop,keytype,kind,label,lang,language,list,loop,low,' +\n  'manifest,max,maxlength,media,method,GET,POST,min,multiple,email,file,' +\n  'muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,' +\n  'preload,radiogroup,readonly,rel,required,reversed,rows,rowspan,sandbox,' +\n  'scope,scoped,seamless,selected,shape,size,type,text,password,sizes,span,' +\n  'spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,' +\n  'target,title,type,usemap,value,width,wrap'\n)\n\nvar xlinkNS = 'http://www.w3.org/1999/xlink'\n\nvar isXlink = function (name) {\n  return name.charAt(5) === ':' && name.slice(0, 5) === 'xlink'\n}\n\nvar getXlinkProp = function (name) {\n  return isXlink(name) ? name.slice(6, name.length) : ''\n}\n\nvar isFalsyAttrValue = function (val) {\n  return val == null || val === false\n}\n\n/*  */\n\nfunction genClassForVnode (vnode) {\n  var data = vnode.data\n  var parentNode = vnode\n  var childNode = vnode\n  while (childNode.child) {\n    childNode = childNode.child._vnode\n    if (childNode.data) {\n      data = mergeClassData(childNode.data, data)\n    }\n  }\n  while ((parentNode = parentNode.parent)) {\n    if (parentNode.data) {\n      data = mergeClassData(data, parentNode.data)\n    }\n  }\n  return genClassFromData(data)\n}\n\nfunction mergeClassData (child, parent) {\n  return {\n    staticClass: concat(child.staticClass, parent.staticClass),\n    class: child.class\n      ? [child.class, parent.class]\n      : parent.class\n  }\n}\n\nfunction genClassFromData (data) {\n  var dynamicClass = data.class\n  var staticClass = data.staticClass\n  if (staticClass || dynamicClass) {\n    return concat(staticClass, stringifyClass(dynamicClass))\n  }\n  /* istanbul ignore next */\n  return ''\n}\n\nfunction concat (a, b) {\n  return a ? b ? (a + ' ' + b) : a : (b || '')\n}\n\nfunction stringifyClass (value) {\n  var res = ''\n  if (!value) {\n    return res\n  }\n  if (typeof value === 'string') {\n    return value\n  }\n  if (Array.isArray(value)) {\n    var stringified\n    for (var i = 0, l = value.length; i < l; i++) {\n      if (value[i]) {\n        if ((stringified = stringifyClass(value[i]))) {\n          res += stringified + ' '\n        }\n      }\n    }\n    return res.slice(0, -1)\n  }\n  if (isObject(value)) {\n    for (var key in value) {\n      if (value[key]) res += key + ' '\n    }\n    return res.slice(0, -1)\n  }\n  /* istanbul ignore next */\n  return res\n}\n\n/*  */\n\nvar namespaceMap = {\n  svg: 'http://www.w3.org/2000/svg',\n  math: 'http://www.w3.org/1998/Math/MathML'\n}\n\nvar isHTMLTag = makeMap(\n  'html,body,base,head,link,meta,style,title,' +\n  'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\n  'div,dd,dl,dt,figcaption,figure,hr,img,li,main,ol,p,pre,ul,' +\n  'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' +\n  's,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' +\n  'embed,object,param,source,canvas,script,noscript,del,ins,' +\n  'caption,col,colgroup,table,thead,tbody,td,th,tr,' +\n  'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' +\n  'output,progress,select,textarea,' +\n  'details,dialog,menu,menuitem,summary,' +\n  'content,element,shadow,template'\n)\n\nvar isUnaryTag = makeMap(\n  'area,base,br,col,embed,frame,hr,img,input,isindex,keygen,' +\n  'link,meta,param,source,track,wbr',\n  true\n)\n\n// Elements that you can, intentionally, leave open\n// (and which close themselves)\nvar canBeLeftOpenTag = makeMap(\n  'colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source',\n  true\n)\n\n// HTML5 tags https://html.spec.whatwg.org/multipage/indices.html#elements-3\n// Phrasing Content https://html.spec.whatwg.org/multipage/dom.html#phrasing-content\nvar isNonPhrasingTag = makeMap(\n  'address,article,aside,base,blockquote,body,caption,col,colgroup,dd,' +\n  'details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,' +\n  'h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,' +\n  'optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,' +\n  'title,tr,track',\n  true\n)\n\n// this map is intentionally selective, only covering SVG elements that may\n// contain child elements.\nvar isSVG = makeMap(\n  'svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font,' +\n  'font-face,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,' +\n  'polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view',\n  true\n)\n\nvar isReservedTag = function (tag) {\n  return isHTMLTag(tag) || isSVG(tag)\n}\n\nfunction getTagNamespace (tag) {\n  if (isSVG(tag)) {\n    return 'svg'\n  }\n  // basic support for MathML\n  // note it doesn't support other MathML elements being component roots\n  if (tag === 'math') {\n    return 'math'\n  }\n}\n\nvar unknownElementCache = Object.create(null)\nfunction isUnknownElement (tag) {\n  /* istanbul ignore if */\n  if (!inBrowser) {\n    return true\n  }\n  if (isReservedTag(tag)) {\n    return false\n  }\n  tag = tag.toLowerCase()\n  /* istanbul ignore if */\n  if (unknownElementCache[tag] != null) {\n    return unknownElementCache[tag]\n  }\n  var el = document.createElement(tag)\n  if (tag.indexOf('-') > -1) {\n    // http://stackoverflow.com/a/28210364/1070244\n    return (unknownElementCache[tag] = (\n      el.constructor === window.HTMLUnknownElement ||\n      el.constructor === window.HTMLElement\n    ))\n  } else {\n    return (unknownElementCache[tag] = /HTMLUnknownElement/.test(el.toString()))\n  }\n}\n\n/*  */\n\nvar UA$1 = inBrowser && window.navigator.userAgent.toLowerCase()\nvar isIE = UA$1 && /msie|trident/.test(UA$1)\nvar isIE9 = UA$1 && UA$1.indexOf('msie 9.0') > 0\nvar isAndroid = UA$1 && UA$1.indexOf('android') > 0\n\n/**\n * Query an element selector if it's not an element already.\n */\nfunction query (el) {\n  if (typeof el === 'string') {\n    var selector = el\n    el = document.querySelector(el)\n    if (!el) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'Cannot find element: ' + selector\n      )\n      return document.createElement('div')\n    }\n  }\n  return el\n}\n\n/*  */\n\nfunction createElement$1 (tagName) {\n  return document.createElement(tagName)\n}\n\nfunction createElementNS (namespace, tagName) {\n  return document.createElementNS(namespaceMap[namespace], tagName)\n}\n\nfunction createTextNode (text) {\n  return document.createTextNode(text)\n}\n\nfunction createComment (text) {\n  return document.createComment(text)\n}\n\nfunction insertBefore (parentNode, newNode, referenceNode) {\n  parentNode.insertBefore(newNode, referenceNode)\n}\n\nfunction removeChild (node, child) {\n  node.removeChild(child)\n}\n\nfunction appendChild (node, child) {\n  node.appendChild(child)\n}\n\nfunction parentNode (node) {\n  return node.parentNode\n}\n\nfunction nextSibling (node) {\n  return node.nextSibling\n}\n\nfunction tagName (node) {\n  return node.tagName\n}\n\nfunction setTextContent (node, text) {\n  node.textContent = text\n}\n\nfunction childNodes (node) {\n  return node.childNodes\n}\n\nfunction setAttribute (node, key, val) {\n  node.setAttribute(key, val)\n}\n\n\nvar nodeOps = Object.freeze({\n  createElement: createElement$1,\n  createElementNS: createElementNS,\n  createTextNode: createTextNode,\n  createComment: createComment,\n  insertBefore: insertBefore,\n  removeChild: removeChild,\n  appendChild: appendChild,\n  parentNode: parentNode,\n  nextSibling: nextSibling,\n  tagName: tagName,\n  setTextContent: setTextContent,\n  childNodes: childNodes,\n  setAttribute: setAttribute\n});\n\n/*  */\n\nvar ref = {\n  create: function create (_, vnode) {\n    registerRef(vnode)\n  },\n  update: function update (oldVnode, vnode) {\n    if (oldVnode.data.ref !== vnode.data.ref) {\n      registerRef(oldVnode, true)\n      registerRef(vnode)\n    }\n  },\n  destroy: function destroy (vnode) {\n    registerRef(vnode, true)\n  }\n}\n\nfunction registerRef (vnode, isRemoval) {\n  var key = vnode.data.ref\n  if (!key) return\n\n  var vm = vnode.context\n  var ref = vnode.child || vnode.elm\n  var refs = vm.$refs\n  if (isRemoval) {\n    if (Array.isArray(refs[key])) {\n      remove(refs[key], ref)\n    } else if (refs[key] === ref) {\n      refs[key] = undefined\n    }\n  } else {\n    if (vnode.data.refInFor) {\n      if (Array.isArray(refs[key])) {\n        refs[key].push(ref)\n      } else {\n        refs[key] = [ref]\n      }\n    } else {\n      refs[key] = ref\n    }\n  }\n}\n\n/**\n * Virtual DOM patching algorithm based on Snabbdom by\n * Simon Friis Vindum (@paldepind)\n * Licensed under the MIT License\n * https://github.com/paldepind/snabbdom/blob/master/LICENSE\n *\n * modified by Evan You (@yyx990803)\n *\n\n/*\n * Not type-checking this because this file is perf-critical and the cost\n * of making flow understand it is not worth it.\n */\n\nvar emptyData = {}\nvar emptyNode = new VNode('', emptyData, [])\nvar hooks$1 = ['create', 'update', 'postpatch', 'remove', 'destroy']\n\nfunction isUndef (s) {\n  return s == null\n}\n\nfunction isDef (s) {\n  return s != null\n}\n\nfunction sameVnode (vnode1, vnode2) {\n  return (\n    vnode1.key === vnode2.key &&\n    vnode1.tag === vnode2.tag &&\n    vnode1.isComment === vnode2.isComment &&\n    !vnode1.data === !vnode2.data\n  )\n}\n\nfunction createKeyToOldIdx (children, beginIdx, endIdx) {\n  var i, key\n  var map = {}\n  for (i = beginIdx; i <= endIdx; ++i) {\n    key = children[i].key\n    if (isDef(key)) map[key] = i\n  }\n  return map\n}\n\nfunction createPatchFunction (backend) {\n  var i, j\n  var cbs = {}\n\n  var modules = backend.modules;\n  var nodeOps = backend.nodeOps;\n\n  for (i = 0; i < hooks$1.length; ++i) {\n    cbs[hooks$1[i]] = []\n    for (j = 0; j < modules.length; ++j) {\n      if (modules[j][hooks$1[i]] !== undefined) cbs[hooks$1[i]].push(modules[j][hooks$1[i]])\n    }\n  }\n\n  function emptyNodeAt (elm) {\n    return new VNode(nodeOps.tagName(elm).toLowerCase(), {}, [], undefined, elm)\n  }\n\n  function createRmCb (childElm, listeners) {\n    function remove () {\n      if (--remove.listeners === 0) {\n        removeElement(childElm)\n      }\n    }\n    remove.listeners = listeners\n    return remove\n  }\n\n  function removeElement (el) {\n    var parent = nodeOps.parentNode(el)\n    nodeOps.removeChild(parent, el)\n  }\n\n  function createElm (vnode, insertedVnodeQueue, nested) {\n    var i\n    var data = vnode.data\n    vnode.isRootInsert = !nested\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) i(vnode)\n      // after calling the init hook, if the vnode is a child component\n      // it should've created a child instance and mounted it. the child\n      // component also has set the placeholder vnode's elm.\n      // in that case we can just return the element and be done.\n      if (isDef(i = vnode.child)) {\n        initComponent(vnode, insertedVnodeQueue)\n        return vnode.elm\n      }\n    }\n    var children = vnode.children\n    var tag = vnode.tag\n    if (isDef(tag)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (\n          !vnode.ns &&\n          !(config.ignoredElements && config.ignoredElements.indexOf(tag) > -1) &&\n          config.isUnknownElement(tag)\n        ) {\n          warn(\n            'Unknown custom element: <' + tag + '> - did you ' +\n            'register the component correctly? For recursive components, ' +\n            'make sure to provide the \"name\" option.',\n            vnode.context\n          )\n        }\n      }\n      vnode.elm = vnode.ns\n        ? nodeOps.createElementNS(vnode.ns, tag)\n        : nodeOps.createElement(tag)\n      setScope(vnode)\n      createChildren(vnode, children, insertedVnodeQueue)\n      if (isDef(data)) {\n        invokeCreateHooks(vnode, insertedVnodeQueue)\n      }\n    } else if (vnode.isComment) {\n      vnode.elm = nodeOps.createComment(vnode.text)\n    } else {\n      vnode.elm = nodeOps.createTextNode(vnode.text)\n    }\n    return vnode.elm\n  }\n\n  function createChildren (vnode, children, insertedVnodeQueue) {\n    if (Array.isArray(children)) {\n      for (var i = 0; i < children.length; ++i) {\n        nodeOps.appendChild(vnode.elm, createElm(children[i], insertedVnodeQueue, true))\n      }\n    } else if (isPrimitive(vnode.text)) {\n      nodeOps.appendChild(vnode.elm, nodeOps.createTextNode(vnode.text))\n    }\n  }\n\n  function isPatchable (vnode) {\n    while (vnode.child) {\n      vnode = vnode.child._vnode\n    }\n    return isDef(vnode.tag)\n  }\n\n  function invokeCreateHooks (vnode, insertedVnodeQueue) {\n    for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {\n      cbs.create[i$1](emptyNode, vnode)\n    }\n    i = vnode.data.hook // Reuse variable\n    if (isDef(i)) {\n      if (i.create) i.create(emptyNode, vnode)\n      if (i.insert) insertedVnodeQueue.push(vnode)\n    }\n  }\n\n  function initComponent (vnode, insertedVnodeQueue) {\n    if (vnode.data.pendingInsert) {\n      insertedVnodeQueue.push.apply(insertedVnodeQueue, vnode.data.pendingInsert)\n    }\n    vnode.elm = vnode.child.$el\n    if (isPatchable(vnode)) {\n      invokeCreateHooks(vnode, insertedVnodeQueue)\n      setScope(vnode)\n    } else {\n      // empty component root.\n      // skip all element-related modules except for ref (#3455)\n      registerRef(vnode)\n      // make sure to invoke the insert hook\n      insertedVnodeQueue.push(vnode)\n    }\n  }\n\n  // set scope id attribute for scoped CSS.\n  // this is implemented as a special case to avoid the overhead\n  // of going through the normal attribute patching process.\n  function setScope (vnode) {\n    var i\n    if (isDef(i = vnode.context) && isDef(i = i.$options._scopeId)) {\n      nodeOps.setAttribute(vnode.elm, i, '')\n    }\n    if (isDef(i = activeInstance) &&\n        i !== vnode.context &&\n        isDef(i = i.$options._scopeId)) {\n      nodeOps.setAttribute(vnode.elm, i, '')\n    }\n  }\n\n  function addVnodes (parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      nodeOps.insertBefore(parentElm, createElm(vnodes[startIdx], insertedVnodeQueue), before)\n    }\n  }\n\n  function invokeDestroyHook (vnode) {\n    var i, j\n    var data = vnode.data\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) i(vnode)\n      for (i = 0; i < cbs.destroy.length; ++i) cbs.destroy[i](vnode)\n    }\n    if (isDef(i = vnode.child) && !data.keepAlive) {\n      invokeDestroyHook(i._vnode)\n    }\n    if (isDef(i = vnode.children)) {\n      for (j = 0; j < vnode.children.length; ++j) {\n        invokeDestroyHook(vnode.children[j])\n      }\n    }\n  }\n\n  function removeVnodes (parentElm, vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      var ch = vnodes[startIdx]\n      if (isDef(ch)) {\n        if (isDef(ch.tag)) {\n          removeAndInvokeRemoveHook(ch)\n          invokeDestroyHook(ch)\n        } else { // Text node\n          nodeOps.removeChild(parentElm, ch.elm)\n        }\n      }\n    }\n  }\n\n  function removeAndInvokeRemoveHook (vnode, rm) {\n    if (rm || isDef(vnode.data)) {\n      var listeners = cbs.remove.length + 1\n      if (!rm) {\n        // directly removing\n        rm = createRmCb(vnode.elm, listeners)\n      } else {\n        // we have a recursively passed down rm callback\n        // increase the listeners count\n        rm.listeners += listeners\n      }\n      // recursively invoke hooks on child component root node\n      if (isDef(i = vnode.child) && isDef(i = i._vnode) && isDef(i.data)) {\n        removeAndInvokeRemoveHook(i, rm)\n      }\n      for (i = 0; i < cbs.remove.length; ++i) {\n        cbs.remove[i](vnode, rm)\n      }\n      if (isDef(i = vnode.data.hook) && isDef(i = i.remove)) {\n        i(vnode, rm)\n      } else {\n        rm()\n      }\n    } else {\n      removeElement(vnode.elm)\n    }\n  }\n\n  function updateChildren (parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {\n    var oldStartIdx = 0\n    var newStartIdx = 0\n    var oldEndIdx = oldCh.length - 1\n    var oldStartVnode = oldCh[0]\n    var oldEndVnode = oldCh[oldEndIdx]\n    var newEndIdx = newCh.length - 1\n    var newStartVnode = newCh[0]\n    var newEndVnode = newCh[newEndIdx]\n    var oldKeyToIdx, idxInOld, elmToMove, before\n\n    // removeOnly is a special flag used only by <transition-group>\n    // to ensure removed elements stay in correct relative positions\n    // during leaving transitions\n    var canMove = !removeOnly\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (isUndef(oldStartVnode)) {\n        oldStartVnode = oldCh[++oldStartIdx] // Vnode has been moved left\n      } else if (isUndef(oldEndVnode)) {\n        oldEndVnode = oldCh[--oldEndIdx]\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue)\n        oldStartVnode = oldCh[++oldStartIdx]\n        newStartVnode = newCh[++newStartIdx]\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue)\n        oldEndVnode = oldCh[--oldEndIdx]\n        newEndVnode = newCh[--newEndIdx]\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue)\n        canMove && nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm))\n        oldStartVnode = oldCh[++oldStartIdx]\n        newEndVnode = newCh[--newEndIdx]\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue)\n        canMove && nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm)\n        oldEndVnode = oldCh[--oldEndIdx]\n        newStartVnode = newCh[++newStartIdx]\n      } else {\n        if (isUndef(oldKeyToIdx)) oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx)\n        idxInOld = isDef(newStartVnode.key) ? oldKeyToIdx[newStartVnode.key] : null\n        if (isUndef(idxInOld)) { // New element\n          nodeOps.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm)\n          newStartVnode = newCh[++newStartIdx]\n        } else {\n          elmToMove = oldCh[idxInOld]\n          /* istanbul ignore if */\n          if (process.env.NODE_ENV !== 'production' && !elmToMove) {\n            warn(\n              'It seems there are duplicate keys that is causing an update error. ' +\n              'Make sure each v-for item has a unique key.'\n            )\n          }\n          if (elmToMove.tag !== newStartVnode.tag) {\n            // same key but different element. treat as new element\n            nodeOps.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm)\n            newStartVnode = newCh[++newStartIdx]\n          } else {\n            patchVnode(elmToMove, newStartVnode, insertedVnodeQueue)\n            oldCh[idxInOld] = undefined\n            canMove && nodeOps.insertBefore(parentElm, newStartVnode.elm, oldStartVnode.elm)\n            newStartVnode = newCh[++newStartIdx]\n          }\n        }\n      }\n    }\n    if (oldStartIdx > oldEndIdx) {\n      before = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm\n      addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue)\n    } else if (newStartIdx > newEndIdx) {\n      removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx)\n    }\n  }\n\n  function patchVnode (oldVnode, vnode, insertedVnodeQueue, removeOnly) {\n    if (oldVnode === vnode) {\n      return\n    }\n    // reuse element for static trees.\n    // note we only do this if the vnode is cloned -\n    // if the new node is not cloned it means the render functions have been\n    // reset by the hot-reload-api and we need to do a proper re-render.\n    if (vnode.isStatic &&\n        oldVnode.isStatic &&\n        vnode.key === oldVnode.key &&\n        vnode.isCloned) {\n      vnode.elm = oldVnode.elm\n      return\n    }\n    var i, hook\n    var hasData = isDef(i = vnode.data)\n    if (hasData && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n      i(oldVnode, vnode)\n    }\n    var elm = vnode.elm = oldVnode.elm\n    var oldCh = oldVnode.children\n    var ch = vnode.children\n    if (hasData && isPatchable(vnode)) {\n      for (i = 0; i < cbs.update.length; ++i) cbs.update[i](oldVnode, vnode)\n      if (isDef(hook) && isDef(i = hook.update)) i(oldVnode, vnode)\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly)\n      } else if (isDef(ch)) {\n        if (isDef(oldVnode.text)) nodeOps.setTextContent(elm, '')\n        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue)\n      } else if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh, 0, oldCh.length - 1)\n      } else if (isDef(oldVnode.text)) {\n        nodeOps.setTextContent(elm, '')\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      nodeOps.setTextContent(elm, vnode.text)\n    }\n    if (hasData) {\n      for (i = 0; i < cbs.postpatch.length; ++i) cbs.postpatch[i](oldVnode, vnode)\n      if (isDef(hook) && isDef(i = hook.postpatch)) i(oldVnode, vnode)\n    }\n  }\n\n  function invokeInsertHook (vnode, queue, initial) {\n    // delay insert hooks for component root nodes, invoke them after the\n    // element is really inserted\n    if (initial && vnode.parent) {\n      vnode.parent.data.pendingInsert = queue\n    } else {\n      for (var i = 0; i < queue.length; ++i) {\n        queue[i].data.hook.insert(queue[i])\n      }\n    }\n  }\n\n  var bailed = false\n  function hydrate (elm, vnode, insertedVnodeQueue) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!assertNodeMatch(elm, vnode)) {\n        return false\n      }\n    }\n    vnode.elm = elm\n    var tag = vnode.tag;\n    var data = vnode.data;\n    var children = vnode.children;\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) i(vnode, true /* hydrating */)\n      if (isDef(i = vnode.child)) {\n        // child component. it should have hydrated its own tree.\n        initComponent(vnode, insertedVnodeQueue)\n        return true\n      }\n    }\n    if (isDef(tag)) {\n      if (isDef(children)) {\n        var childNodes = nodeOps.childNodes(elm)\n        // empty element, allow client to pick up and populate children\n        if (!childNodes.length) {\n          createChildren(vnode, children, insertedVnodeQueue)\n        } else {\n          var childrenMatch = true\n          if (childNodes.length !== children.length) {\n            childrenMatch = false\n          } else {\n            for (var i$1 = 0; i$1 < children.length; i$1++) {\n              if (!hydrate(childNodes[i$1], children[i$1], insertedVnodeQueue)) {\n                childrenMatch = false\n                break\n              }\n            }\n          }\n          if (!childrenMatch) {\n            if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !bailed) {\n              bailed = true\n              console.warn('Parent: ', elm)\n              console.warn('Mismatching childNodes vs. VNodes: ', childNodes, children)\n            }\n            return false\n          }\n        }\n      }\n      if (isDef(data)) {\n        invokeCreateHooks(vnode, insertedVnodeQueue)\n      }\n    }\n    return true\n  }\n\n  function assertNodeMatch (node, vnode) {\n    if (vnode.tag) {\n      return (\n        vnode.tag.indexOf('vue-component') === 0 ||\n        vnode.tag === nodeOps.tagName(node).toLowerCase()\n      )\n    } else {\n      return _toString(vnode.text) === node.data\n    }\n  }\n\n  return function patch (oldVnode, vnode, hydrating, removeOnly) {\n    var elm, parent\n    var isInitialPatch = false\n    var insertedVnodeQueue = []\n\n    if (!oldVnode) {\n      // empty mount, create new root element\n      isInitialPatch = true\n      createElm(vnode, insertedVnodeQueue)\n    } else {\n      var isRealElement = isDef(oldVnode.nodeType)\n      if (!isRealElement && sameVnode(oldVnode, vnode)) {\n        patchVnode(oldVnode, vnode, insertedVnodeQueue, removeOnly)\n      } else {\n        if (isRealElement) {\n          // mounting to a real element\n          // check if this is server-rendered content and if we can perform\n          // a successful hydration.\n          if (oldVnode.nodeType === 1 && oldVnode.hasAttribute('server-rendered')) {\n            oldVnode.removeAttribute('server-rendered')\n            hydrating = true\n          }\n          if (hydrating) {\n            if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {\n              invokeInsertHook(vnode, insertedVnodeQueue, true)\n              return oldVnode\n            } else if (process.env.NODE_ENV !== 'production') {\n              warn(\n                'The client-side rendered virtual DOM tree is not matching ' +\n                'server-rendered content. This is likely caused by incorrect ' +\n                'HTML markup, for example nesting block-level elements inside ' +\n                '<p>, or missing <tbody>. Bailing hydration and performing ' +\n                'full client-side render.'\n              )\n            }\n          }\n          // either not server-rendered, or hydration failed.\n          // create an empty node and replace it\n          oldVnode = emptyNodeAt(oldVnode)\n        }\n        elm = oldVnode.elm\n        parent = nodeOps.parentNode(elm)\n\n        createElm(vnode, insertedVnodeQueue)\n\n        // component root element replaced.\n        // update parent placeholder node element.\n        if (vnode.parent) {\n          vnode.parent.elm = vnode.elm\n          if (isPatchable(vnode)) {\n            for (var i = 0; i < cbs.create.length; ++i) {\n              cbs.create[i](emptyNode, vnode.parent)\n            }\n          }\n        }\n\n        if (parent !== null) {\n          nodeOps.insertBefore(parent, vnode.elm, nodeOps.nextSibling(elm))\n          removeVnodes(parent, [oldVnode], 0, 0)\n        } else if (isDef(oldVnode.tag)) {\n          invokeDestroyHook(oldVnode)\n        }\n      }\n    }\n\n    invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch)\n    return vnode.elm\n  }\n}\n\n/*  */\n\nvar directives = {\n  create: function bindDirectives (oldVnode, vnode) {\n    var hasInsert = false\n    forEachDirective(oldVnode, vnode, function (def, dir) {\n      callHook$1(def, dir, 'bind', vnode, oldVnode)\n      if (def.inserted) {\n        hasInsert = true\n      }\n    })\n    if (hasInsert) {\n      mergeVNodeHook(vnode.data.hook || (vnode.data.hook = {}), 'insert', function () {\n        applyDirectives(oldVnode, vnode, 'inserted')\n      })\n    }\n  },\n  update: function updateDirectives (oldVnode, vnode) {\n    applyDirectives(oldVnode, vnode, 'update')\n    // if old vnode has directives but new vnode doesn't\n    // we need to teardown the directives on the old one.\n    if (oldVnode.data.directives && !vnode.data.directives) {\n      applyDirectives(oldVnode, oldVnode, 'unbind')\n    }\n  },\n  postpatch: function postupdateDirectives (oldVnode, vnode) {\n    applyDirectives(oldVnode, vnode, 'componentUpdated')\n  },\n  destroy: function unbindDirectives (vnode) {\n    applyDirectives(vnode, vnode, 'unbind')\n  }\n}\n\nvar emptyModifiers = Object.create(null)\n\nfunction forEachDirective (\n  oldVnode,\n  vnode,\n  fn\n) {\n  var dirs = vnode.data.directives\n  if (dirs) {\n    for (var i = 0; i < dirs.length; i++) {\n      var dir = dirs[i]\n      var def = resolveAsset(vnode.context.$options, 'directives', dir.name, true)\n      if (def) {\n        var oldDirs = oldVnode && oldVnode.data.directives\n        if (oldDirs) {\n          dir.oldValue = oldDirs[i].value\n        }\n        if (!dir.modifiers) {\n          dir.modifiers = emptyModifiers\n        }\n        fn(def, dir)\n      }\n    }\n  }\n}\n\nfunction applyDirectives (\n  oldVnode,\n  vnode,\n  hook\n) {\n  forEachDirective(oldVnode, vnode, function (def, dir) {\n    callHook$1(def, dir, hook, vnode, oldVnode)\n  })\n}\n\nfunction callHook$1 (def, dir, hook, vnode, oldVnode) {\n  var fn = def && def[hook]\n  if (fn) {\n    fn(vnode.elm, dir, vnode, oldVnode)\n  }\n}\n\nvar baseModules = [\n  ref,\n  directives\n]\n\n/*  */\n\nfunction updateAttrs (oldVnode, vnode) {\n  if (!oldVnode.data.attrs && !vnode.data.attrs) {\n    return\n  }\n  var key, cur, old\n  var elm = vnode.elm\n  var oldAttrs = oldVnode.data.attrs || {}\n  var attrs = vnode.data.attrs || {}\n  // clone observed objects, as the user probably wants to mutate it\n  if (attrs.__ob__) {\n    attrs = vnode.data.attrs = extend({}, attrs)\n  }\n\n  for (key in attrs) {\n    cur = attrs[key]\n    old = oldAttrs[key]\n    if (old !== cur) {\n      setAttr(elm, key, cur)\n    }\n  }\n  for (key in oldAttrs) {\n    if (attrs[key] == null) {\n      if (isXlink(key)) {\n        elm.removeAttributeNS(xlinkNS, getXlinkProp(key))\n      } else if (!isEnumeratedAttr(key)) {\n        elm.removeAttribute(key)\n      }\n    }\n  }\n}\n\nfunction setAttr (el, key, value) {\n  if (isBooleanAttr(key)) {\n    // set attribute for blank value\n    // e.g. <option disabled>Select one</option>\n    if (isFalsyAttrValue(value)) {\n      el.removeAttribute(key)\n    } else {\n      el.setAttribute(key, key)\n    }\n  } else if (isEnumeratedAttr(key)) {\n    el.setAttribute(key, isFalsyAttrValue(value) || value === 'false' ? 'false' : 'true')\n  } else if (isXlink(key)) {\n    if (isFalsyAttrValue(value)) {\n      el.removeAttributeNS(xlinkNS, getXlinkProp(key))\n    } else {\n      el.setAttributeNS(xlinkNS, key, value)\n    }\n  } else {\n    if (isFalsyAttrValue(value)) {\n      el.removeAttribute(key)\n    } else {\n      el.setAttribute(key, value)\n    }\n  }\n}\n\nvar attrs = {\n  create: updateAttrs,\n  update: updateAttrs\n}\n\n/*  */\n\nfunction updateClass (oldVnode, vnode) {\n  var el = vnode.elm\n  var data = vnode.data\n  var oldData = oldVnode.data\n  if (!data.staticClass && !data.class &&\n      (!oldData || (!oldData.staticClass && !oldData.class))) {\n    return\n  }\n\n  var cls = genClassForVnode(vnode)\n\n  // handle transition classes\n  var transitionClass = el._transitionClasses\n  if (transitionClass) {\n    cls = concat(cls, stringifyClass(transitionClass))\n  }\n\n  // set the class\n  if (cls !== el._prevClass) {\n    el.setAttribute('class', cls)\n    el._prevClass = cls\n  }\n}\n\nvar klass = {\n  create: updateClass,\n  update: updateClass\n}\n\n// skip type checking this file because we need to attach private properties\n// to elements\n\nfunction updateDOMListeners (oldVnode, vnode) {\n  if (!oldVnode.data.on && !vnode.data.on) {\n    return\n  }\n  var on = vnode.data.on || {}\n  var oldOn = oldVnode.data.on || {}\n  var add = vnode.elm._v_add || (vnode.elm._v_add = function (event, handler, capture) {\n    vnode.elm.addEventListener(event, handler, capture)\n  })\n  var remove = vnode.elm._v_remove || (vnode.elm._v_remove = function (event, handler) {\n    vnode.elm.removeEventListener(event, handler)\n  })\n  updateListeners(on, oldOn, add, remove)\n}\n\nvar events = {\n  create: updateDOMListeners,\n  update: updateDOMListeners\n}\n\n/*  */\n\nfunction updateDOMProps (oldVnode, vnode) {\n  if (!oldVnode.data.domProps && !vnode.data.domProps) {\n    return\n  }\n  var key, cur\n  var elm = vnode.elm\n  var oldProps = oldVnode.data.domProps || {}\n  var props = vnode.data.domProps || {}\n  // clone observed objects, as the user probably wants to mutate it\n  if (props.__ob__) {\n    props = vnode.data.domProps = extend({}, props)\n  }\n\n  for (key in oldProps) {\n    if (props[key] == null) {\n      elm[key] = undefined\n    }\n  }\n  for (key in props) {\n    // ignore children if the node has textContent or innerHTML,\n    // as these will throw away existing DOM nodes and cause removal errors\n    // on subsequent patches (#3360)\n    if ((key === 'textContent' || key === 'innerHTML') && vnode.children) {\n      vnode.children.length = 0\n    }\n    cur = props[key]\n    if (key === 'value') {\n      // store value as _value as well since\n      // non-string values will be stringified\n      elm._value = cur\n      // avoid resetting cursor position when value is the same\n      var strCur = cur == null ? '' : String(cur)\n      if (elm.value !== strCur) {\n        elm.value = strCur\n      }\n    } else {\n      elm[key] = cur\n    }\n  }\n}\n\nvar domProps = {\n  create: updateDOMProps,\n  update: updateDOMProps\n}\n\n/*  */\n\nvar prefixes = ['Webkit', 'Moz', 'ms']\n\nvar testEl\nvar normalize = cached(function (prop) {\n  testEl = testEl || document.createElement('div')\n  prop = camelize(prop)\n  if (prop !== 'filter' && (prop in testEl.style)) {\n    return prop\n  }\n  var upper = prop.charAt(0).toUpperCase() + prop.slice(1)\n  for (var i = 0; i < prefixes.length; i++) {\n    var prefixed = prefixes[i] + upper\n    if (prefixed in testEl.style) {\n      return prefixed\n    }\n  }\n})\n\nfunction updateStyle (oldVnode, vnode) {\n  if ((!oldVnode.data || !oldVnode.data.style) && !vnode.data.style) {\n    return\n  }\n  var cur, name\n  var el = vnode.elm\n  var oldStyle = oldVnode.data.style || {}\n  var style = vnode.data.style || {}\n\n  // handle string\n  if (typeof style === 'string') {\n    el.style.cssText = style\n    return\n  }\n\n  var needClone = style.__ob__\n\n  // handle array syntax\n  if (Array.isArray(style)) {\n    style = vnode.data.style = toObject(style)\n  }\n\n  // clone the style for future updates,\n  // in case the user mutates the style object in-place.\n  if (needClone) {\n    style = vnode.data.style = extend({}, style)\n  }\n\n  for (name in oldStyle) {\n    if (!style[name]) {\n      el.style[normalize(name)] = ''\n    }\n  }\n  for (name in style) {\n    cur = style[name]\n    if (cur !== oldStyle[name]) {\n      // ie9 setting to null has no effect, must use empty string\n      el.style[normalize(name)] = cur || ''\n    }\n  }\n}\n\nvar style = {\n  create: updateStyle,\n  update: updateStyle\n}\n\n/*  */\n\n/**\n * Add class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction addClass (el, cls) {\n  /* istanbul ignore else */\n  if (el.classList) {\n    if (cls.indexOf(' ') > -1) {\n      cls.split(/\\s+/).forEach(function (c) { return el.classList.add(c); })\n    } else {\n      el.classList.add(cls)\n    }\n  } else {\n    var cur = ' ' + el.getAttribute('class') + ' '\n    if (cur.indexOf(' ' + cls + ' ') < 0) {\n      el.setAttribute('class', (cur + cls).trim())\n    }\n  }\n}\n\n/**\n * Remove class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction removeClass (el, cls) {\n  /* istanbul ignore else */\n  if (el.classList) {\n    if (cls.indexOf(' ') > -1) {\n      cls.split(/\\s+/).forEach(function (c) { return el.classList.remove(c); })\n    } else {\n      el.classList.remove(cls)\n    }\n  } else {\n    var cur = ' ' + el.getAttribute('class') + ' '\n    var tar = ' ' + cls + ' '\n    while (cur.indexOf(tar) >= 0) {\n      cur = cur.replace(tar, ' ')\n    }\n    el.setAttribute('class', cur.trim())\n  }\n}\n\n/*  */\n\nvar hasTransition = inBrowser && !isIE9\nvar TRANSITION = 'transition'\nvar ANIMATION = 'animation'\n\n// Transition property/event sniffing\nvar transitionProp = 'transition'\nvar transitionEndEvent = 'transitionend'\nvar animationProp = 'animation'\nvar animationEndEvent = 'animationend'\nif (hasTransition) {\n  /* istanbul ignore if */\n  if (window.ontransitionend === undefined &&\n    window.onwebkittransitionend !== undefined) {\n    transitionProp = 'WebkitTransition'\n    transitionEndEvent = 'webkitTransitionEnd'\n  }\n  if (window.onanimationend === undefined &&\n    window.onwebkitanimationend !== undefined) {\n    animationProp = 'WebkitAnimation'\n    animationEndEvent = 'webkitAnimationEnd'\n  }\n}\n\nvar raf = (inBrowser && window.requestAnimationFrame) || setTimeout\nfunction nextFrame (fn) {\n  raf(function () {\n    raf(fn)\n  })\n}\n\nfunction addTransitionClass (el, cls) {\n  (el._transitionClasses || (el._transitionClasses = [])).push(cls)\n  addClass(el, cls)\n}\n\nfunction removeTransitionClass (el, cls) {\n  if (el._transitionClasses) {\n    remove(el._transitionClasses, cls)\n  }\n  removeClass(el, cls)\n}\n\nfunction whenTransitionEnds (\n  el,\n  expectedType,\n  cb\n) {\n  var ref = getTransitionInfo(el, expectedType);\n  var type = ref.type;\n  var timeout = ref.timeout;\n  var propCount = ref.propCount;\n  if (!type) return cb()\n  var event = type === TRANSITION ? transitionEndEvent : animationEndEvent\n  var ended = 0\n  var end = function () {\n    el.removeEventListener(event, onEnd)\n    cb()\n  }\n  var onEnd = function (e) {\n    if (e.target === el) {\n      if (++ended >= propCount) {\n        end()\n      }\n    }\n  }\n  setTimeout(function () {\n    if (ended < propCount) {\n      end()\n    }\n  }, timeout + 1)\n  el.addEventListener(event, onEnd)\n}\n\nvar transformRE = /\\b(transform|all)(,|$)/\n\nfunction getTransitionInfo (el, expectedType) {\n  var styles = window.getComputedStyle(el)\n  var transitioneDelays = styles[transitionProp + 'Delay'].split(', ')\n  var transitionDurations = styles[transitionProp + 'Duration'].split(', ')\n  var transitionTimeout = getTimeout(transitioneDelays, transitionDurations)\n  var animationDelays = styles[animationProp + 'Delay'].split(', ')\n  var animationDurations = styles[animationProp + 'Duration'].split(', ')\n  var animationTimeout = getTimeout(animationDelays, animationDurations)\n\n  var type\n  var timeout = 0\n  var propCount = 0\n  /* istanbul ignore if */\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION\n      timeout = transitionTimeout\n      propCount = transitionDurations.length\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION\n      timeout = animationTimeout\n      propCount = animationDurations.length\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout)\n    type = timeout > 0\n      ? transitionTimeout > animationTimeout\n        ? TRANSITION\n        : ANIMATION\n      : null\n    propCount = type\n      ? type === TRANSITION\n        ? transitionDurations.length\n        : animationDurations.length\n      : 0\n  }\n  var hasTransform =\n    type === TRANSITION &&\n    transformRE.test(styles[transitionProp + 'Property'])\n  return {\n    type: type,\n    timeout: timeout,\n    propCount: propCount,\n    hasTransform: hasTransform\n  }\n}\n\nfunction getTimeout (delays, durations) {\n  return Math.max.apply(null, durations.map(function (d, i) {\n    return toMs(d) + toMs(delays[i])\n  }))\n}\n\nfunction toMs (s) {\n  return Number(s.slice(0, -1)) * 1000\n}\n\n/*  */\n\nfunction enter (vnode) {\n  var el = vnode.elm\n\n  // call leave callback now\n  if (el._leaveCb) {\n    el._leaveCb.cancelled = true\n    el._leaveCb()\n  }\n\n  var data = resolveTransition(vnode.data.transition)\n  if (!data) {\n    return\n  }\n\n  /* istanbul ignore if */\n  if (el._enterCb || el.nodeType !== 1) {\n    return\n  }\n\n  var css = data.css;\n  var type = data.type;\n  var enterClass = data.enterClass;\n  var enterActiveClass = data.enterActiveClass;\n  var appearClass = data.appearClass;\n  var appearActiveClass = data.appearActiveClass;\n  var beforeEnter = data.beforeEnter;\n  var enter = data.enter;\n  var afterEnter = data.afterEnter;\n  var enterCancelled = data.enterCancelled;\n  var beforeAppear = data.beforeAppear;\n  var appear = data.appear;\n  var afterAppear = data.afterAppear;\n  var appearCancelled = data.appearCancelled;\n\n  // activeInstance will always be the <transition> component managing this\n  // transition. One edge case to check is when the <transition> is placed\n  // as the root node of a child component. In that case we need to check\n  // <transition>'s parent for appear check.\n  var transitionNode = activeInstance.$vnode\n  var context = transitionNode && transitionNode.parent\n    ? transitionNode.parent.context\n    : activeInstance\n\n  var isAppear = !context._isMounted || !vnode.isRootInsert\n\n  if (isAppear && !appear && appear !== '') {\n    return\n  }\n\n  var startClass = isAppear ? appearClass : enterClass\n  var activeClass = isAppear ? appearActiveClass : enterActiveClass\n  var beforeEnterHook = isAppear ? (beforeAppear || beforeEnter) : beforeEnter\n  var enterHook = isAppear ? (typeof appear === 'function' ? appear : enter) : enter\n  var afterEnterHook = isAppear ? (afterAppear || afterEnter) : afterEnter\n  var enterCancelledHook = isAppear ? (appearCancelled || enterCancelled) : enterCancelled\n\n  var expectsCSS = css !== false && !isIE9\n  var userWantsControl =\n    enterHook &&\n    // enterHook may be a bound method which exposes\n    // the length of original fn as _length\n    (enterHook._length || enterHook.length) > 1\n\n  var cb = el._enterCb = once(function () {\n    if (expectsCSS) {\n      removeTransitionClass(el, activeClass)\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, startClass)\n      }\n      enterCancelledHook && enterCancelledHook(el)\n    } else {\n      afterEnterHook && afterEnterHook(el)\n    }\n    el._enterCb = null\n  })\n\n  if (!vnode.data.show) {\n    // remove pending leave element on enter by injecting an insert hook\n    mergeVNodeHook(vnode.data.hook || (vnode.data.hook = {}), 'insert', function () {\n      var parent = el.parentNode\n      var pendingNode = parent && parent._pending && parent._pending[vnode.key]\n      if (pendingNode && pendingNode.tag === vnode.tag && pendingNode.elm._leaveCb) {\n        pendingNode.elm._leaveCb()\n      }\n      enterHook && enterHook(el, cb)\n    })\n  }\n\n  // start enter transition\n  beforeEnterHook && beforeEnterHook(el)\n  if (expectsCSS) {\n    addTransitionClass(el, startClass)\n    addTransitionClass(el, activeClass)\n    nextFrame(function () {\n      removeTransitionClass(el, startClass)\n      if (!cb.cancelled && !userWantsControl) {\n        whenTransitionEnds(el, type, cb)\n      }\n    })\n  }\n\n  if (vnode.data.show) {\n    enterHook && enterHook(el, cb)\n  }\n\n  if (!expectsCSS && !userWantsControl) {\n    cb()\n  }\n}\n\nfunction leave (vnode, rm) {\n  var el = vnode.elm\n\n  // call enter callback now\n  if (el._enterCb) {\n    el._enterCb.cancelled = true\n    el._enterCb()\n  }\n\n  var data = resolveTransition(vnode.data.transition)\n  if (!data) {\n    return rm()\n  }\n\n  /* istanbul ignore if */\n  if (el._leaveCb || el.nodeType !== 1) {\n    return\n  }\n\n  var css = data.css;\n  var type = data.type;\n  var leaveClass = data.leaveClass;\n  var leaveActiveClass = data.leaveActiveClass;\n  var beforeLeave = data.beforeLeave;\n  var leave = data.leave;\n  var afterLeave = data.afterLeave;\n  var leaveCancelled = data.leaveCancelled;\n  var delayLeave = data.delayLeave;\n\n  var expectsCSS = css !== false && !isIE9\n  var userWantsControl =\n    leave &&\n    // leave hook may be a bound method which exposes\n    // the length of original fn as _length\n    (leave._length || leave.length) > 1\n\n  var cb = el._leaveCb = once(function () {\n    if (el.parentNode && el.parentNode._pending) {\n      el.parentNode._pending[vnode.key] = null\n    }\n    if (expectsCSS) {\n      removeTransitionClass(el, leaveActiveClass)\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, leaveClass)\n      }\n      leaveCancelled && leaveCancelled(el)\n    } else {\n      rm()\n      afterLeave && afterLeave(el)\n    }\n    el._leaveCb = null\n  })\n\n  if (delayLeave) {\n    delayLeave(performLeave)\n  } else {\n    performLeave()\n  }\n\n  function performLeave () {\n    // the delayed leave may have already been cancelled\n    if (cb.cancelled) {\n      return\n    }\n    // record leaving element\n    if (!vnode.data.show) {\n      (el.parentNode._pending || (el.parentNode._pending = {}))[vnode.key] = vnode\n    }\n    beforeLeave && beforeLeave(el)\n    if (expectsCSS) {\n      addTransitionClass(el, leaveClass)\n      addTransitionClass(el, leaveActiveClass)\n      nextFrame(function () {\n        removeTransitionClass(el, leaveClass)\n        if (!cb.cancelled && !userWantsControl) {\n          whenTransitionEnds(el, type, cb)\n        }\n      })\n    }\n    leave && leave(el, cb)\n    if (!expectsCSS && !userWantsControl) {\n      cb()\n    }\n  }\n}\n\nfunction resolveTransition (def) {\n  if (!def) {\n    return\n  }\n  /* istanbul ignore else */\n  if (typeof def === 'object') {\n    var res = {}\n    if (def.css !== false) {\n      extend(res, autoCssTransition(def.name || 'v'))\n    }\n    extend(res, def)\n    return res\n  } else if (typeof def === 'string') {\n    return autoCssTransition(def)\n  }\n}\n\nvar autoCssTransition = cached(function (name) {\n  return {\n    enterClass: (name + \"-enter\"),\n    leaveClass: (name + \"-leave\"),\n    appearClass: (name + \"-enter\"),\n    enterActiveClass: (name + \"-enter-active\"),\n    leaveActiveClass: (name + \"-leave-active\"),\n    appearActiveClass: (name + \"-enter-active\")\n  }\n})\n\nfunction once (fn) {\n  var called = false\n  return function () {\n    if (!called) {\n      called = true\n      fn()\n    }\n  }\n}\n\nvar transition = inBrowser ? {\n  create: function create (_, vnode) {\n    if (!vnode.data.show) {\n      enter(vnode)\n    }\n  },\n  remove: function remove (vnode, rm) {\n    /* istanbul ignore else */\n    if (!vnode.data.show) {\n      leave(vnode, rm)\n    } else {\n      rm()\n    }\n  }\n} : {}\n\nvar platformModules = [\n  attrs,\n  klass,\n  events,\n  domProps,\n  style,\n  transition\n]\n\n/*  */\n\n// the directive module should be applied last, after all\n// built-in modules have been applied.\nvar modules = platformModules.concat(baseModules)\n\nvar patch = createPatchFunction({ nodeOps: nodeOps, modules: modules })\n\n/**\n * Not type checking this file because flow doesn't like attaching\n * properties to Elements.\n */\n\nvar modelableTagRE = /^input|select|textarea|vue-component-[0-9]+(-[0-9a-zA-Z_\\-]*)?$/\n\n/* istanbul ignore if */\nif (isIE9) {\n  // http://www.matts411.com/post/internet-explorer-9-oninput/\n  document.addEventListener('selectionchange', function () {\n    var el = document.activeElement\n    if (el && el.vmodel) {\n      trigger(el, 'input')\n    }\n  })\n}\n\nvar model = {\n  bind: function bind (el, binding, vnode) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!modelableTagRE.test(vnode.tag)) {\n        warn(\n          \"v-model is not supported on element type: <\" + (vnode.tag) + \">. \" +\n          'If you are working with contenteditable, it\\'s recommended to ' +\n          'wrap a library dedicated for that purpose inside a custom component.',\n          vnode.context\n        )\n      }\n    }\n    if (vnode.tag === 'select') {\n      setSelected(el, binding, vnode.context)\n    } else {\n      if (!isAndroid) {\n        el.addEventListener('compositionstart', onCompositionStart)\n        el.addEventListener('compositionend', onCompositionEnd)\n      }\n      /* istanbul ignore if */\n      if (isIE9) {\n        el.vmodel = true\n      }\n    }\n  },\n  componentUpdated: function componentUpdated (el, binding, vnode) {\n    if (vnode.tag === 'select') {\n      setSelected(el, binding, vnode.context)\n      // in case the options rendered by v-for have changed,\n      // it's possible that the value is out-of-sync with the rendered options.\n      // detect such cases and filter out values that no longer has a matchig\n      // option in the DOM.\n      var needReset = el.multiple\n        ? binding.value.some(function (v) { return hasNoMatchingOption(v, el.options); })\n        : hasNoMatchingOption(binding.value, el.options)\n      if (needReset) {\n        trigger(el, 'change')\n      }\n    }\n  }\n}\n\nfunction setSelected (el, binding, vm) {\n  var value = binding.value\n  var isMultiple = el.multiple\n  if (isMultiple && !Array.isArray(value)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"<select multiple v-model=\\\"\" + (binding.expression) + \"\\\"> \" +\n      \"expects an Array value for its binding, but got \" + (Object.prototype.toString.call(value).slice(8, -1)),\n      vm\n    )\n    return\n  }\n  var selected, option\n  for (var i = 0, l = el.options.length; i < l; i++) {\n    option = el.options[i]\n    if (isMultiple) {\n      selected = value.indexOf(getValue(option)) > -1\n      if (option.selected !== selected) {\n        option.selected = selected\n      }\n    } else {\n      if (getValue(option) === value) {\n        if (el.selectedIndex !== i) {\n          el.selectedIndex = i\n        }\n        return\n      }\n    }\n  }\n  if (!isMultiple) {\n    el.selectedIndex = -1\n  }\n}\n\nfunction hasNoMatchingOption (value, options) {\n  for (var i = 0, l = options.length; i < l; i++) {\n    if (getValue(options[i]) === value) {\n      return false\n    }\n  }\n  return true\n}\n\nfunction getValue (option) {\n  return '_value' in option\n    ? option._value\n    : option.value || option.text\n}\n\nfunction onCompositionStart (e) {\n  e.target.composing = true\n}\n\nfunction onCompositionEnd (e) {\n  e.target.composing = false\n  trigger(e.target, 'input')\n}\n\nfunction trigger (el, type) {\n  var e = document.createEvent('HTMLEvents')\n  e.initEvent(type, true, true)\n  el.dispatchEvent(e)\n}\n\n/*  */\n\n// recursively search for possible transition defined inside the component root\nfunction locateNode (vnode) {\n  return vnode.child && (!vnode.data || !vnode.data.transition)\n    ? locateNode(vnode.child._vnode)\n    : vnode\n}\n\nvar show = {\n  bind: function bind (el, ref, vnode) {\n    var value = ref.value;\n\n    vnode = locateNode(vnode)\n    var transition = vnode.data && vnode.data.transition\n    if (value && transition && !isIE9) {\n      enter(vnode)\n    }\n    var originalDisplay = el.style.display === 'none' ? '' : el.style.display\n    el.style.display = value ? originalDisplay : 'none'\n    el.__vOriginalDisplay = originalDisplay\n  },\n  update: function update (el, ref, vnode) {\n    var value = ref.value;\n    var oldValue = ref.oldValue;\n\n    /* istanbul ignore if */\n    if (value === oldValue) return\n    vnode = locateNode(vnode)\n    var transition = vnode.data && vnode.data.transition\n    if (transition && !isIE9) {\n      if (value) {\n        enter(vnode)\n        el.style.display = el.__vOriginalDisplay\n      } else {\n        leave(vnode, function () {\n          el.style.display = 'none'\n        })\n      }\n    } else {\n      el.style.display = value ? el.__vOriginalDisplay : 'none'\n    }\n  }\n}\n\nvar platformDirectives = {\n  model: model,\n  show: show\n}\n\n/*  */\n\n// Provides transition support for a single element/component.\n// supports transition mode (out-in / in-out)\n\nvar transitionProps = {\n  name: String,\n  appear: Boolean,\n  css: Boolean,\n  mode: String,\n  type: String,\n  enterClass: String,\n  leaveClass: String,\n  enterActiveClass: String,\n  leaveActiveClass: String,\n  appearClass: String,\n  appearActiveClass: String\n}\n\n// in case the child is also an abstract component, e.g. <keep-alive>\n// we want to recrusively retrieve the real component to be rendered\nfunction getRealChild (vnode) {\n  var compOptions = vnode && vnode.componentOptions\n  if (compOptions && compOptions.Ctor.options.abstract) {\n    return getRealChild(getFirstComponentChild(compOptions.children))\n  } else {\n    return vnode\n  }\n}\n\nfunction extractTransitionData (comp) {\n  var data = {}\n  var options = comp.$options\n  // props\n  for (var key in options.propsData) {\n    data[key] = comp[key]\n  }\n  // events.\n  // extract listeners and pass them directly to the transition methods\n  var listeners = options._parentListeners\n  for (var key$1 in listeners) {\n    data[camelize(key$1)] = listeners[key$1].fn\n  }\n  return data\n}\n\nfunction placeholder (h, rawChild) {\n  return /\\d-keep-alive$/.test(rawChild.tag)\n    ? h('keep-alive')\n    : null\n}\n\nfunction hasParentTransition (vnode) {\n  while ((vnode = vnode.parent)) {\n    if (vnode.data.transition) {\n      return true\n    }\n  }\n}\n\nvar Transition = {\n  name: 'transition',\n  props: transitionProps,\n  abstract: true,\n  render: function render (h) {\n    var this$1 = this;\n\n    var children = this.$slots.default\n    if (!children) {\n      return\n    }\n\n    // filter out text nodes (possible whitespaces)\n    children = children.filter(function (c) { return c.tag; })\n    /* istanbul ignore if */\n    if (!children.length) {\n      return\n    }\n\n    // warn multiple elements\n    if (process.env.NODE_ENV !== 'production' && children.length > 1) {\n      warn(\n        '<transition> can only be used on a single element. Use ' +\n        '<transition-group> for lists.',\n        this.$parent\n      )\n    }\n\n    var mode = this.mode\n\n    // warn invalid mode\n    if (process.env.NODE_ENV !== 'production' &&\n        mode && mode !== 'in-out' && mode !== 'out-in') {\n      warn(\n        'invalid <transition> mode: ' + mode,\n        this.$parent\n      )\n    }\n\n    var rawChild = children[0]\n\n    // if this is a component root node and the component's\n    // parent container node also has transition, skip.\n    if (hasParentTransition(this.$vnode)) {\n      return rawChild\n    }\n\n    // apply transition data to child\n    // use getRealChild() to ignore abstract components e.g. keep-alive\n    var child = getRealChild(rawChild)\n    /* istanbul ignore if */\n    if (!child) {\n      return rawChild\n    }\n\n    if (this._leaving) {\n      return placeholder(h, rawChild)\n    }\n\n    child.key = child.key == null\n      ? (\"__v\" + (child.tag + this._uid) + \"__\")\n      : child.key\n    var data = (child.data || (child.data = {})).transition = extractTransitionData(this)\n    var oldRawChild = this._vnode\n    var oldChild = getRealChild(oldRawChild)\n\n    // mark v-show\n    // so that the transition module can hand over the control to the directive\n    if (child.data.directives && child.data.directives.some(function (d) { return d.name === 'show'; })) {\n      child.data.show = true\n    }\n\n    if (oldChild && oldChild.data && oldChild.key !== child.key) {\n      // replace old child transition data with fresh one\n      // important for dynamic transitions!\n      var oldData = oldChild.data.transition = extend({}, data)\n\n      // handle transition mode\n      if (mode === 'out-in') {\n        // return placeholder node and queue update when leave finishes\n        this._leaving = true\n        mergeVNodeHook(oldData, 'afterLeave', function () {\n          this$1._leaving = false\n          this$1.$forceUpdate()\n        })\n        return placeholder(h, rawChild)\n      } else if (mode === 'in-out') {\n        var delayedLeave\n        var performLeave = function () { delayedLeave() }\n        mergeVNodeHook(data, 'afterEnter', performLeave)\n        mergeVNodeHook(data, 'enterCancelled', performLeave)\n        mergeVNodeHook(oldData, 'delayLeave', function (leave) {\n          delayedLeave = leave\n        })\n      }\n    }\n\n    return rawChild\n  }\n}\n\n/*  */\n\n// Provides transition support for list items.\n// supports move transitions using the FLIP technique.\n\n// Because the vdom's children update algorithm is \"unstable\" - i.e.\n// it doesn't guarantee the relative positioning of removed elements,\n// we force transition-group to update its children into two passes:\n// in the first pass, we remove all nodes that need to be removed,\n// triggering their leaving transition; in the second pass, we insert/move\n// into the final disired state. This way in the second pass removed\n// nodes will remain where they should be.\n\nvar props = extend({\n  tag: String,\n  moveClass: String\n}, transitionProps)\n\ndelete props.mode\n\nvar TransitionGroup = {\n  props: props,\n\n  render: function render (h) {\n    var tag = this.tag || this.$vnode.data.tag || 'span'\n    var map = Object.create(null)\n    var prevChildren = this.prevChildren = this.children\n    var rawChildren = this.$slots.default || []\n    var children = this.children = []\n    var transitionData = extractTransitionData(this)\n\n    for (var i = 0; i < rawChildren.length; i++) {\n      var c = rawChildren[i]\n      if (c.tag) {\n        if (c.key != null && String(c.key).indexOf('__vlist') !== 0) {\n          children.push(c)\n          map[c.key] = c\n          ;(c.data || (c.data = {})).transition = transitionData\n        } else if (process.env.NODE_ENV !== 'production') {\n          var opts = c.componentOptions\n          var name = opts\n            ? (opts.Ctor.options.name || opts.tag)\n            : c.tag\n          warn((\"<transition-group> children must be keyed: <\" + name + \">\"))\n        }\n      }\n    }\n\n    if (prevChildren) {\n      var kept = []\n      var removed = []\n      for (var i$1 = 0; i$1 < prevChildren.length; i$1++) {\n        var c$1 = prevChildren[i$1]\n        c$1.data.transition = transitionData\n        c$1.data.pos = c$1.elm.getBoundingClientRect()\n        if (map[c$1.key]) {\n          kept.push(c$1)\n        } else {\n          removed.push(c$1)\n        }\n      }\n      this.kept = h(tag, null, kept)\n      this.removed = removed\n    }\n\n    return h(tag, null, children)\n  },\n\n  beforeUpdate: function beforeUpdate () {\n    // force removing pass\n    this.__patch__(\n      this._vnode,\n      this.kept,\n      false, // hydrating\n      true // removeOnly (!important, avoids unnecessary moves)\n    )\n    this._vnode = this.kept\n  },\n\n  updated: function updated () {\n    var children = this.prevChildren\n    var moveClass = this.moveClass || (this.name + '-move')\n    if (!children.length || !this.hasMove(children[0].elm, moveClass)) {\n      return\n    }\n\n    children.forEach(function (c) {\n      /* istanbul ignore if */\n      if (c.elm._moveCb) {\n        c.elm._moveCb()\n      }\n      /* istanbul ignore if */\n      if (c.elm._enterCb) {\n        c.elm._enterCb()\n      }\n      var oldPos = c.data.pos\n      var newPos = c.data.pos = c.elm.getBoundingClientRect()\n      var dx = oldPos.left - newPos.left\n      var dy = oldPos.top - newPos.top\n      if (dx || dy) {\n        c.data.moved = true\n        var s = c.elm.style\n        s.transform = s.WebkitTransform = \"translate(\" + dx + \"px,\" + dy + \"px)\"\n        s.transitionDuration = '0s'\n      }\n    })\n\n    // force reflow to put everything in position\n    var f = document.body.offsetHeight // eslint-disable-line\n\n    children.forEach(function (c) {\n      if (c.data.moved) {\n        var el = c.elm\n        var s = el.style\n        addTransitionClass(el, moveClass)\n        s.transform = s.WebkitTransform = s.transitionDuration = ''\n        el._moveDest = c.data.pos\n        el.addEventListener(transitionEndEvent, el._moveCb = function cb (e) {\n          if (!e || /transform$/.test(e.propertyName)) {\n            el.removeEventListener(transitionEndEvent, cb)\n            el._moveCb = null\n            removeTransitionClass(el, moveClass)\n          }\n        })\n      }\n    })\n  },\n\n  methods: {\n    hasMove: function hasMove (el, moveClass) {\n      /* istanbul ignore if */\n      if (!hasTransition) {\n        return false\n      }\n      if (this._hasMove != null) {\n        return this._hasMove\n      }\n      addTransitionClass(el, moveClass)\n      var info = getTransitionInfo(el)\n      removeTransitionClass(el, moveClass)\n      return (this._hasMove = info.hasTransform)\n    }\n  }\n}\n\nvar platformComponents = {\n  Transition: Transition,\n  TransitionGroup: TransitionGroup\n}\n\n/*  */\n\n// install platform specific utils\nVue.config.isUnknownElement = isUnknownElement\nVue.config.isReservedTag = isReservedTag\nVue.config.getTagNamespace = getTagNamespace\nVue.config.mustUseProp = mustUseProp\n\n// install platform runtime directives & components\nextend(Vue.options.directives, platformDirectives)\nextend(Vue.options.components, platformComponents)\n\n// install platform patch function\nVue.prototype.__patch__ = config._isServer ? noop : patch\n\n// wrap mount\nVue.prototype.$mount = function (\n  el,\n  hydrating\n) {\n  el = el && !config._isServer ? query(el) : undefined\n  return this._mount(el, hydrating)\n}\n\n// devtools global hook\n/* istanbul ignore next */\nsetTimeout(function () {\n  if (config.devtools) {\n    if (devtools) {\n      devtools.emit('init', Vue)\n    } else if (\n      process.env.NODE_ENV !== 'production' &&\n      inBrowser && /Chrome\\/\\d+/.test(window.navigator.userAgent)\n    ) {\n      console.log(\n        'Download the Vue Devtools for a better development experience:\\n' +\n        'https://github.com/vuejs/vue-devtools'\n      )\n    }\n  }\n}, 0)\n\nmodule.exports = Vue;","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\n// Shimming starts here.\n(function() {\n  // Utils.\n  var logging = require('./utils').log;\n  var browserDetails = require('./utils').browserDetails;\n  // Export to the adapter global object visible in the browser.\n  module.exports.browserDetails = browserDetails;\n  module.exports.extractVersion = require('./utils').extractVersion;\n  module.exports.disableLog = require('./utils').disableLog;\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = require('./chrome/chrome_shim') || null;\n  var edgeShim = require('./edge/edge_shim') || null;\n  var firefoxShim = require('./firefox/firefox_shim') || null;\n  var safariShim = require('./safari/safari_shim') || null;\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'opera': // fallthrough as it uses chrome shims\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection) {\n        logging('Chrome shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = chromeShim;\n\n      chromeShim.shimGetUserMedia();\n      chromeShim.shimMediaStream();\n      chromeShim.shimSourceObject();\n      chromeShim.shimPeerConnection();\n      chromeShim.shimOnTrack();\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection) {\n        logging('Firefox shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = firefoxShim;\n\n      firefoxShim.shimGetUserMedia();\n      firefoxShim.shimSourceObject();\n      firefoxShim.shimPeerConnection();\n      firefoxShim.shimOnTrack();\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection) {\n        logging('MS edge shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = edgeShim;\n\n      edgeShim.shimGetUserMedia();\n      edgeShim.shimPeerConnection();\n      break;\n    case 'safari':\n      if (!safariShim) {\n        logging('Safari shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = safariShim;\n\n      safariShim.shimGetUserMedia();\n      break;\n    default:\n      logging('Unsupported browser!');\n  }\n})();\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\n\n// Utility methods.\nvar utils = {\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Extract browser version out of the provided user agent string.\n   *\n   * @param {!string} uastring userAgent string.\n   * @param {!string} expr Regular expression used as match criteria.\n   * @param {!number} pos position in the version string to be returned.\n   * @return {!number} browser version.\n   */\n  extractVersion: function(uastring, expr, pos) {\n    var match = uastring.match(expr);\n    return match && match.length >= pos && parseInt(match[pos], 10);\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function() {\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    // Firefox.\n    if (navigator.mozGetUserMedia) {\n      result.browser = 'firefox';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Firefox\\/([0-9]+)\\./, 1);\n\n    // all webkit-based browsers\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera, all use the chrome shim for now\n      if (window.webkitRTCPeerConnection) {\n        result.browser = 'chrome';\n        result.version = this.extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/([0-9]+)\\./, 2);\n\n      // Safari or unknown webkit-based\n      // for the time being Safari has support for MediaStreams but not webRTC\n      } else {\n        // Safari UA substrings of interest for reference:\n        // - webkit version:           AppleWebKit/602.1.25 (also used in Op,Cr)\n        // - safari UI version:        Version/9.0.3 (unique to Safari)\n        // - safari UI webkit version: Safari/601.4.4 (also used in Op,Cr)\n        //\n        // if the webkit version and safari UI webkit versions are equals,\n        // ... this is a stable version.\n        //\n        // only the internal webkit version is important today to know if\n        // media streams are supported\n        //\n        if (navigator.userAgent.match(/Version\\/(\\d+).(\\d+)/)) {\n          result.browser = 'safari';\n          result.version = this.extractVersion(navigator.userAgent,\n            /AppleWebKit\\/([0-9]+)\\./, 1);\n\n        // unknown webkit-based browser\n        } else {\n          result.browser = 'Unsupported webkit-based browser ' +\n              'with GUM support but no WebRTC support.';\n          return result;\n        }\n      }\n\n    // Edge.\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) {\n      result.browser = 'edge';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n\n    // Default fallthrough: not supported.\n    } else {\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  }\n};\n\n// Export.\nmodule.exports = {\n  log: utils.log,\n  disableLog: utils.disableLog,\n  browserDetails: utils.detectBrowser(),\n  extractVersion: utils.extractVersion\n};\n","\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar logging = require('../utils.js').log;\nvar browserDetails = require('../utils.js').browserDetails;\n\nvar chromeShim = {\n  shimMediaStream: function() {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          var self = this;\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = {track: te.track};\n              event.streams = [e.stream];\n              self.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function() {\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function() {\n    // The RTCPeerConnection object.\n    window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n      // Translate iceTransportPolicy to iceTransports,\n      // see https://code.google.com/p/webrtc/issues/detail?id=4869\n      logging('PeerConnection');\n      if (pcConfig && pcConfig.iceTransportPolicy) {\n        pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n      }\n\n      var pc = new webkitRTCPeerConnection(pcConfig, pcConstraints);\n      var origGetStats = pc.getStats.bind(pc);\n      pc.getStats = function(selector, successCallback, errorCallback) {\n        var self = this;\n        var args = arguments;\n\n        // If selector is a function then we are in the old style stats so just\n        // pass back the original getStats format to avoid breaking old users.\n        if (arguments.length > 0 && typeof selector === 'function') {\n          return origGetStats(selector, successCallback);\n        }\n\n        var fixChromeStats_ = function(response) {\n          var standardReport = {};\n          var reports = response.result();\n          reports.forEach(function(report) {\n            var standardStats = {\n              id: report.id,\n              timestamp: report.timestamp,\n              type: report.type\n            };\n            report.names().forEach(function(name) {\n              standardStats[name] = report.stat(name);\n            });\n            standardReport[standardStats.id] = standardStats;\n          });\n\n          return standardReport;\n        };\n\n        // shim getStats with maplike support\n        var makeMapStats = function(stats, legacyStats) {\n          var map = new Map(Object.keys(stats).map(function(key) {\n            return[key, stats[key]];\n          }));\n          legacyStats = legacyStats || stats;\n          Object.keys(legacyStats).forEach(function(key) {\n            map[key] = legacyStats[key];\n          });\n          return map;\n        };\n\n        if (arguments.length >= 2) {\n          var successCallbackWrapper_ = function(response) {\n            args[1](makeMapStats(fixChromeStats_(response)));\n          };\n\n          return origGetStats.apply(this, [successCallbackWrapper_,\n              arguments[0]]);\n        }\n\n        // promise-support\n        return new Promise(function(resolve, reject) {\n          if (args.length === 1 && typeof selector === 'object') {\n            origGetStats.apply(self, [\n              function(response) {\n                resolve(makeMapStats(fixChromeStats_(response)));\n              }, reject]);\n          } else {\n            // Preserve legacy chrome stats only on legacy access of stats obj\n            origGetStats.apply(self, [\n              function(response) {\n                resolve(makeMapStats(fixChromeStats_(response),\n                    response.result()));\n              }, reject]);\n          }\n        }).then(successCallback, errorCallback);\n      };\n\n      return pc;\n    };\n    window.RTCPeerConnection.prototype = webkitRTCPeerConnection.prototype;\n\n    // wrap static methods. Currently just generateCertificate.\n    if (webkitRTCPeerConnection.generateCertificate) {\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return webkitRTCPeerConnection.generateCertificate;\n        }\n      });\n    }\n\n    ['createOffer', 'createAnswer'].forEach(function(method) {\n      var nativeMethod = webkitRTCPeerConnection.prototype[method];\n      webkitRTCPeerConnection.prototype[method] = function() {\n        var self = this;\n        if (arguments.length < 1 || (arguments.length === 1 &&\n            typeof arguments[0] === 'object')) {\n          var opts = arguments.length === 1 ? arguments[0] : undefined;\n          return new Promise(function(resolve, reject) {\n            nativeMethod.apply(self, [resolve, reject, opts]);\n          });\n        }\n        return nativeMethod.apply(this, arguments);\n      };\n    });\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = webkitRTCPeerConnection.prototype[method];\n            webkitRTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var self = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(self, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = webkitRTCPeerConnection.prototype[method];\n          webkitRTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null)\n    var nativeAddIceCandidate =\n        RTCPeerConnection.prototype.addIceCandidate;\n    RTCPeerConnection.prototype.addIceCandidate = function() {\n      return arguments[0] === null ? Promise.resolve()\n          : nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n\n\n// Expose public methods.\nmodule.exports = {\n  shimMediaStream: chromeShim.shimMediaStream,\n  shimOnTrack: chromeShim.shimOnTrack,\n  shimSourceObject: chromeShim.shimSourceObject,\n  shimPeerConnection: chromeShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\nvar browserDetails = require('../utils').browserDetails;\n\nvar edgeShim = {\n  shimPeerConnection: function() {\n    if (window.RTCIceGatherer) {\n      // ORTC defines an RTCIceCandidate object but no constructor.\n      // Not implemented in Edge.\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      // ORTC does not have a session description object but\n      // other browsers (i.e. Chrome) that will support both PC and ORTC\n      // in the future might have this defined already.\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n    }\n\n    window.RTCPeerConnection = function(config) {\n      var self = this;\n\n      var _eventTarget = document.createDocumentFragment();\n      ['addEventListener', 'removeEventListener', 'dispatchEvent']\n          .forEach(function(method) {\n            self[method] = _eventTarget[method].bind(_eventTarget);\n          });\n\n      this.onicecandidate = null;\n      this.onaddstream = null;\n      this.ontrack = null;\n      this.onremovestream = null;\n      this.onsignalingstatechange = null;\n      this.oniceconnectionstatechange = null;\n      this.onnegotiationneeded = null;\n      this.ondatachannel = null;\n\n      this.localStreams = [];\n      this.remoteStreams = [];\n      this.getLocalStreams = function() {\n        return self.localStreams;\n      };\n      this.getRemoteStreams = function() {\n        return self.remoteStreams;\n      };\n\n      this.localDescription = new RTCSessionDescription({\n        type: '',\n        sdp: ''\n      });\n      this.remoteDescription = new RTCSessionDescription({\n        type: '',\n        sdp: ''\n      });\n      this.signalingState = 'stable';\n      this.iceConnectionState = 'new';\n      this.iceGatheringState = 'new';\n\n      this.iceOptions = {\n        gatherPolicy: 'all',\n        iceServers: []\n      };\n      if (config && config.iceTransportPolicy) {\n        switch (config.iceTransportPolicy) {\n          case 'all':\n          case 'relay':\n            this.iceOptions.gatherPolicy = config.iceTransportPolicy;\n            break;\n          case 'none':\n            // FIXME: remove once implementation and spec have added this.\n            throw new TypeError('iceTransportPolicy \"none\" not supported');\n          default:\n            // don't set iceTransportPolicy.\n            break;\n        }\n      }\n      this.usingBundle = config && config.bundlePolicy === 'max-bundle';\n\n      if (config && config.iceServers) {\n        // Edge does not like\n        // 1) stun:\n        // 2) turn: that does not have all of turn:host:port?transport=udp\n        // 3) turn: with ipv6 addresses\n        var iceServers = JSON.parse(JSON.stringify(config.iceServers));\n        this.iceOptions.iceServers = iceServers.filter(function(server) {\n          if (server && server.urls) {\n            var urls = server.urls;\n            if (typeof urls === 'string') {\n              urls = [urls];\n            }\n            urls = urls.filter(function(url) {\n              return (url.indexOf('turn:') === 0 &&\n                  url.indexOf('transport=udp') !== -1 &&\n                  url.indexOf('turn:[') === -1) ||\n                  (url.indexOf('stun:') === 0 &&\n                    browserDetails.version >= 14393);\n            })[0];\n            return !!urls;\n          }\n          return false;\n        });\n      }\n\n      // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n      // everything that is needed to describe a SDP m-line.\n      this.transceivers = [];\n\n      // since the iceGatherer is currently created in createOffer but we\n      // must not emit candidates until after setLocalDescription we buffer\n      // them in this array.\n      this._localIceCandidatesBuffer = [];\n    };\n\n    window.RTCPeerConnection.prototype._emitBufferedCandidates = function() {\n      var self = this;\n      var sections = SDPUtils.splitSections(self.localDescription.sdp);\n      // FIXME: need to apply ice candidates in a way which is async but\n      // in-order\n      this._localIceCandidatesBuffer.forEach(function(event) {\n        var end = !event.candidate || Object.keys(event.candidate).length === 0;\n        if (end) {\n          for (var j = 1; j < sections.length; j++) {\n            if (sections[j].indexOf('\\r\\na=end-of-candidates\\r\\n') === -1) {\n              sections[j] += 'a=end-of-candidates\\r\\n';\n            }\n          }\n        } else if (event.candidate.candidate.indexOf('typ endOfCandidates')\n            === -1) {\n          sections[event.candidate.sdpMLineIndex + 1] +=\n              'a=' + event.candidate.candidate + '\\r\\n';\n        }\n        self.localDescription.sdp = sections.join('');\n        self.dispatchEvent(event);\n        if (self.onicecandidate !== null) {\n          self.onicecandidate(event);\n        }\n        if (!event.candidate && self.iceGatheringState !== 'complete') {\n          var complete = self.transceivers.every(function(transceiver) {\n            return transceiver.iceGatherer &&\n                transceiver.iceGatherer.state === 'completed';\n          });\n          if (complete) {\n            self.iceGatheringState = 'complete';\n          }\n        }\n      });\n      this._localIceCandidatesBuffer = [];\n    };\n\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      this.localStreams.push(stream.clone());\n      this._maybeFireNegotiationNeeded();\n    };\n\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var idx = this.localStreams.indexOf(stream);\n      if (idx > -1) {\n        this.localStreams.splice(idx, 1);\n        this._maybeFireNegotiationNeeded();\n      }\n    };\n\n    window.RTCPeerConnection.prototype.getSenders = function() {\n      return this.transceivers.filter(function(transceiver) {\n        return !!transceiver.rtpSender;\n      })\n      .map(function(transceiver) {\n        return transceiver.rtpSender;\n      });\n    };\n\n    window.RTCPeerConnection.prototype.getReceivers = function() {\n      return this.transceivers.filter(function(transceiver) {\n        return !!transceiver.rtpReceiver;\n      })\n      .map(function(transceiver) {\n        return transceiver.rtpReceiver;\n      });\n    };\n\n    // Determines the intersection of local and remote capabilities.\n    window.RTCPeerConnection.prototype._getCommonCapabilities =\n        function(localCapabilities, remoteCapabilities) {\n          var commonCapabilities = {\n            codecs: [],\n            headerExtensions: [],\n            fecMechanisms: []\n          };\n          localCapabilities.codecs.forEach(function(lCodec) {\n            for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n              var rCodec = remoteCapabilities.codecs[i];\n              if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n                  lCodec.clockRate === rCodec.clockRate &&\n                  lCodec.numChannels === rCodec.numChannels) {\n                // push rCodec so we reply with offerer payload type\n                commonCapabilities.codecs.push(rCodec);\n\n                // determine common feedback mechanisms\n                rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n                  for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n                    if (lCodec.rtcpFeedback[j].type === fb.type &&\n                        lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n                      return true;\n                    }\n                  }\n                  return false;\n                });\n                // FIXME: also need to determine .parameters\n                //  see https://github.com/openpeer/ortc/issues/569\n                break;\n              }\n            }\n          });\n\n          localCapabilities.headerExtensions\n              .forEach(function(lHeaderExtension) {\n                for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n                     i++) {\n                  var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n                  if (lHeaderExtension.uri === rHeaderExtension.uri) {\n                    commonCapabilities.headerExtensions.push(rHeaderExtension);\n                    break;\n                  }\n                }\n              });\n\n          // FIXME: fecMechanisms\n          return commonCapabilities;\n        };\n\n    // Create ICE gatherer, ICE transport and DTLS transport.\n    window.RTCPeerConnection.prototype._createIceAndDtlsTransports =\n        function(mid, sdpMLineIndex) {\n          var self = this;\n          var iceGatherer = new RTCIceGatherer(self.iceOptions);\n          var iceTransport = new RTCIceTransport(iceGatherer);\n          iceGatherer.onlocalcandidate = function(evt) {\n            var event = new Event('icecandidate');\n            event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n            var cand = evt.candidate;\n            var end = !cand || Object.keys(cand).length === 0;\n            // Edge emits an empty object for RTCIceCandidateComplete\n            if (end) {\n              // polyfill since RTCIceGatherer.state is not implemented in\n              // Edge 10547 yet.\n              if (iceGatherer.state === undefined) {\n                iceGatherer.state = 'completed';\n              }\n\n              // Emit a candidate with type endOfCandidates to make the samples\n              // work. Edge requires addIceCandidate with this empty candidate\n              // to start checking. The real solution is to signal\n              // end-of-candidates to the other side when getting the null\n              // candidate but some apps (like the samples) don't do that.\n              event.candidate.candidate =\n                  'candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates';\n            } else {\n              // RTCIceCandidate doesn't have a component, needs to be added\n              cand.component = iceTransport.component === 'RTCP' ? 2 : 1;\n              event.candidate.candidate = SDPUtils.writeCandidate(cand);\n            }\n\n            // update local description.\n            var sections = SDPUtils.splitSections(self.localDescription.sdp);\n            if (event.candidate.candidate.indexOf('typ endOfCandidates')\n                === -1) {\n              sections[event.candidate.sdpMLineIndex + 1] +=\n                  'a=' + event.candidate.candidate + '\\r\\n';\n            } else {\n              sections[event.candidate.sdpMLineIndex + 1] +=\n                  'a=end-of-candidates\\r\\n';\n            }\n            self.localDescription.sdp = sections.join('');\n\n            var complete = self.transceivers.every(function(transceiver) {\n              return transceiver.iceGatherer &&\n                  transceiver.iceGatherer.state === 'completed';\n            });\n\n            // Emit candidate if localDescription is set.\n            // Also emits null candidate when all gatherers are complete.\n            switch (self.iceGatheringState) {\n              case 'new':\n                self._localIceCandidatesBuffer.push(event);\n                if (end && complete) {\n                  self._localIceCandidatesBuffer.push(\n                      new Event('icecandidate'));\n                }\n                break;\n              case 'gathering':\n                self._emitBufferedCandidates();\n                self.dispatchEvent(event);\n                if (self.onicecandidate !== null) {\n                  self.onicecandidate(event);\n                }\n                if (complete) {\n                  self.dispatchEvent(new Event('icecandidate'));\n                  if (self.onicecandidate !== null) {\n                    self.onicecandidate(new Event('icecandidate'));\n                  }\n                  self.iceGatheringState = 'complete';\n                }\n                break;\n              case 'complete':\n                // should not happen... currently!\n                break;\n              default: // no-op.\n                break;\n            }\n          };\n          iceTransport.onicestatechange = function() {\n            self._updateConnectionState();\n          };\n\n          var dtlsTransport = new RTCDtlsTransport(iceTransport);\n          dtlsTransport.ondtlsstatechange = function() {\n            self._updateConnectionState();\n          };\n          dtlsTransport.onerror = function() {\n            // onerror does not set state to failed by itself.\n            dtlsTransport.state = 'failed';\n            self._updateConnectionState();\n          };\n\n          return {\n            iceGatherer: iceGatherer,\n            iceTransport: iceTransport,\n            dtlsTransport: dtlsTransport\n          };\n        };\n\n    // Start the RTP Sender and Receiver for a transceiver.\n    window.RTCPeerConnection.prototype._transceive = function(transceiver,\n        send, recv) {\n      var params = this._getCommonCapabilities(transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n      if (send && transceiver.rtpSender) {\n        params.encodings = transceiver.sendEncodingParameters;\n        params.rtcp = {\n          cname: SDPUtils.localCName\n        };\n        if (transceiver.recvEncodingParameters.length) {\n          params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n        }\n        transceiver.rtpSender.send(params);\n      }\n      if (recv && transceiver.rtpReceiver) {\n        params.encodings = transceiver.recvEncodingParameters;\n        params.rtcp = {\n          cname: transceiver.cname\n        };\n        if (transceiver.sendEncodingParameters.length) {\n          params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n        }\n        transceiver.rtpReceiver.receive(params);\n      }\n    };\n\n    window.RTCPeerConnection.prototype.setLocalDescription =\n        function(description) {\n          var self = this;\n          var sections;\n          var sessionpart;\n          if (description.type === 'offer') {\n            // FIXME: What was the purpose of this empty if statement?\n            // if (!this._pendingOffer) {\n            // } else {\n            if (this._pendingOffer) {\n              // VERY limited support for SDP munging. Limited to:\n              // * changing the order of codecs\n              sections = SDPUtils.splitSections(description.sdp);\n              sessionpart = sections.shift();\n              sections.forEach(function(mediaSection, sdpMLineIndex) {\n                var caps = SDPUtils.parseRtpParameters(mediaSection);\n                self._pendingOffer[sdpMLineIndex].localCapabilities = caps;\n              });\n              this.transceivers = this._pendingOffer;\n              delete this._pendingOffer;\n            }\n          } else if (description.type === 'answer') {\n            sections = SDPUtils.splitSections(self.remoteDescription.sdp);\n            sessionpart = sections.shift();\n            var isIceLite = SDPUtils.matchPrefix(sessionpart,\n                'a=ice-lite').length > 0;\n            sections.forEach(function(mediaSection, sdpMLineIndex) {\n              var transceiver = self.transceivers[sdpMLineIndex];\n              var iceGatherer = transceiver.iceGatherer;\n              var iceTransport = transceiver.iceTransport;\n              var dtlsTransport = transceiver.dtlsTransport;\n              var localCapabilities = transceiver.localCapabilities;\n              var remoteCapabilities = transceiver.remoteCapabilities;\n\n              var rejected = mediaSection.split('\\n', 1)[0]\n                  .split(' ', 2)[1] === '0';\n\n              if (!rejected && !transceiver.isDatachannel) {\n                var remoteIceParameters = SDPUtils.getIceParameters(\n                    mediaSection, sessionpart);\n                if (isIceLite) {\n                  var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n                  .map(function(cand) {\n                    return SDPUtils.parseCandidate(cand);\n                  })\n                  .filter(function(cand) {\n                    return cand.component === '1';\n                  });\n                  // ice-lite only includes host candidates in the SDP so we can\n                  // use setRemoteCandidates (which implies an\n                  // RTCIceCandidateComplete)\n                  if (cands.length) {\n                    iceTransport.setRemoteCandidates(cands);\n                  }\n                }\n                var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n                    mediaSection, sessionpart);\n                if (isIceLite) {\n                  remoteDtlsParameters.role = 'server';\n                }\n\n                if (!self.usingBundle || sdpMLineIndex === 0) {\n                  iceTransport.start(iceGatherer, remoteIceParameters,\n                      isIceLite ? 'controlling' : 'controlled');\n                  dtlsTransport.start(remoteDtlsParameters);\n                }\n\n                // Calculate intersection of capabilities.\n                var params = self._getCommonCapabilities(localCapabilities,\n                    remoteCapabilities);\n\n                // Start the RTCRtpSender. The RTCRtpReceiver for this\n                // transceiver has already been started in setRemoteDescription.\n                self._transceive(transceiver,\n                    params.codecs.length > 0,\n                    false);\n              }\n            });\n          }\n\n          this.localDescription = {\n            type: description.type,\n            sdp: description.sdp\n          };\n          switch (description.type) {\n            case 'offer':\n              this._updateSignalingState('have-local-offer');\n              break;\n            case 'answer':\n              this._updateSignalingState('stable');\n              break;\n            default:\n              throw new TypeError('unsupported type \"' + description.type +\n                  '\"');\n          }\n\n          // If a success callback was provided, emit ICE candidates after it\n          // has been executed. Otherwise, emit callback after the Promise is\n          // resolved.\n          var hasCallback = arguments.length > 1 &&\n            typeof arguments[1] === 'function';\n          if (hasCallback) {\n            var cb = arguments[1];\n            window.setTimeout(function() {\n              cb();\n              if (self.iceGatheringState === 'new') {\n                self.iceGatheringState = 'gathering';\n              }\n              self._emitBufferedCandidates();\n            }, 0);\n          }\n          var p = Promise.resolve();\n          p.then(function() {\n            if (!hasCallback) {\n              if (self.iceGatheringState === 'new') {\n                self.iceGatheringState = 'gathering';\n              }\n              // Usually candidates will be emitted earlier.\n              window.setTimeout(self._emitBufferedCandidates.bind(self), 500);\n            }\n          });\n          return p;\n        };\n\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n        function(description) {\n          var self = this;\n          var stream = new MediaStream();\n          var receiverList = [];\n          var sections = SDPUtils.splitSections(description.sdp);\n          var sessionpart = sections.shift();\n          var isIceLite = SDPUtils.matchPrefix(sessionpart,\n              'a=ice-lite').length > 0;\n          this.usingBundle = SDPUtils.matchPrefix(sessionpart,\n              'a=group:BUNDLE ').length > 0;\n          sections.forEach(function(mediaSection, sdpMLineIndex) {\n            var lines = SDPUtils.splitLines(mediaSection);\n            var mline = lines[0].substr(2).split(' ');\n            var kind = mline[0];\n            var rejected = mline[1] === '0';\n            var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n\n            var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:');\n            if (mid.length) {\n              mid = mid[0].substr(6);\n            } else {\n              mid = SDPUtils.generateIdentifier();\n            }\n\n            // Reject datachannels which are not implemented yet.\n            if (kind === 'application' && mline[2] === 'DTLS/SCTP') {\n              self.transceivers[sdpMLineIndex] = {\n                mid: mid,\n                isDatachannel: true\n              };\n              return;\n            }\n\n            var transceiver;\n            var iceGatherer;\n            var iceTransport;\n            var dtlsTransport;\n            var rtpSender;\n            var rtpReceiver;\n            var sendEncodingParameters;\n            var recvEncodingParameters;\n            var localCapabilities;\n\n            var track;\n            // FIXME: ensure the mediaSection has rtcp-mux set.\n            var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n            var remoteIceParameters;\n            var remoteDtlsParameters;\n            if (!rejected) {\n              remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n                  sessionpart);\n              remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n                  sessionpart);\n              remoteDtlsParameters.role = 'client';\n            }\n            recvEncodingParameters =\n                SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n            var cname;\n            // Gets the first SSRC. Note that with RTX there might be multiple\n            // SSRCs.\n            var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n                .map(function(line) {\n                  return SDPUtils.parseSsrcMedia(line);\n                })\n                .filter(function(obj) {\n                  return obj.attribute === 'cname';\n                })[0];\n            if (remoteSsrc) {\n              cname = remoteSsrc.value;\n            }\n\n            var isComplete = SDPUtils.matchPrefix(mediaSection,\n                'a=end-of-candidates', sessionpart).length > 0;\n            var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n                .map(function(cand) {\n                  return SDPUtils.parseCandidate(cand);\n                })\n                .filter(function(cand) {\n                  return cand.component === '1';\n                });\n            if (description.type === 'offer' && !rejected) {\n              var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n                iceGatherer: self.transceivers[0].iceGatherer,\n                iceTransport: self.transceivers[0].iceTransport,\n                dtlsTransport: self.transceivers[0].dtlsTransport\n              } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\n              if (isComplete) {\n                transports.iceTransport.setRemoteCandidates(cands);\n              }\n\n              localCapabilities = RTCRtpReceiver.getCapabilities(kind);\n              sendEncodingParameters = [{\n                ssrc: (2 * sdpMLineIndex + 2) * 1001\n              }];\n\n              rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport, kind);\n\n              track = rtpReceiver.track;\n              receiverList.push([track, rtpReceiver]);\n              // FIXME: not correct when there are multiple streams but that is\n              // not currently supported in this shim.\n              stream.addTrack(track);\n\n              // FIXME: look at direction.\n              if (self.localStreams.length > 0 &&\n                  self.localStreams[0].getTracks().length >= sdpMLineIndex) {\n                var localTrack;\n                if (kind === 'audio') {\n                  localTrack = self.localStreams[0].getAudioTracks()[0];\n                } else if (kind === 'video') {\n                  localTrack = self.localStreams[0].getVideoTracks()[0];\n                }\n                if (localTrack) {\n                  rtpSender = new RTCRtpSender(localTrack,\n                      transports.dtlsTransport);\n                }\n              }\n\n              self.transceivers[sdpMLineIndex] = {\n                iceGatherer: transports.iceGatherer,\n                iceTransport: transports.iceTransport,\n                dtlsTransport: transports.dtlsTransport,\n                localCapabilities: localCapabilities,\n                remoteCapabilities: remoteCapabilities,\n                rtpSender: rtpSender,\n                rtpReceiver: rtpReceiver,\n                kind: kind,\n                mid: mid,\n                cname: cname,\n                sendEncodingParameters: sendEncodingParameters,\n                recvEncodingParameters: recvEncodingParameters\n              };\n              // Start the RTCRtpReceiver now. The RTPSender is started in\n              // setLocalDescription.\n              self._transceive(self.transceivers[sdpMLineIndex],\n                  false,\n                  direction === 'sendrecv' || direction === 'sendonly');\n            } else if (description.type === 'answer' && !rejected) {\n              transceiver = self.transceivers[sdpMLineIndex];\n              iceGatherer = transceiver.iceGatherer;\n              iceTransport = transceiver.iceTransport;\n              dtlsTransport = transceiver.dtlsTransport;\n              rtpSender = transceiver.rtpSender;\n              rtpReceiver = transceiver.rtpReceiver;\n              sendEncodingParameters = transceiver.sendEncodingParameters;\n              localCapabilities = transceiver.localCapabilities;\n\n              self.transceivers[sdpMLineIndex].recvEncodingParameters =\n                  recvEncodingParameters;\n              self.transceivers[sdpMLineIndex].remoteCapabilities =\n                  remoteCapabilities;\n              self.transceivers[sdpMLineIndex].cname = cname;\n\n              if ((isIceLite || isComplete) && cands.length) {\n                iceTransport.setRemoteCandidates(cands);\n              }\n              if (!self.usingBundle || sdpMLineIndex === 0) {\n                iceTransport.start(iceGatherer, remoteIceParameters,\n                    'controlling');\n                dtlsTransport.start(remoteDtlsParameters);\n              }\n\n              self._transceive(transceiver,\n                  direction === 'sendrecv' || direction === 'recvonly',\n                  direction === 'sendrecv' || direction === 'sendonly');\n\n              if (rtpReceiver &&\n                  (direction === 'sendrecv' || direction === 'sendonly')) {\n                track = rtpReceiver.track;\n                receiverList.push([track, rtpReceiver]);\n                stream.addTrack(track);\n              } else {\n                // FIXME: actually the receiver should be created later.\n                delete transceiver.rtpReceiver;\n              }\n            }\n          });\n\n          this.remoteDescription = {\n            type: description.type,\n            sdp: description.sdp\n          };\n          switch (description.type) {\n            case 'offer':\n              this._updateSignalingState('have-remote-offer');\n              break;\n            case 'answer':\n              this._updateSignalingState('stable');\n              break;\n            default:\n              throw new TypeError('unsupported type \"' + description.type +\n                  '\"');\n          }\n          if (stream.getTracks().length) {\n            self.remoteStreams.push(stream);\n            window.setTimeout(function() {\n              var event = new Event('addstream');\n              event.stream = stream;\n              self.dispatchEvent(event);\n              if (self.onaddstream !== null) {\n                window.setTimeout(function() {\n                  self.onaddstream(event);\n                }, 0);\n              }\n\n              receiverList.forEach(function(item) {\n                var track = item[0];\n                var receiver = item[1];\n                var trackEvent = new Event('track');\n                trackEvent.track = track;\n                trackEvent.receiver = receiver;\n                trackEvent.streams = [stream];\n                self.dispatchEvent(event);\n                if (self.ontrack !== null) {\n                  window.setTimeout(function() {\n                    self.ontrack(trackEvent);\n                  }, 0);\n                }\n              });\n            }, 0);\n          }\n          if (arguments.length > 1 && typeof arguments[1] === 'function') {\n            window.setTimeout(arguments[1], 0);\n          }\n          return Promise.resolve();\n        };\n\n    window.RTCPeerConnection.prototype.close = function() {\n      this.transceivers.forEach(function(transceiver) {\n        /* not yet\n        if (transceiver.iceGatherer) {\n          transceiver.iceGatherer.close();\n        }\n        */\n        if (transceiver.iceTransport) {\n          transceiver.iceTransport.stop();\n        }\n        if (transceiver.dtlsTransport) {\n          transceiver.dtlsTransport.stop();\n        }\n        if (transceiver.rtpSender) {\n          transceiver.rtpSender.stop();\n        }\n        if (transceiver.rtpReceiver) {\n          transceiver.rtpReceiver.stop();\n        }\n      });\n      // FIXME: clean up tracks, local streams, remote streams, etc\n      this._updateSignalingState('closed');\n    };\n\n    // Update the signaling state.\n    window.RTCPeerConnection.prototype._updateSignalingState =\n        function(newState) {\n          this.signalingState = newState;\n          var event = new Event('signalingstatechange');\n          this.dispatchEvent(event);\n          if (this.onsignalingstatechange !== null) {\n            this.onsignalingstatechange(event);\n          }\n        };\n\n    // Determine whether to fire the negotiationneeded event.\n    window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded =\n        function() {\n          // Fire away (for now).\n          var event = new Event('negotiationneeded');\n          this.dispatchEvent(event);\n          if (this.onnegotiationneeded !== null) {\n            this.onnegotiationneeded(event);\n          }\n        };\n\n    // Update the connection state.\n    window.RTCPeerConnection.prototype._updateConnectionState = function() {\n      var self = this;\n      var newState;\n      var states = {\n        'new': 0,\n        closed: 0,\n        connecting: 0,\n        checking: 0,\n        connected: 0,\n        completed: 0,\n        failed: 0\n      };\n      this.transceivers.forEach(function(transceiver) {\n        states[transceiver.iceTransport.state]++;\n        states[transceiver.dtlsTransport.state]++;\n      });\n      // ICETransport.completed and connected are the same for this purpose.\n      states.connected += states.completed;\n\n      newState = 'new';\n      if (states.failed > 0) {\n        newState = 'failed';\n      } else if (states.connecting > 0 || states.checking > 0) {\n        newState = 'connecting';\n      } else if (states.disconnected > 0) {\n        newState = 'disconnected';\n      } else if (states.new > 0) {\n        newState = 'new';\n      } else if (states.connected > 0 || states.completed > 0) {\n        newState = 'connected';\n      }\n\n      if (newState !== self.iceConnectionState) {\n        self.iceConnectionState = newState;\n        var event = new Event('iceconnectionstatechange');\n        this.dispatchEvent(event);\n        if (this.oniceconnectionstatechange !== null) {\n          this.oniceconnectionstatechange(event);\n        }\n      }\n    };\n\n    window.RTCPeerConnection.prototype.createOffer = function() {\n      var self = this;\n      if (this._pendingOffer) {\n        throw new Error('createOffer called while there is a pending offer.');\n      }\n      var offerOptions;\n      if (arguments.length === 1 && typeof arguments[0] !== 'function') {\n        offerOptions = arguments[0];\n      } else if (arguments.length === 3) {\n        offerOptions = arguments[2];\n      }\n\n      var tracks = [];\n      var numAudioTracks = 0;\n      var numVideoTracks = 0;\n      // Default to sendrecv.\n      if (this.localStreams.length) {\n        numAudioTracks = this.localStreams[0].getAudioTracks().length;\n        numVideoTracks = this.localStreams[0].getVideoTracks().length;\n      }\n      // Determine number of audio and video tracks we need to send/recv.\n      if (offerOptions) {\n        // Reject Chrome legacy constraints.\n        if (offerOptions.mandatory || offerOptions.optional) {\n          throw new TypeError(\n              'Legacy mandatory/optional constraints not supported.');\n        }\n        if (offerOptions.offerToReceiveAudio !== undefined) {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n        if (offerOptions.offerToReceiveVideo !== undefined) {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n      if (this.localStreams.length) {\n        // Push local streams.\n        this.localStreams[0].getTracks().forEach(function(track) {\n          tracks.push({\n            kind: track.kind,\n            track: track,\n            wantReceive: track.kind === 'audio' ?\n                numAudioTracks > 0 : numVideoTracks > 0\n          });\n          if (track.kind === 'audio') {\n            numAudioTracks--;\n          } else if (track.kind === 'video') {\n            numVideoTracks--;\n          }\n        });\n      }\n      // Create M-lines for recvonly streams.\n      while (numAudioTracks > 0 || numVideoTracks > 0) {\n        if (numAudioTracks > 0) {\n          tracks.push({\n            kind: 'audio',\n            wantReceive: true\n          });\n          numAudioTracks--;\n        }\n        if (numVideoTracks > 0) {\n          tracks.push({\n            kind: 'video',\n            wantReceive: true\n          });\n          numVideoTracks--;\n        }\n      }\n\n      var sdp = SDPUtils.writeSessionBoilerplate();\n      var transceivers = [];\n      tracks.forEach(function(mline, sdpMLineIndex) {\n        // For each track, create an ice gatherer, ice transport,\n        // dtls transport, potentially rtpsender and rtpreceiver.\n        var track = mline.track;\n        var kind = mline.kind;\n        var mid = SDPUtils.generateIdentifier();\n\n        var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n          iceGatherer: transceivers[0].iceGatherer,\n          iceTransport: transceivers[0].iceTransport,\n          dtlsTransport: transceivers[0].dtlsTransport\n        } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\n        var localCapabilities = RTCRtpSender.getCapabilities(kind);\n        var rtpSender;\n        var rtpReceiver;\n\n        // generate an ssrc now, to be used later in rtpSender.send\n        var sendEncodingParameters = [{\n          ssrc: (2 * sdpMLineIndex + 1) * 1001\n        }];\n        if (track) {\n          rtpSender = new RTCRtpSender(track, transports.dtlsTransport);\n        }\n\n        if (mline.wantReceive) {\n          rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport, kind);\n        }\n\n        transceivers[sdpMLineIndex] = {\n          iceGatherer: transports.iceGatherer,\n          iceTransport: transports.iceTransport,\n          dtlsTransport: transports.dtlsTransport,\n          localCapabilities: localCapabilities,\n          remoteCapabilities: null,\n          rtpSender: rtpSender,\n          rtpReceiver: rtpReceiver,\n          kind: kind,\n          mid: mid,\n          sendEncodingParameters: sendEncodingParameters,\n          recvEncodingParameters: null\n        };\n      });\n      if (this.usingBundle) {\n        sdp += 'a=group:BUNDLE ' + transceivers.map(function(t) {\n          return t.mid;\n        }).join(' ') + '\\r\\n';\n      }\n      tracks.forEach(function(mline, sdpMLineIndex) {\n        var transceiver = transceivers[sdpMLineIndex];\n        sdp += SDPUtils.writeMediaSection(transceiver,\n            transceiver.localCapabilities, 'offer', self.localStreams[0]);\n      });\n\n      this._pendingOffer = transceivers;\n      var desc = new RTCSessionDescription({\n        type: 'offer',\n        sdp: sdp\n      });\n      if (arguments.length && typeof arguments[0] === 'function') {\n        window.setTimeout(arguments[0], 0, desc);\n      }\n      return Promise.resolve(desc);\n    };\n\n    window.RTCPeerConnection.prototype.createAnswer = function() {\n      var self = this;\n\n      var sdp = SDPUtils.writeSessionBoilerplate();\n      if (this.usingBundle) {\n        sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n          return t.mid;\n        }).join(' ') + '\\r\\n';\n      }\n      this.transceivers.forEach(function(transceiver) {\n        if (transceiver.isDatachannel) {\n          sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n' +\n              'c=IN IP4 0.0.0.0\\r\\n' +\n              'a=mid:' + transceiver.mid + '\\r\\n';\n          return;\n        }\n        // Calculate intersection of capabilities.\n        var commonCapabilities = self._getCommonCapabilities(\n            transceiver.localCapabilities,\n            transceiver.remoteCapabilities);\n\n        sdp += SDPUtils.writeMediaSection(transceiver, commonCapabilities,\n            'answer', self.localStreams[0]);\n      });\n\n      var desc = new RTCSessionDescription({\n        type: 'answer',\n        sdp: sdp\n      });\n      if (arguments.length && typeof arguments[0] === 'function') {\n        window.setTimeout(arguments[0], 0, desc);\n      }\n      return Promise.resolve(desc);\n    };\n\n    window.RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n      if (candidate === null) {\n        this.transceivers.forEach(function(transceiver) {\n          transceiver.iceTransport.addRemoteCandidate({});\n        });\n      } else {\n        var mLineIndex = candidate.sdpMLineIndex;\n        if (candidate.sdpMid) {\n          for (var i = 0; i < this.transceivers.length; i++) {\n            if (this.transceivers[i].mid === candidate.sdpMid) {\n              mLineIndex = i;\n              break;\n            }\n          }\n        }\n        var transceiver = this.transceivers[mLineIndex];\n        if (transceiver) {\n          var cand = Object.keys(candidate.candidate).length > 0 ?\n              SDPUtils.parseCandidate(candidate.candidate) : {};\n          // Ignore Chrome's invalid candidates since Edge does not like them.\n          if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n            return;\n          }\n          // Ignore RTCP candidates, we assume RTCP-MUX.\n          if (cand.component !== '1') {\n            return;\n          }\n          // A dirty hack to make samples work.\n          if (cand.type === 'endOfCandidates') {\n            cand = {};\n          }\n          transceiver.iceTransport.addRemoteCandidate(cand);\n\n          // update the remoteDescription.\n          var sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n          sections[mLineIndex + 1] += (cand.type ? candidate.candidate.trim()\n              : 'a=end-of-candidates') + '\\r\\n';\n          this.remoteDescription.sdp = sections.join('');\n        }\n      }\n      if (arguments.length > 1 && typeof arguments[1] === 'function') {\n        window.setTimeout(arguments[1], 0);\n      }\n      return Promise.resolve();\n    };\n\n    window.RTCPeerConnection.prototype.getStats = function() {\n      var promises = [];\n      this.transceivers.forEach(function(transceiver) {\n        ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n            'dtlsTransport'].forEach(function(method) {\n              if (transceiver[method]) {\n                promises.push(transceiver[method].getStats());\n              }\n            });\n      });\n      var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n          arguments[1];\n      return new Promise(function(resolve) {\n        // shim getStats with maplike support\n        var results = new Map();\n        Promise.all(promises).then(function(res) {\n          res.forEach(function(result) {\n            Object.keys(result).forEach(function(id) {\n              results.set(id, result[id]);\n              results[id] = result[id];\n            });\n          });\n          if (cb) {\n            window.setTimeout(cb, 0, results);\n          }\n          resolve(results);\n        });\n      });\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimPeerConnection: edgeShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar browserDetails = require('../utils').browserDetails;\n\nvar firefoxShim = {\n  shimOnTrack: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function() {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function() {\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = mozRTCSessionDescription;\n      window.RTCIceCandidate = mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = RTCPeerConnection.prototype[method];\n          RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null)\n    var nativeAddIceCandidate =\n        RTCPeerConnection.prototype.addIceCandidate;\n    RTCPeerConnection.prototype.addIceCandidate = function() {\n      return arguments[0] === null ? Promise.resolve()\n          : nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function(stats) {\n      var map = new Map();\n      Object.keys(stats).forEach(function(key) {\n        map.set(key, stats[key]);\n        map[key] = stats[key];\n      });\n      return map;\n    };\n\n    var nativeGetStats = RTCPeerConnection.prototype.getStats;\n    RTCPeerConnection.prototype.getStats = function(selector, onSucc, onErr) {\n      return nativeGetStats.apply(this, [selector || null])\n        .then(function(stats) {\n          return makeMapStats(stats);\n        })\n        .then(onSucc, onErr);\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimOnTrack: firefoxShim.shimOnTrack,\n  shimSourceObject: firefoxShim.shimSourceObject,\n  shimPeerConnection: firefoxShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar safariShim = {\n  // TODO: DrAlex, should be here, double check against LayoutTests\n  // shimOnTrack: function() { },\n\n  // TODO: once the back-end for the mac port is done, add.\n  // TODO: check for webkitGTK+\n  // shimPeerConnection: function() { },\n\n  shimGetUserMedia: function() {\n    navigator.getUserMedia = navigator.webkitGetUserMedia;\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimGetUserMedia: safariShim.shimGetUserMedia\n  // TODO\n  // shimOnTrack: safariShim.shimOnTrack,\n  // shimPeerConnection: safariShim.shimPeerConnection\n};\n","<style lang=\"postcss\">\n@import \"normalize.css\";\n@import \"bulma/css/bulma.css\";\n@import \"font-awesome/css/font-awesome.css\";\n\nhtml, body, .root {\n  width: 100vw;\n  height: 100vh;\n  background: black;\n  user-select: none;\n}\n.root__videoContainer {\n  position: relative;\n  width: 100vw;\n  height: 100vw;\n  margin: auto;\n  overflow: hidden;\n\n  & > video, & > img {\n    display: inline-block;\n    min-width: 100%;\n    min-height: 100%;\n    position: relative;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n}\n\n.root__overlayText {\n  position: absolute;\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  white-space: nowrap;\n  margin: 0;\n  color: white;\n  font-weight: bold;\n}\n\n.root__overlayText[type=\"normal\"] {\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.root__overlayText[type=\"godzilla\"] {\n  bottom: 0;\n  left: 0;\n  transform: scaleX(0.85);\n  letter-spacing: -0.03em;\n}\n\n.root__videoPreview > progress {\n  position: absolute;\n  display: inline-block;\n  width: 80%;\n  height: 2vh;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin: 0;\n  color: white;\n  font-size: calc(100vw / 4);\n  font-weight: bold;\n}\n\n.root__download {\n  width: 100%;\n  height: auto;\n  box-sizing: border-box;\n  padding: 0 10px;\n}\n\n.root__controller {\n  width: 100vw;\n  height: calc(100vh - 100vw - 32px);\n  box-sizing: border-box;\n  overflow: hidden;\n  padding: 5vw;\n}\n\n.root__captureButton {\n  max-width: 100%;\n  max-height: 100%;\n}\n\n</style>\n\n<template lang=\"pug\">\n.root\n  .root__videoContainer.root__videoPreview(\n    v-show=\"status === STATUS.STOP || status === STATUS.RECORDING\",\n  )\n    video(ref=\"video\", muted, autoplay)\n    p.root__overlayText(\n      ref=\"overlayText\", :style=\"styles.root__overlayText\",\n      :type=\"overlayTextType\",\n    )\n      span {{text}}\n  .root__videoContainer.root__videoPreview(\n    v-show=\"status === STATUS.GENERATING\",\n  )\n    video(ref=\"recorded\", loop, muted, autoplay)\n    p.root__overlayText(\n      ref=\"overlayText\", :style=\"styles.root__overlayText\",\n      :type=\"overlayTextType\",\n    )\n      span {{text}}\n    progress.progress.is-info(:value=\"progress * 10\", max=\"11\")\n  .root__videoContainer(\n    v-show=\"status === STATUS.GENERATED\",\n  )\n    img(:src=\"gifImage\", ref=\"gifImage\")\n  .root__download.columns.is-gapless.is-flex.is-marginless\n    .column.is-3-mobile.is-flex.has-text-left\n      button.button.is-outlined.is-danger(@click=\"reset\") RESET\n    .column.is-1-mobile.is-flex\n      button.button\n        i.fa(\n        :class=\"{\\\n          'fa-thumbs-o-up': overlayTextType === 'normal',\\\n          'fa-warning': overlayTextType === 'godzilla',\\\n        }\", @click=\"toggleType\")\n    .column.is-4-mobile.is-flex\n      input.input(\n        v-model=\"text\", placeholder=\"LGTM\", :disabled=\"status !== STATUS.STOP\",\n        @keyup.enter=\"blur\",\n      )\n    .column.is-1-mobile.is-flex\n    .column.is-3-mobile.is-flex.has-text-right\n      button.button.is-outlined.is-primary(\n        @click=\"downloadGif\", :disabled=\"status !== STATUS.GENERATED\"\n      ) DOWNLOAD\n  .root__controller\n    capture-button.root__captureButton(\n      :time=\"recTime\", @start=\"startRecord\", @stop=\"stopRecord\",\n    )\n  japont-config(\n    ref=\"japont\", src=\"ipaex/ipaex-mincho.woff\",\n    selector=\".root__overlayText[type='godzilla']\", alias=\"IPAexMincho\"\n  )\n</template>\n\n<script>\nimport RecordRTC from 'recordrtc';\nimport gifshot from 'gifshot';\nimport { saveAs } from 'file-saver';\nimport debounce from 'lodash.debounce';\nimport eaw from 'eastasianwidth';\nimport MobileDetect from 'mobile-detect';\nimport CaptureButton from './CaptureButton.vue';\n\nconst STATUS = {\n  INIT: 0,\n  STOP: 1,\n  RECORDING: 2,\n  GENERATING: 3,\n  GENERATED: 4,\n};\n\nexport default {\n  data: () => ({\n    mobileDetect: new MobileDetect(window.navigator.userAgent),\n    stream: null,\n    recordRTC: null,\n    recorded: null,\n    gifImage: null,\n    status: STATUS.INIT,\n    progress: 0,\n    recTime: 0,\n    recStartDate: null,\n    devices: [],\n    text: 'LGTM',\n    overlayTextType: 'normal',\n    constraints: {\n      audio: false,\n      video: true,\n    },\n    options: {\n      mimeType: 'video/mp4',\n      type: 'video',\n      videoBitsPerSecond: 128000,\n      numWorkers: 4,\n    },\n    styles: {\n      root__overlayText: {\n        fontSize: '',\n      },\n    },\n    STATUS,\n  }),\n  computed: {},\n  watch: {\n    stream(stream) {\n      this.$refs.video.srcObject = stream;\n      this.recordRTC = new RecordRTC(stream, this.options);\n    },\n    text() {\n      this.fitOverlayText();\n      this.reloadFont();\n    },\n    overlayTextType() {\n      this.reloadFont();\n    },\n  },\n  mounted() {\n    this.checkDevice();\n    this.initStream();\n    this.initCanvasPatch();\n    this.fitOverlayText();\n  },\n  methods: {\n    checkDevice() {\n      if (this.mobileDetect.os() !== 'AndroidOS') {\n        alert('Please access via Android.');\n        location.href = '../';\n      }\n    },\n    initStream() {\n      navigator.mediaDevices.enumerateDevices()\n        .then((devices) => {\n          this.devices =\n            devices.filter(d => d.kind === 'videoinput');\n          const device =\n            this.devices.find(d => d.label.toLowerCase().includes('back'));\n          if (device) {\n            this.constraints.video = {\n              deviceId: { exact: device.deviceId },\n            };\n          } else {\n            this.constraints.video = true;\n          }\n          navigator.mediaDevices.getUserMedia(this.constraints)\n            .then(this.initStreamSuccessHandler.bind(this))\n            .catch(this.initStreamErrorHandler.bind(this));\n        });\n    },\n    initCanvasPatch() {\n      const originalFillText = CanvasRenderingContext2D.prototype.fillText;\n      const self = this;\n      CanvasRenderingContext2D.prototype.fillText = function fillText(text, x, y) {\n        if (self.overlayTextType === 'godzilla') {\n          this.canvas.style['letter-spacing'] = '-0.03em';\n          const textWidth =\n            self.$refs.overlayText.querySelector('span').getBoundingClientRect().width;\n          const calcedWidth =\n            (textWidth * 300) / window.innerWidth;\n          originalFillText.call(this, text, x, y, calcedWidth);\n        } else {\n          originalFillText.call(this, text, x, y);\n        }\n      };\n    },\n    initStreamSuccessHandler(stream) {\n      this.stream = stream;\n      this.status = STATUS.STOP;\n      const videoTracks = stream.getVideoTracks();\n      console.log(videoTracks);\n    },\n    initStreamErrorHandler(error) {\n      if (error.name === 'ConstraintNotSatisfiedError') {\n        console.error(`The resolution ${this.constraints.video.width.exact} x ${this.constraints.video.width.exact} px is not supported by your device.`);\n      } else if (error.name === 'PermissionDeniedError') {\n        console.error('Permissions have not been granted to use your camera and microphone, you need to allow the page access to your devices in order for the demo to work.');\n      }\n      console.error(`getUserMedia error: ${error.name}`, error);\n    },\n    startRecord() {\n      if (this.status === STATUS.STOP) {\n        this.status = STATUS.RECORDING;\n        this.recordRTC.startRecording();\n        this.recStartDate = new Date();\n        this.updateRecTime();\n      }\n    },\n    stopRecord() {\n      if (this.status === STATUS.RECORDING) {\n        this.status = STATUS.GENERATING;\n        this.progress = 0;\n        this.recordRTC.stopRecording((videoURL) => {\n          this.recorded = videoURL;\n          this.playPreview();\n          this.createGif();\n        });\n      }\n    },\n    playPreview() {\n      const duration = Math.floor(this.recTime);\n      const playbackRate = (duration <= 4) ? 1 : 2;\n\n      this.$refs.recorded.src = this.recorded;\n      this.$refs.recorded.playbackRate = playbackRate;\n    },\n    updateRecTime() {\n      if (this.status === STATUS.RECORDING) {\n        this.recTime = (new Date() - this.recStartDate) / 1000;\n        if (this.recTime > 10) {\n          this.stopRecord();\n        }\n        requestAnimationFrame(this.updateRecTime.bind(this));\n      }\n    },\n    createGif() {\n      console.log('Creating Gif...');\n\n      const duration = this.recTime;\n      const interval = (duration <= 4) ? 0.1 : 0.2;\n\n      const overlayTextStyle = window.getComputedStyle(this.$refs.overlayText);\n      const fontSize =\n        `${(parseFloat(overlayTextStyle.fontSize) * 300) / window.innerWidth}px`;\n\n      gifshot.createGIF({\n        video: [this.recorded],\n        interval,\n        numFrames: Math.floor(duration / interval),\n        gifWidth: 300,\n        gifHeight: 300,\n        text: this.text,\n        fontFamily: overlayTextStyle.fontFamily,\n        fontWeight: overlayTextStyle.fontWeight,\n        fontSize,\n        textAlign: 'center',\n        textBaseline: (this.overlayTextType === 'normal') ? 'middle' : 'bottom',\n        textYCoordinate: (this.overlayTextType === 'normal') ? 150 : null,\n        progressCallback: (progress) => {\n          this.progress = progress;\n        },\n      },\n      (obj) => {\n        if (!obj.error) {\n          this.gifImage = obj.image;\n          this.status = STATUS.GENERATED;\n        } else {\n          console.error(obj.error);\n        }\n      });\n    },\n    reset() {\n      location.reload();\n    },\n    toggleType() {\n      const type = this.overlayTextType;\n      if (type === 'normal') {\n        this.overlayTextType = 'godzilla';\n      } else {\n        this.overlayTextType = 'normal';\n      }\n    },\n    downloadGif() {\n      fetch(this.gifImage)\n        .then(res => res.blob())\n        .then(blob => saveAs(blob, `${this.text}.gif`));\n    },\n    fitOverlayText() {\n      const len =\n        (this.type === 'normal')\n        ? eaw.length(this.text) / 2\n        : this.text.length;\n      this.styles.root__overlayText.fontSize = `calc(90vw / ${len})`;\n    },\n    reloadFont: debounce(function reloadFont() {\n      if (this.overlayTextType === 'godzilla') {\n        this.$refs.japont.reload();\n      }\n    }, 1000),\n    blur($event) {\n      $event.target.blur();\n    },\n  },\n  components: {\n    CaptureButton,\n  },\n};\n</script>\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar logging = require('../utils.js').log;\n\n// Expose public methods.\nmodule.exports = function() {\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && constraints.audio) {\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile, where it defaults to \"user\".\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode)) {\n        delete constraints.video.facingMode;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          // Look for \"back\" in label, or use last cam (typically back cam).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var back = devices.find(function(d) {\n              return d.label.toLowerCase().indexOf('back') !== -1;\n            }) || (devices.length && devices[devices.length - 1]);\n            if (back) {\n              constraints.video.deviceId = face.exact ? {exact: back.deviceId} :\n                                                        {ideal: back.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        onError(shimError_(e));\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                      kind: kinds[device.kind],\n                      deviceId: device.id,\n                      groupId: ''};\n            }));\n          });\n        });\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).catch(function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logging = require('../utils').log;\nvar browserDetails = require('../utils').browserDetails;\n\n// Expose public methods.\nmodule.exports = function() {\n  var shimError_ = function(e) {\n    return {\n      name: {\n        SecurityError: 'NotAllowedError',\n        PermissionDeniedError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).catch(function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    console.warn('navigator.getUserMedia has been replaced by ' +\n                 'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\n// Expose public methods.\nmodule.exports = function() {\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n","/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement)\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define([], function() {\n    return saveAs;\n  });\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","'use strict';\n\n// Last time updated: 2016-08-11 4:09:01 PM UTC\n\n// Open-Sourced: https://github.com/muaz-khan/RecordRTC\n\n//--------------------------------------------------\n// Muaz Khan     - www.MuazKhan.com\n// MIT License   - www.WebRTC-Experiment.com/licence\n//--------------------------------------------------\n\n// ____________\n// RecordRTC.js\n\n/**\n * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a JavaScript-based media-recording library for modern web-browsers (supporting WebRTC getUserMedia API). It is optimized for different devices and browsers to bring all client-side (pluginfree) recording solutions in single place.\n * @summary JavaScript audio/video recording library runs top over WebRTC getUserMedia API.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef RecordRTC\n * @class\n * @example\n * var recordRTC = RecordRTC(mediaStream, {\n *     type: 'video' // audio or video or gif or canvas\n * });\n *\n * // or, you can also use the \"new\" keyword\n * var recordRTC = new RecordRTC(mediaStream[, config]);\n * @see For further information:\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {type:\"video\", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}\n */\n\nfunction RecordRTC(mediaStream, config) {\n    if (!mediaStream) {\n        throw 'MediaStream is mandatory.';\n    }\n\n    config = config || {\n        type: 'video'\n    };\n\n    config = new RecordRTCConfiguration(mediaStream, config);\n\n    // a reference to user's recordRTC object\n    var self = this;\n\n    function startRecording() {\n        if (!config.disableLogs) {\n            console.debug('started recording ' + config.type + ' stream.');\n        }\n\n        if (mediaRecorder) {\n            mediaRecorder.clearRecordedData();\n            mediaRecorder.resume();\n\n            if (self.recordingDuration) {\n                handleRecordingDuration();\n            }\n            return self;\n        }\n\n        initRecorder(function() {\n            if (self.recordingDuration) {\n                handleRecordingDuration();\n            }\n        });\n\n        return self;\n    }\n\n    function initRecorder(initCallback) {\n        if (initCallback) {\n            config.initCallback = function() {\n                initCallback();\n                initCallback = config.initCallback = null; // recordRTC.initRecorder should be call-backed once.\n            };\n        }\n\n        var Recorder = new GetRecorderType(mediaStream, config);\n\n        mediaRecorder = new Recorder(mediaStream, config);\n        mediaRecorder.record();\n\n        if (!config.disableLogs) {\n            console.debug('Initialized recorderType:', mediaRecorder.constructor.name, 'for output-type:', config.type);\n        }\n    }\n\n    function stopRecording(callback) {\n        if (!mediaRecorder) {\n            return console.warn(WARNING);\n        }\n\n        /*jshint validthis:true */\n        var recordRTC = this;\n\n        if (!config.disableLogs) {\n            console.warn('Stopped recording ' + config.type + ' stream.');\n        }\n\n        if (config.type !== 'gif') {\n            mediaRecorder.stop(_callback);\n        } else {\n            mediaRecorder.stop();\n            _callback();\n        }\n\n        function _callback(__blob) {\n            for (var item in mediaRecorder) {\n                if (self) {\n                    self[item] = mediaRecorder[item];\n                }\n\n                if (recordRTC) {\n                    recordRTC[item] = mediaRecorder[item];\n                }\n            }\n\n            var blob = mediaRecorder.blob;\n\n            if (!blob) {\n                if (__blob) {\n                    mediaRecorder.blob = blob = __blob;\n                } else {\n                    throw 'Recording failed.';\n                }\n            }\n\n            if (callback) {\n                var url = URL.createObjectURL(blob);\n                callback(url);\n            }\n\n            if (blob && !config.disableLogs) {\n                console.debug(blob.type, '->', bytesToSize(blob.size));\n            }\n\n            if (!config.autoWriteToDisk) {\n                return;\n            }\n\n            getDataURL(function(dataURL) {\n                var parameter = {};\n                parameter[config.type + 'Blob'] = dataURL;\n                DiskStorage.Store(parameter);\n            });\n        }\n    }\n\n    function pauseRecording() {\n        if (!mediaRecorder) {\n            return console.warn(WARNING);\n        }\n\n        mediaRecorder.pause();\n\n        if (!config.disableLogs) {\n            console.debug('Paused recording.');\n        }\n    }\n\n    function resumeRecording() {\n        if (!mediaRecorder) {\n            return console.warn(WARNING);\n        }\n\n        // not all libs have this method yet\n        mediaRecorder.resume();\n\n        if (!config.disableLogs) {\n            console.debug('Resumed recording.');\n        }\n    }\n\n    function readFile(_blob) {\n        postMessage(new FileReaderSync().readAsDataURL(_blob));\n    }\n\n    function getDataURL(callback, _mediaRecorder) {\n        if (!callback) {\n            throw 'Pass a callback function over getDataURL.';\n        }\n\n        var blob = _mediaRecorder ? _mediaRecorder.blob : (mediaRecorder || {}).blob;\n\n        if (!blob) {\n            if (!config.disableLogs) {\n                console.warn('Blob encoder did not finish its job yet.');\n            }\n\n            setTimeout(function() {\n                getDataURL(callback, _mediaRecorder);\n            }, 1000);\n            return;\n        }\n\n        if (typeof Worker !== 'undefined' && !navigator.mozGetUserMedia) {\n            var webWorker = processInWebWorker(readFile);\n\n            webWorker.onmessage = function(event) {\n                callback(event.data);\n            };\n\n            webWorker.postMessage(blob);\n        } else {\n            var reader = new FileReader();\n            reader.readAsDataURL(blob);\n            reader.onload = function(event) {\n                callback(event.target.result);\n            };\n        }\n\n        function processInWebWorker(_function) {\n            var blob = URL.createObjectURL(new Blob([_function.toString(),\n                'this.onmessage =  function (e) {' + _function.name + '(e.data);}'\n            ], {\n                type: 'application/javascript'\n            }));\n\n            var worker = new Worker(blob);\n            URL.revokeObjectURL(blob);\n            return worker;\n        }\n    }\n\n    function handleRecordingDuration() {\n        setTimeout(function() {\n            stopRecording(self.onRecordingStopped);\n        }, self.recordingDuration);\n    }\n\n    var WARNING = 'It seems that \"startRecording\" is not invoked for ' + config.type + ' recorder.';\n\n    var mediaRecorder;\n\n    var returnObject = {\n        /**\n         * This method starts recording. It doesn't take any arguments.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.startRecording();\n         */\n        startRecording: startRecording,\n\n        /**\n         * This method stops recording. It takes a single \"callback\" argument. It is suggested to get blob or URI in the callback to make sure all encoders finished their jobs.\n         * @param {function} callback - This callback function is invoked after completion of all encoding jobs.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.stopRecording(function(videoURL) {\n         *     video.src = videoURL;\n         *     recordRTC.blob; recordRTC.buffer;\n         * });\n         */\n        stopRecording: stopRecording,\n\n        /**\n         * This method pauses the recording process.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.pauseRecording();\n         */\n        pauseRecording: pauseRecording,\n\n        /**\n         * This method resumes the recording process.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.resumeRecording();\n         */\n        resumeRecording: resumeRecording,\n\n        /**\n         * This method initializes the recording process.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.initRecorder();\n         */\n        initRecorder: initRecorder,\n\n        /**\n         * This method sets the recording duration.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.setRecordingDuration();\n         */\n        setRecordingDuration: function(milliseconds, callback) {\n            if (typeof milliseconds === 'undefined') {\n                throw 'milliseconds is required.';\n            }\n\n            if (typeof milliseconds !== 'number') {\n                throw 'milliseconds must be a number.';\n            }\n\n            self.recordingDuration = milliseconds;\n            self.onRecordingStopped = callback || function() {};\n\n            return {\n                onRecordingStopped: function(callback) {\n                    self.onRecordingStopped = callback;\n                }\n            };\n        },\n\n        /**\n         * This method can be used to clear/reset all the recorded data.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.clearRecordedData();\n         */\n        clearRecordedData: function() {\n            if (!mediaRecorder) {\n                return console.warn(WARNING);\n            }\n\n            mediaRecorder.clearRecordedData();\n\n            if (!config.disableLogs) {\n                console.debug('Cleared old recorded data.');\n            }\n        },\n\n        /**\n         * It is equivalent to <code class=\"str\">\"recordRTC.blob\"</code> property.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.stopRecording(function() {\n         *     var blob = recordRTC.getBlob();\n         *\n         *     // equivalent to: recordRTC.blob property\n         *     var blob = recordRTC.blob;\n         * });\n         */\n        getBlob: function() {\n            if (!mediaRecorder) {\n                return console.warn(WARNING);\n            }\n\n            return mediaRecorder.blob;\n        },\n\n        /**\n         * This method returns the DataURL. It takes a single \"callback\" argument.\n         * @param {function} callback - DataURL is passed back over this callback.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.stopRecording(function() {\n         *     recordRTC.getDataURL(function(dataURL) {\n         *         video.src = dataURL;\n         *     });\n         * });\n         */\n        getDataURL: getDataURL,\n\n        /**\n         * This method returns the Virutal/Blob URL. It doesn't take any arguments.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.stopRecording(function() {\n         *     video.src = recordRTC.toURL();\n         * });\n         */\n        toURL: function() {\n            if (!mediaRecorder) {\n                return console.warn(WARNING);\n            }\n\n            return URL.createObjectURL(mediaRecorder.blob);\n        },\n\n        /**\n         * This method saves the blob/file to disk (by invoking save-as dialog). It takes a single (optional) argument i.e. FileName\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.stopRecording(function() {\n         *     recordRTC.save('file-name');\n         * });\n         */\n        save: function(fileName) {\n            if (!mediaRecorder) {\n                return console.warn(WARNING);\n            }\n\n            invokeSaveAsDialog(mediaRecorder.blob, fileName);\n        },\n\n        /**\n         * This method gets a blob from indexed-DB storage. It takes a single \"callback\" argument.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.getFromDisk(function(dataURL) {\n         *     video.src = dataURL;\n         * });\n         */\n        getFromDisk: function(callback) {\n            if (!mediaRecorder) {\n                return console.warn(WARNING);\n            }\n\n            RecordRTC.getFromDisk(config.type, callback);\n        },\n\n        /**\n         * This method appends an array of webp images to the recorded video-blob. It takes an \"array\" object.\n         * @type {Array.<Array>}\n         * @param {Array} arrayOfWebPImages - Array of webp images.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * var arrayOfWebPImages = [];\n         * arrayOfWebPImages.push({\n         *     duration: index,\n         *     image: 'data:image/webp;base64,...'\n         * });\n         * recordRTC.setAdvertisementArray(arrayOfWebPImages);\n         */\n        setAdvertisementArray: function(arrayOfWebPImages) {\n            config.advertisement = [];\n\n            var length = arrayOfWebPImages.length;\n            for (var i = 0; i < length; i++) {\n                config.advertisement.push({\n                    duration: i,\n                    image: arrayOfWebPImages[i]\n                });\n            }\n        },\n\n        /**\n         * It is equivalent to <code class=\"str\">\"recordRTC.getBlob()\"</code> method.\n         * @property {Blob} blob - Recorded Blob can be accessed using this property.\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.stopRecording(function() {\n         *     var blob = recordRTC.blob;\n         *\n         *     // equivalent to: recordRTC.getBlob() method\n         *     var blob = recordRTC.getBlob();\n         * });\n         */\n        blob: null,\n\n        /**\n         * @todo Add descriptions.\n         * @property {number} bufferSize - Either audio device's default buffer-size, or your custom value.\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.stopRecording(function() {\n         *     var bufferSize = recordRTC.bufferSize;\n         * });\n         */\n        bufferSize: 0,\n\n        /**\n         * @todo Add descriptions.\n         * @property {number} sampleRate - Audio device's default sample rates.\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.stopRecording(function() {\n         *     var sampleRate = recordRTC.sampleRate;\n         * });\n         */\n        sampleRate: 0,\n\n        /**\n         * @todo Add descriptions.\n         * @property {ArrayBuffer} buffer - Audio ArrayBuffer, supported only in Chrome.\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.stopRecording(function() {\n         *     var buffer = recordRTC.buffer;\n         * });\n         */\n        buffer: null,\n\n        /**\n         * @todo Add descriptions.\n         * @property {DataView} view - Audio DataView, supported only in Chrome.\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recordRTC.stopRecording(function() {\n         *     var dataView = recordRTC.view;\n         * });\n         */\n        view: null\n    };\n\n    if (!this) {\n        self = returnObject;\n        return returnObject;\n    }\n\n    // if someone wants to use RecordRTC with the \"new\" keyword.\n    for (var prop in returnObject) {\n        this[prop] = returnObject[prop];\n    }\n\n    self = this;\n\n    return returnObject;\n}\n\n/**\n * This method can be used to get all recorded blobs from IndexedDB storage.\n * @param {string} type - 'all' or 'audio' or 'video' or 'gif'\n * @param {function} callback - Callback function to get all stored blobs.\n * @method\n * @memberof RecordRTC\n * @example\n * RecordRTC.getFromDisk('all', function(dataURL, type){\n *     if(type === 'audio') { }\n *     if(type === 'video') { }\n *     if(type === 'gif')   { }\n * });\n */\nRecordRTC.getFromDisk = function(type, callback) {\n    if (!callback) {\n        throw 'callback is mandatory.';\n    }\n\n    console.log('Getting recorded ' + (type === 'all' ? 'blobs' : type + ' blob ') + ' from disk!');\n    DiskStorage.Fetch(function(dataURL, _type) {\n        if (type !== 'all' && _type === type + 'Blob' && callback) {\n            callback(dataURL);\n        }\n\n        if (type === 'all' && callback) {\n            callback(dataURL, _type.replace('Blob', ''));\n        }\n    });\n};\n\n/**\n * This method can be used to store recorded blobs into IndexedDB storage.\n * @param {object} options - {audio: Blob, video: Blob, gif: Blob}\n * @method\n * @memberof RecordRTC\n * @example\n * RecordRTC.writeToDisk({\n *     audio: audioBlob,\n *     video: videoBlob,\n *     gif  : gifBlob\n * });\n */\nRecordRTC.writeToDisk = function(options) {\n    console.log('Writing recorded blob(s) to disk!');\n    options = options || {};\n    if (options.audio && options.video && options.gif) {\n        options.audio.getDataURL(function(audioDataURL) {\n            options.video.getDataURL(function(videoDataURL) {\n                options.gif.getDataURL(function(gifDataURL) {\n                    DiskStorage.Store({\n                        audioBlob: audioDataURL,\n                        videoBlob: videoDataURL,\n                        gifBlob: gifDataURL\n                    });\n                });\n            });\n        });\n    } else if (options.audio && options.video) {\n        options.audio.getDataURL(function(audioDataURL) {\n            options.video.getDataURL(function(videoDataURL) {\n                DiskStorage.Store({\n                    audioBlob: audioDataURL,\n                    videoBlob: videoDataURL\n                });\n            });\n        });\n    } else if (options.audio && options.gif) {\n        options.audio.getDataURL(function(audioDataURL) {\n            options.gif.getDataURL(function(gifDataURL) {\n                DiskStorage.Store({\n                    audioBlob: audioDataURL,\n                    gifBlob: gifDataURL\n                });\n            });\n        });\n    } else if (options.video && options.gif) {\n        options.video.getDataURL(function(videoDataURL) {\n            options.gif.getDataURL(function(gifDataURL) {\n                DiskStorage.Store({\n                    videoBlob: videoDataURL,\n                    gifBlob: gifDataURL\n                });\n            });\n        });\n    } else if (options.audio) {\n        options.audio.getDataURL(function(audioDataURL) {\n            DiskStorage.Store({\n                audioBlob: audioDataURL\n            });\n        });\n    } else if (options.video) {\n        options.video.getDataURL(function(videoDataURL) {\n            DiskStorage.Store({\n                videoBlob: videoDataURL\n            });\n        });\n    } else if (options.gif) {\n        options.gif.getDataURL(function(gifDataURL) {\n            DiskStorage.Store({\n                gifBlob: gifDataURL\n            });\n        });\n    }\n};\n\nif (typeof module !== 'undefined' /* && !!module.exports*/ ) {\n    module.exports = RecordRTC;\n}\n\nif (typeof define === 'function' && define.amd) {\n    define('RecordRTC', [], function() {\n        return RecordRTC;\n    });\n}\n\n// __________________________\n// RecordRTC-Configuration.js\n\n/**\n * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.\n * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid \"config\" object.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef RecordRTCConfiguration\n * @class\n * @example\n * var options = RecordRTCConfiguration(mediaStream, options);\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {type:\"video\", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}\n */\n\nfunction RecordRTCConfiguration(mediaStream, config) {\n    if (config.recorderType && !config.type) {\n        if (config.recorderType === WhammyRecorder || config.recorderType === CanvasRecorder) {\n            config.type = 'video';\n        } else if (config.recorderType === GifRecorder) {\n            config.type = 'gif';\n        } else if (config.recorderType === StereoAudioRecorder) {\n            config.type = 'audio';\n        } else if (config.recorderType === MediaStreamRecorder) {\n            if (mediaStream.getAudioTracks().length && mediaStream.getVideoTracks().length) {\n                config.type = 'video';\n            } else if (mediaStream.getAudioTracks().length && !mediaStream.getVideoTracks().length) {\n                config.type = 'audio';\n            } else if (!mediaStream.getAudioTracks().length && mediaStream.getVideoTracks().length) {\n                config.type = 'audio';\n            } else {\n                // config.type = 'UnKnown';\n            }\n        }\n    }\n\n    if (typeof MediaStreamRecorder !== 'undefined' && typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype) {\n        if (!config.mimeType) {\n            config.mimeType = 'video/webm';\n        }\n\n        if (!config.type) {\n            config.type = config.mimeType.split('/')[0];\n        }\n\n        if (!config.bitsPerSecond) {\n            // config.bitsPerSecond = 128000;\n        }\n    }\n\n    // consider default type=audio\n    if (!config.type) {\n        if (config.mimeType) {\n            config.type = config.mimeType.split('/')[0];\n        }\n        if (!config.type) {\n            config.type = 'audio';\n        }\n    }\n\n    return config;\n}\n\n// __________________\n// GetRecorderType.js\n\n/**\n * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.\n * @summary It returns best recorder-type available for your browser.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef GetRecorderType\n * @class\n * @example\n * var RecorderType = GetRecorderType(options);\n * var recorder = new RecorderType(options);\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {type:\"video\", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}\n */\n\nfunction GetRecorderType(mediaStream, config) {\n    var recorder;\n\n    // StereoAudioRecorder can work with all three: Edge, Firefox and Chrome\n    // todo: detect if it is Edge, then auto use: StereoAudioRecorder\n    if (isChrome || isEdge || isOpera) {\n        // Media Stream Recording API has not been implemented in chrome yet;\n        // That's why using WebAudio API to record stereo audio in WAV format\n        recorder = StereoAudioRecorder;\n    }\n\n    if (typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype && !isChrome) {\n        recorder = MediaStreamRecorder;\n    }\n\n    // video recorder (in WebM format)\n    if (config.type === 'video' && (isChrome || isOpera)) {\n        recorder = WhammyRecorder;\n    }\n\n    // video recorder (in Gif format)\n    if (config.type === 'gif') {\n        recorder = GifRecorder;\n    }\n\n    // html2canvas recording!\n    if (config.type === 'canvas') {\n        recorder = CanvasRecorder;\n    }\n\n    if (isMediaRecorderCompatible() && recorder !== CanvasRecorder && recorder !== GifRecorder && typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype) {\n        if (mediaStream.getVideoTracks().length) {\n            recorder = MediaStreamRecorder;\n        }\n    }\n\n    if (config.recorderType) {\n        recorder = config.recorderType;\n    }\n\n    if (!config.disableLogs && !!recorder && !!recorder.name) {\n        console.debug('Using recorderType:', recorder.name || recorder.constructor.name);\n    }\n\n    return recorder;\n}\n\n// _____________\n// MRecordRTC.js\n\n/**\n * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.\n * @summary MRecordRTC stands for \"Multiple-RecordRTC\".\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef MRecordRTC\n * @class\n * @example\n * var recorder = new MRecordRTC();\n * recorder.addStream(MediaStream);\n * recorder.mediaType = {\n *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder\n *     video: true, // or WhammyRecorder or MediaStreamRecorder\n *     gif: true    // or GifRecorder\n * };\n * // mimeType is optional and should be set only in advance cases.\n * recorder.mimeType = {\n *     audio: 'audio/wav',\n *     video: 'video/webm',\n *     gif:   'image/gif'\n * };\n * recorder.startRecording();\n * @see For further information:\n * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n */\n\nfunction MRecordRTC(mediaStream) {\n\n    /**\n     * This method attaches MediaStream object to {@link MRecordRTC}.\n     * @param {MediaStream} mediaStream - A MediaStream object, either fetched using getUserMedia API, or generated using captureStreamUntilEnded or WebAudio API.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.addStream(MediaStream);\n     */\n    this.addStream = function(_mediaStream) {\n        if (_mediaStream) {\n            mediaStream = _mediaStream;\n        }\n    };\n\n    /**\n     * This property can be used to set the recording type e.g. audio, or video, or gif, or canvas.\n     * @property {object} mediaType - {audio: true, video: true, gif: true}\n     * @memberof MRecordRTC\n     * @example\n     * var recorder = new MRecordRTC();\n     * recorder.mediaType = {\n     *     audio: true, // TRUE or StereoAudioRecorder or MediaStreamRecorder\n     *     video: true, // TRUE or WhammyRecorder or MediaStreamRecorder\n     *     gif  : true  // TRUE or GifRecorder\n     * };\n     */\n    this.mediaType = {\n        audio: true,\n        video: true\n    };\n\n    /**\n     * This method starts recording.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.startRecording();\n     */\n    this.startRecording = function() {\n        var mediaType = this.mediaType;\n        var recorderType;\n        var mimeType = this.mimeType || {\n            audio: null,\n            video: null,\n            gif: null\n        };\n\n        if (typeof mediaType.audio !== 'function' && isMediaRecorderCompatible() && mediaStream.getAudioTracks && !mediaStream.getAudioTracks().length) {\n            // Firefox supports both audio/video in single blob\n            mediaType.audio = false;\n        }\n\n        if (typeof mediaType.video !== 'function' && isMediaRecorderCompatible() && mediaStream.getVideoTracks && !mediaStream.getVideoTracks().length) {\n            // Firefox supports both audio/video in single blob\n            mediaType.video = false;\n        }\n\n        if (!mediaType.audio && !mediaType.video) {\n            throw 'MediaStream must have either audio or video tracks.';\n        }\n\n        if (!!mediaType.audio) {\n            recorderType = null;\n            if (typeof mediaType.audio === 'function') {\n                recorderType = mediaType.audio;\n            }\n\n            this.audioRecorder = new RecordRTC(mediaStream, {\n                type: 'audio',\n                bufferSize: this.bufferSize,\n                sampleRate: this.sampleRate,\n                numberOfAudioChannels: this.numberOfAudioChannels || 2,\n                disableLogs: this.disableLogs,\n                recorderType: recorderType,\n                mimeType: mimeType.audio\n            });\n\n            if (!mediaType.video) {\n                this.audioRecorder.startRecording();\n            }\n        }\n\n        if (!!mediaType.video) {\n            recorderType = null;\n            if (typeof mediaType.video === 'function') {\n                recorderType = mediaType.video;\n            }\n\n            var newStream = mediaStream;\n\n            if (isMediaRecorderCompatible() && !!mediaType.audio && typeof mediaType.audio === 'function') {\n                var videoTrack = mediaStream.getVideoTracks()[0];\n\n                if (!!navigator.mozGetUserMedia) {\n                    newStream = new MediaStream();\n                    newStream.addTrack(videoTrack);\n\n                    if (recorderType && recorderType === WhammyRecorder) {\n                        // Firefox does NOT support webp-encoding yet\n                        recorderType = MediaStreamRecorder;\n                    }\n                } else {\n                    newStream = new MediaStream([videoTrack]);\n                }\n            }\n\n            this.videoRecorder = new RecordRTC(newStream, {\n                type: 'video',\n                video: this.video,\n                canvas: this.canvas,\n                frameInterval: this.frameInterval || 10,\n                disableLogs: this.disableLogs,\n                recorderType: recorderType,\n                mimeType: mimeType.video\n            });\n\n            if (!mediaType.audio) {\n                this.videoRecorder.startRecording();\n            }\n        }\n\n        if (!!mediaType.audio && !!mediaType.video) {\n            var self = this;\n            if (isMediaRecorderCompatible()) {\n                self.audioRecorder = null;\n                self.videoRecorder.startRecording();\n            } else {\n                self.videoRecorder.initRecorder(function() {\n                    self.audioRecorder.initRecorder(function() {\n                        // Both recorders are ready to record things accurately\n                        self.videoRecorder.startRecording();\n                        self.audioRecorder.startRecording();\n                    });\n                });\n            }\n        }\n\n        if (!!mediaType.gif) {\n            recorderType = null;\n            if (typeof mediaType.gif === 'function') {\n                recorderType = mediaType.gif;\n            }\n            this.gifRecorder = new RecordRTC(mediaStream, {\n                type: 'gif',\n                frameRate: this.frameRate || 200,\n                quality: this.quality || 10,\n                disableLogs: this.disableLogs,\n                recorderType: recorderType,\n                mimeType: mimeType.gif\n            });\n            this.gifRecorder.startRecording();\n        }\n    };\n\n    /**\n     * This method stops recording.\n     * @param {function} callback - Callback function is invoked when all encoders finished their jobs.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.stopRecording(function(recording){\n     *     var audioBlob = recording.audio;\n     *     var videoBlob = recording.video;\n     *     var gifBlob   = recording.gif;\n     * });\n     */\n    this.stopRecording = function(callback) {\n        callback = callback || function() {};\n\n        if (this.audioRecorder) {\n            this.audioRecorder.stopRecording(function(blobURL) {\n                callback(blobURL, 'audio');\n            });\n        }\n\n        if (this.videoRecorder) {\n            this.videoRecorder.stopRecording(function(blobURL) {\n                callback(blobURL, 'video');\n            });\n        }\n\n        if (this.gifRecorder) {\n            this.gifRecorder.stopRecording(function(blobURL) {\n                callback(blobURL, 'gif');\n            });\n        }\n    };\n\n    /**\n     * This method pauses recording.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.pauseRecording();\n     */\n    this.pauseRecording = function() {\n        if (this.audioRecorder) {\n            this.audioRecorder.pauseRecording();\n        }\n\n        if (this.videoRecorder) {\n            this.videoRecorder.pauseRecording();\n        }\n\n        if (this.gifRecorder) {\n            this.gifRecorder.pauseRecording();\n        }\n    };\n\n    /**\n     * This method resumes recording.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.resumeRecording();\n     */\n    this.resumeRecording = function() {\n        if (this.audioRecorder) {\n            this.audioRecorder.resumeRecording();\n        }\n\n        if (this.videoRecorder) {\n            this.videoRecorder.resumeRecording();\n        }\n\n        if (this.gifRecorder) {\n            this.gifRecorder.resumeRecording();\n        }\n    };\n\n    /**\n     * This method can be used to manually get all recorded blobs.\n     * @param {function} callback - All recorded blobs are passed back to the \"callback\" function.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.getBlob(function(recording){\n     *     var audioBlob = recording.audio;\n     *     var videoBlob = recording.video;\n     *     var gifBlob   = recording.gif;\n     * });\n     * // or\n     * var audioBlob = recorder.getBlob().audio;\n     * var videoBlob = recorder.getBlob().video;\n     */\n    this.getBlob = function(callback) {\n        var output = {};\n\n        if (this.audioRecorder) {\n            output.audio = this.audioRecorder.getBlob();\n        }\n\n        if (this.videoRecorder) {\n            output.video = this.videoRecorder.getBlob();\n        }\n\n        if (this.gifRecorder) {\n            output.gif = this.gifRecorder.getBlob();\n        }\n\n        if (callback) {\n            callback(output);\n        }\n\n        return output;\n    };\n\n    /**\n     * This method can be used to manually get all recorded blobs' DataURLs.\n     * @param {function} callback - All recorded blobs' DataURLs are passed back to the \"callback\" function.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.getDataURL(function(recording){\n     *     var audioDataURL = recording.audio;\n     *     var videoDataURL = recording.video;\n     *     var gifDataURL   = recording.gif;\n     * });\n     */\n    this.getDataURL = function(callback) {\n        this.getBlob(function(blob) {\n            getDataURL(blob.audio, function(_audioDataURL) {\n                getDataURL(blob.video, function(_videoDataURL) {\n                    callback({\n                        audio: _audioDataURL,\n                        video: _videoDataURL\n                    });\n                });\n            });\n        });\n\n        function getDataURL(blob, callback00) {\n            if (typeof Worker !== 'undefined') {\n                var webWorker = processInWebWorker(function readFile(_blob) {\n                    postMessage(new FileReaderSync().readAsDataURL(_blob));\n                });\n\n                webWorker.onmessage = function(event) {\n                    callback00(event.data);\n                };\n\n                webWorker.postMessage(blob);\n            } else {\n                var reader = new FileReader();\n                reader.readAsDataURL(blob);\n                reader.onload = function(event) {\n                    callback00(event.target.result);\n                };\n            }\n        }\n\n        function processInWebWorker(_function) {\n            var blob = URL.createObjectURL(new Blob([_function.toString(),\n                'this.onmessage =  function (e) {' + _function.name + '(e.data);}'\n            ], {\n                type: 'application/javascript'\n            }));\n\n            var worker = new Worker(blob);\n            var url;\n            if (typeof URL !== 'undefined') {\n                url = URL;\n            } else if (typeof webkitURL !== 'undefined') {\n                url = webkitURL;\n            } else {\n                throw 'Neither URL nor webkitURL detected.';\n            }\n            url.revokeObjectURL(blob);\n            return worker;\n        }\n    };\n\n    /**\n     * This method can be used to ask {@link MRecordRTC} to write all recorded blobs into IndexedDB storage.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.writeToDisk();\n     */\n    this.writeToDisk = function() {\n        RecordRTC.writeToDisk({\n            audio: this.audioRecorder,\n            video: this.videoRecorder,\n            gif: this.gifRecorder\n        });\n    };\n\n    /**\n     * This method can be used to invoke a save-as dialog for all recorded blobs.\n     * @param {object} args - {audio: 'audio-name', video: 'video-name', gif: 'gif-name'}\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.save({\n     *     audio: 'audio-file-name',\n     *     video: 'video-file-name',\n     *     gif  : 'gif-file-name'\n     * });\n     */\n    this.save = function(args) {\n        args = args || {\n            audio: true,\n            video: true,\n            gif: true\n        };\n\n        if (!!args.audio && this.audioRecorder) {\n            this.audioRecorder.save(typeof args.audio === 'string' ? args.audio : '');\n        }\n\n        if (!!args.video && this.videoRecorder) {\n            this.videoRecorder.save(typeof args.video === 'string' ? args.video : '');\n        }\n        if (!!args.gif && this.gifRecorder) {\n            this.gifRecorder.save(typeof args.gif === 'string' ? args.gif : '');\n        }\n    };\n}\n\n/**\n * This method can be used to get all recorded blobs from IndexedDB storage.\n * @param {string} type - 'all' or 'audio' or 'video' or 'gif'\n * @param {function} callback - Callback function to get all stored blobs.\n * @method\n * @memberof MRecordRTC\n * @example\n * MRecordRTC.getFromDisk('all', function(dataURL, type){\n *     if(type === 'audio') { }\n *     if(type === 'video') { }\n *     if(type === 'gif')   { }\n * });\n */\nMRecordRTC.getFromDisk = RecordRTC.getFromDisk;\n\n/**\n * This method can be used to store recorded blobs into IndexedDB storage.\n * @param {object} options - {audio: Blob, video: Blob, gif: Blob}\n * @method\n * @memberof MRecordRTC\n * @example\n * MRecordRTC.writeToDisk({\n *     audio: audioBlob,\n *     video: videoBlob,\n *     gif  : gifBlob\n * });\n */\nMRecordRTC.writeToDisk = RecordRTC.writeToDisk;\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.MRecordRTC = MRecordRTC;\n}\n\nvar browserFakeUserAgent = 'Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45';\n\n(function(that) {\n    if (!that) {\n        return;\n    }\n\n    if (typeof window !== 'undefined') {\n        return;\n    }\n\n    if (typeof global === 'undefined') {\n        return;\n    }\n\n    global.navigator = {\n        userAgent: browserFakeUserAgent,\n        getUserMedia: function() {}\n    };\n\n    if (!global.console) {\n        global.console = {};\n    }\n\n    if (typeof global.console.debug === 'undefined') {\n        global.console.debug = global.console.info = global.console.error = global.console.log = global.console.log || function() {\n            console.log(arguments);\n        };\n    }\n\n    if (typeof document === 'undefined') {\n        /*global document:true */\n        that.document = {};\n\n        document.createElement = document.captureStream = document.mozCaptureStream = function() {\n            var obj = {\n                getContext: function() {\n                    return obj;\n                },\n                play: function() {},\n                pause: function() {},\n                drawImage: function() {},\n                toDataURL: function() {\n                    return '';\n                }\n            };\n            return obj;\n        };\n\n        that.HTMLVideoElement = function() {};\n    }\n\n    if (typeof location === 'undefined') {\n        /*global location:true */\n        that.location = {\n            protocol: 'file:',\n            href: '',\n            hash: ''\n        };\n    }\n\n    if (typeof screen === 'undefined') {\n        /*global screen:true */\n        that.screen = {\n            width: 0,\n            height: 0\n        };\n    }\n\n    if (typeof URL === 'undefined') {\n        /*global screen:true */\n        that.URL = {\n            createObjectURL: function() {\n                return '';\n            },\n            revokeObjectURL: function() {\n                return '';\n            }\n        };\n    }\n\n    /*global window:true */\n    that.window = global;\n})(typeof global !== 'undefined' ? global : null);\n\n// _____________________________\n// Cross-Browser-Declarations.js\n\n// animation-frame used in WebM recording\n\n/*jshint -W079 */\nvar requestAnimationFrame = window.requestAnimationFrame;\nif (typeof requestAnimationFrame === 'undefined') {\n    if (typeof webkitRequestAnimationFrame !== 'undefined') {\n        /*global requestAnimationFrame:true */\n        requestAnimationFrame = webkitRequestAnimationFrame;\n    }\n\n    if (typeof mozRequestAnimationFrame !== 'undefined') {\n        /*global requestAnimationFrame:true */\n        requestAnimationFrame = mozRequestAnimationFrame;\n    }\n}\n\n/*jshint -W079 */\nvar cancelAnimationFrame = window.cancelAnimationFrame;\nif (typeof cancelAnimationFrame === 'undefined') {\n    if (typeof webkitCancelAnimationFrame !== 'undefined') {\n        /*global cancelAnimationFrame:true */\n        cancelAnimationFrame = webkitCancelAnimationFrame;\n    }\n\n    if (typeof mozCancelAnimationFrame !== 'undefined') {\n        /*global cancelAnimationFrame:true */\n        cancelAnimationFrame = mozCancelAnimationFrame;\n    }\n}\n\n// WebAudio API representer\nvar AudioContext = window.AudioContext;\n\nif (typeof AudioContext === 'undefined') {\n    if (typeof webkitAudioContext !== 'undefined') {\n        /*global AudioContext:true */\n        AudioContext = webkitAudioContext;\n    }\n\n    if (typeof mozAudioContext !== 'undefined') {\n        /*global AudioContext:true */\n        AudioContext = mozAudioContext;\n    }\n}\n\n/*jshint -W079 */\nvar URL = window.URL;\n\nif (typeof URL === 'undefined' && typeof webkitURL !== 'undefined') {\n    /*global URL:true */\n    URL = webkitURL;\n}\n\nif (typeof navigator !== 'undefined') { // maybe window.navigator?\n    if (typeof navigator.webkitGetUserMedia !== 'undefined') {\n        navigator.getUserMedia = navigator.webkitGetUserMedia;\n    }\n\n    if (typeof navigator.mozGetUserMedia !== 'undefined') {\n        navigator.getUserMedia = navigator.mozGetUserMedia;\n    }\n}\n\nvar isEdge = navigator.userAgent.indexOf('Edge') !== -1 && (!!navigator.msSaveBlob || !!navigator.msSaveOrOpenBlob);\nvar isOpera = !!window.opera || navigator.userAgent.indexOf('OPR/') !== -1;\nvar isChrome = !isOpera && !isEdge && !!navigator.webkitGetUserMedia;\n\nvar MediaStream = window.MediaStream;\n\nif (typeof MediaStream === 'undefined' && typeof webkitMediaStream !== 'undefined') {\n    MediaStream = webkitMediaStream;\n}\n\n/*global MediaStream:true */\nif (typeof MediaStream !== 'undefined') {\n    if (!('getVideoTracks' in MediaStream.prototype)) {\n        MediaStream.prototype.getVideoTracks = function() {\n            if (!this.getTracks) {\n                return [];\n            }\n\n            var tracks = [];\n            this.getTracks.forEach(function(track) {\n                if (track.kind.toString().indexOf('video') !== -1) {\n                    tracks.push(track);\n                }\n            });\n            return tracks;\n        };\n\n        MediaStream.prototype.getAudioTracks = function() {\n            if (!this.getTracks) {\n                return [];\n            }\n\n            var tracks = [];\n            this.getTracks.forEach(function(track) {\n                if (track.kind.toString().indexOf('audio') !== -1) {\n                    tracks.push(track);\n                }\n            });\n            return tracks;\n        };\n    }\n\n    if (!('stop' in MediaStream.prototype)) {\n        MediaStream.prototype.stop = function() {\n            this.getAudioTracks().forEach(function(track) {\n                if (!!track.stop) {\n                    track.stop();\n                }\n            });\n\n            this.getVideoTracks().forEach(function(track) {\n                if (!!track.stop) {\n                    track.stop();\n                }\n            });\n        };\n    }\n}\n\n// below function via: http://goo.gl/B3ae8c\n/**\n * @param {number} bytes - Pass bytes and get formafted string.\n * @returns {string} - formafted string\n * @example\n * bytesToSize(1024*1024*5) === '5 GB'\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\nfunction bytesToSize(bytes) {\n    var k = 1000;\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes === 0) {\n        return '0 Bytes';\n    }\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(k)), 10);\n    return (bytes / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i];\n}\n\n/**\n * @param {Blob} file - File or Blob object. This parameter is required.\n * @param {string} fileName - Optional file name e.g. \"Recorded-Video.webm\"\n * @example\n * invokeSaveAsDialog(blob or file, [optional] fileName);\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\nfunction invokeSaveAsDialog(file, fileName) {\n    if (!file) {\n        throw 'Blob object is required.';\n    }\n\n    if (!file.type) {\n        try {\n            file.type = 'video/webm';\n        } catch (e) {}\n    }\n\n    var fileExtension = (file.type || 'video/webm').split('/')[1];\n\n    if (fileName && fileName.indexOf('.') !== -1) {\n        var splitted = fileName.split('.');\n        fileName = splitted[0];\n        fileExtension = splitted[1];\n    }\n\n    var fileFullName = (fileName || (Math.round(Math.random() * 9999999999) + 888888888)) + '.' + fileExtension;\n\n    if (typeof navigator.msSaveOrOpenBlob !== 'undefined') {\n        return navigator.msSaveOrOpenBlob(file, fileFullName);\n    } else if (typeof navigator.msSaveBlob !== 'undefined') {\n        return navigator.msSaveBlob(file, fileFullName);\n    }\n\n    var hyperlink = document.createElement('a');\n    hyperlink.href = URL.createObjectURL(file);\n    hyperlink.target = '_blank';\n    hyperlink.download = fileFullName;\n\n    if (!!navigator.mozGetUserMedia) {\n        hyperlink.onclick = function() {\n            (document.body || document.documentElement).removeChild(hyperlink);\n        };\n        (document.body || document.documentElement).appendChild(hyperlink);\n    }\n\n    var evt = new MouseEvent('click', {\n        view: window,\n        bubbles: true,\n        cancelable: true\n    });\n\n    hyperlink.dispatchEvent(evt);\n\n    if (!navigator.mozGetUserMedia) {\n        URL.revokeObjectURL(hyperlink.href);\n    }\n}\n\n// __________ (used to handle stuff like http://goo.gl/xmE5eg) issue #129\n// Storage.js\n\n/**\n * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. \"new AudioContext\".\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @example\n * Storage.AudioContext === webkitAudioContext\n * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\n\nvar Storage = {};\n\nif (typeof AudioContext !== 'undefined') {\n    Storage.AudioContext = AudioContext;\n} else if (typeof webkitAudioContext !== 'undefined') {\n    Storage.AudioContext = webkitAudioContext;\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.Storage = Storage;\n}\n\nfunction isMediaRecorderCompatible() {\n    var isOpera = !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;\n    var isChrome = !!window.chrome && !isOpera;\n    var isFirefox = typeof window.InstallTrigger !== 'undefined';\n\n    if (isFirefox) {\n        return true;\n    }\n\n    var nVer = navigator.appVersion;\n    var nAgt = navigator.userAgent;\n    var fullVersion = '' + parseFloat(navigator.appVersion);\n    var majorVersion = parseInt(navigator.appVersion, 10);\n    var nameOffset, verOffset, ix;\n\n    if (isChrome || isOpera) {\n        verOffset = nAgt.indexOf('Chrome');\n        fullVersion = nAgt.substring(verOffset + 7);\n    }\n\n    // trim the fullVersion string at semicolon/space if present\n    if ((ix = fullVersion.indexOf(';')) !== -1) {\n        fullVersion = fullVersion.substring(0, ix);\n    }\n\n    if ((ix = fullVersion.indexOf(' ')) !== -1) {\n        fullVersion = fullVersion.substring(0, ix);\n    }\n\n    majorVersion = parseInt('' + fullVersion, 10);\n\n    if (isNaN(majorVersion)) {\n        fullVersion = '' + parseFloat(navigator.appVersion);\n        majorVersion = parseInt(navigator.appVersion, 10);\n    }\n\n    return majorVersion >= 49;\n}\n\n// ______________________\n// MediaStreamRecorder.js\n\n// todo: need to show alert boxes for incompatible cases\n// encoder only supports 48k/16k mono audio channel\n\n/*\n * Implementation of https://dvcs.w3.org/hg/dap/raw-file/default/media-stream-capture/MediaRecorder.html\n * The MediaRecorder accepts a mediaStream as input source passed from UA. When recorder starts,\n * a MediaEncoder will be created and accept the mediaStream as input source.\n * Encoder will get the raw data by track data changes, encode it by selected MIME Type, then store the encoded in EncodedBufferCache object.\n * The encoded data will be extracted on every timeslice passed from Start function call or by RequestData function.\n * Thread model:\n * When the recorder starts, it creates a \"Media Encoder\" thread to read data from MediaEncoder object and store buffer in EncodedBufferCache object.\n * Also extract the encoded data and create blobs on every timeslice passed from start function or RequestData function called by UA.\n */\n\n/**\n * MediaStreamRecorder is an abstraction layer for \"MediaRecorder API\". It is used by {@link RecordRTC} to record MediaStream(s) in Firefox.\n * @summary Runs top over MediaRecorder API.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef MediaStreamRecorder\n * @class\n * @example\n * var options = {\n *     mimeType: 'video/mp4', // audio/ogg or video/webm\n *     audioBitsPerSecond : 256 * 8 * 1024,\n *     videoBitsPerSecond : 256 * 8 * 1024,\n *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two\n *     getNativeBlob: true // by default it is false\n * }\n * var recorder = new MediaStreamRecorder(MediaStream, options);\n * recorder.record();\n * recorder.stop(function(blob) {\n *     video.src = URL.createObjectURL(blob);\n *\n *     // or\n *     var blob = recorder.blob;\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {disableLogs:true, initCallback: function, mimeType: \"video/webm\", onAudioProcessStarted: function}\n */\n\nfunction MediaStreamRecorder(mediaStream, config) {\n    var self = this;\n\n    config = config || {\n        // bitsPerSecond: 256 * 8 * 1024,\n        mimeType: 'video/webm'\n    };\n\n    if (config.type === 'audio') {\n        if (mediaStream.getVideoTracks().length && mediaStream.getAudioTracks().length) {\n            var stream;\n            if (!!navigator.mozGetUserMedia) {\n                stream = new MediaStream();\n                stream.addTrack(mediaStream.getAudioTracks()[0]);\n            } else {\n                // webkitMediaStream\n                stream = new MediaStream(mediaStream.getAudioTracks());\n            }\n            mediaStream = stream;\n        }\n\n        if (!config.mimeType || config.mimeType.indexOf('audio') === -1) {\n            config.mimeType = isChrome ? 'audio/webm' : 'audio/ogg';\n        }\n    }\n\n    /**\n     * This method records MediaStream.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function() {\n        self.blob = null;\n\n        var recorderHints = config;\n\n        if (!config.disableLogs) {\n            console.log('Passing following config over MediaRecorder API.', recorderHints);\n        }\n\n        if (mediaRecorder) {\n            // mandatory to make sure Firefox doesn't fails to record streams 3-4 times without reloading the page.\n            mediaRecorder = null;\n        }\n\n        if (isChrome && !isMediaRecorderCompatible()) {\n            // to support video-only recording on stable\n            recorderHints = 'video/vp8';\n        }\n\n        // http://dxr.mozilla.org/mozilla-central/source/content/media/MediaRecorder.cpp\n        // https://wiki.mozilla.org/Gecko:MediaRecorder\n        // https://dvcs.w3.org/hg/dap/raw-file/default/media-stream-capture/MediaRecorder.html\n\n        // starting a recording session; which will initiate \"Reading Thread\"\n        // \"Reading Thread\" are used to prevent main-thread blocking scenarios\n        try {\n            mediaRecorder = new MediaRecorder(mediaStream, recorderHints);\n        } catch (e) {\n            mediaRecorder = new MediaRecorder(mediaStream);\n        }\n\n        if ('canRecordMimeType' in mediaRecorder && mediaRecorder.canRecordMimeType(config.mimeType) === false) {\n            if (!config.disableLogs) {\n                console.warn('MediaRecorder API seems unable to record mimeType:', config.mimeType);\n            }\n        }\n\n        // i.e. stop recording when <video> is paused by the user; and auto restart recording \n        // when video is resumed. E.g. yourStream.getVideoTracks()[0].muted = true; // it will auto-stop recording.\n        mediaRecorder.ignoreMutedMedia = config.ignoreMutedMedia || false;\n\n        // Dispatching OnDataAvailable Handler\n        mediaRecorder.ondataavailable = function(e) {\n            if (self.dontFireOnDataAvailableEvent) {\n                return;\n            }\n\n            if (!e.data || !e.data.size || e.data.size < 100 || self.blob) {\n                return;\n            }\n\n            /**\n             * @property {Blob} blob - Recorded frames in video/webm blob.\n             * @memberof MediaStreamRecorder\n             * @example\n             * recorder.stop(function() {\n             *     var blob = recorder.blob;\n             * });\n             */\n            self.blob = config.getNativeBlob ? e.data : new Blob([e.data], {\n                type: config.mimeType || 'video/webm'\n            });\n\n            if (self.recordingCallback) {\n                self.recordingCallback(self.blob);\n                self.recordingCallback = null;\n            }\n        };\n\n        mediaRecorder.onerror = function(error) {\n            if (!config.disableLogs) {\n                if (error.name === 'InvalidState') {\n                    console.error('The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.');\n                } else if (error.name === 'OutOfMemory') {\n                    console.error('The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.');\n                } else if (error.name === 'IllegalStreamModification') {\n                    console.error('A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.');\n                } else if (error.name === 'OtherRecordingError') {\n                    console.error('Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.');\n                } else if (error.name === 'GenericError') {\n                    console.error('The UA cannot provide the codec or recording option that has been requested.', error);\n                } else {\n                    console.error('MediaRecorder Error', error);\n                }\n            }\n\n            // When the stream is \"ended\" set recording to 'inactive' \n            // and stop gathering data. Callers should not rely on \n            // exactness of the timeSlice value, especially \n            // if the timeSlice value is small. Callers should \n            // consider timeSlice as a minimum value\n\n            if (mediaRecorder.state !== 'inactive' && mediaRecorder.state !== 'stopped') {\n                mediaRecorder.stop();\n            }\n        };\n\n        // void start(optional long mTimeSlice)\n        // The interval of passing encoded data from EncodedBufferCache to onDataAvailable\n        // handler. \"mTimeSlice < 0\" means Session object does not push encoded data to\n        // onDataAvailable, instead, it passive wait the client side pull encoded data\n        // by calling requestData API.\n        mediaRecorder.start(3.6e+6);\n\n        // Start recording. If timeSlice has been provided, mediaRecorder will\n        // raise a dataavailable event containing the Blob of collected data on every timeSlice milliseconds.\n        // If timeSlice isn't provided, UA should call the RequestData to obtain the Blob data, also set the mTimeSlice to zero.\n\n        if (config.onAudioProcessStarted) {\n            config.onAudioProcessStarted();\n        }\n\n        if (config.initCallback) {\n            config.initCallback();\n        }\n    };\n\n    /**\n     * This method stops recording MediaStream.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function(callback) {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        this.recordingCallback = function(blob) {\n            mediaRecorder = null;\n\n            if (callback) {\n                callback(blob);\n            }\n        };\n\n        // mediaRecorder.state === 'recording' means that media recorder is associated with \"session\"\n        // mediaRecorder.state === 'stopped' means that media recorder is detached from the \"session\" ... in this case; \"session\" will also be deleted.\n\n        if (mediaRecorder.state === 'recording') {\n            // \"stop\" method auto invokes \"requestData\"!\n            // mediaRecorder.requestData();\n            mediaRecorder.stop();\n        }\n    };\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function() {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        if (mediaRecorder.state === 'recording') {\n            mediaRecorder.pause();\n        }\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function() {\n        if (this.dontFireOnDataAvailableEvent) {\n            this.dontFireOnDataAvailableEvent = false;\n\n            var disableLogs = config.disableLogs;\n            config.disableLogs = true;\n            this.record();\n            config.disableLogs = disableLogs;\n            return;\n        }\n\n        if (!mediaRecorder) {\n            return;\n        }\n\n        if (mediaRecorder.state === 'paused') {\n            mediaRecorder.resume();\n        }\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function() {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        this.pause();\n\n        this.dontFireOnDataAvailableEvent = true;\n        this.stop();\n    };\n\n    // Reference to \"MediaRecorder\" object\n    var mediaRecorder;\n\n    function isMediaStreamActive() {\n        if ('active' in mediaStream) {\n            if (!mediaStream.active) {\n                return false;\n            }\n        } else if ('ended' in mediaStream) { // old hack\n            if (mediaStream.ended) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var self = this;\n\n    // this method checks if media stream is stopped\n    // or any track is ended.\n    (function looper() {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        if (isMediaStreamActive() === false) {\n            if (!config.disableLogs) {\n                console.log('MediaStream seems stopped.');\n            }\n            self.stop();\n            return;\n        }\n\n        setTimeout(looper, 1000); // check every second\n    })();\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.MediaStreamRecorder = MediaStreamRecorder;\n}\n\n// source code from: http://typedarray.org/wp-content/projects/WebAudioRecorder/script.js\n// https://github.com/mattdiamond/Recorderjs#license-mit\n// ______________________\n// StereoAudioRecorder.js\n\n/**\n * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring \"stereo\" audio-recording in chrome.\n * @summary JavaScript standalone object for stereo audio recording.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef StereoAudioRecorder\n * @class\n * @example\n * var recorder = new StereoAudioRecorder(MediaStream, {\n *     sampleRate: 44100,\n *     bufferSize: 4096\n * });\n * recorder.record();\n * recorder.stop(function(blob) {\n *     video.src = URL.createObjectURL(blob);\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}\n */\n\nfunction StereoAudioRecorder(mediaStream, config) {\n    if (!mediaStream.getAudioTracks().length) {\n        throw 'Your stream has no audio tracks.';\n    }\n\n    config = config || {};\n\n    var self = this;\n\n    // variables\n    var leftchannel = [];\n    var rightchannel = [];\n    var recording = false;\n    var recordingLength = 0;\n    var jsAudioNode;\n\n    var numberOfAudioChannels = 2;\n\n    // backward compatibility\n    if (config.leftChannel === true) {\n        numberOfAudioChannels = 1;\n    }\n\n    if (config.numberOfAudioChannels === 1) {\n        numberOfAudioChannels = 1;\n    }\n\n    if (!config.disableLogs) {\n        console.debug('StereoAudioRecorder is set to record number of channels: ', numberOfAudioChannels);\n    }\n\n    function isMediaStreamActive() {\n        if ('active' in mediaStream) {\n            if (!mediaStream.active) {\n                return false;\n            }\n        } else if ('ended' in mediaStream) { // old hack\n            if (mediaStream.ended) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     * This method records MediaStream.\n     * @method\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function() {\n        if (isMediaStreamActive() === false) {\n            throw 'Please make sure MediaStream is active.';\n        }\n\n        // reset the buffers for the new recording\n        leftchannel.length = rightchannel.length = 0;\n        recordingLength = 0;\n\n        if (audioInput) {\n            audioInput.connect(jsAudioNode);\n        }\n\n        // to prevent self audio to be connected with speakers\n        // jsAudioNode.connect(context.destination);\n\n        isAudioProcessStarted = isPaused = false;\n        recording = true;\n    };\n\n    function mergeLeftRightBuffers(config, callback) {\n        function mergeAudioBuffers(config, cb) {\n            var numberOfAudioChannels = config.numberOfAudioChannels;\n\n            // todo: \"slice(0)\" --- is it causes loop? Should be removed?\n            var leftBuffers = config.leftBuffers.slice(0);\n            var rightBuffers = config.rightBuffers.slice(0);\n            var sampleRate = config.sampleRate;\n            var internalInterleavedLength = config.internalInterleavedLength;\n\n            if (numberOfAudioChannels === 2) {\n                leftBuffers = mergeBuffers(leftBuffers, internalInterleavedLength);\n                rightBuffers = mergeBuffers(rightBuffers, internalInterleavedLength);\n            }\n\n            if (numberOfAudioChannels === 1) {\n                leftBuffers = mergeBuffers(leftBuffers, internalInterleavedLength);\n            }\n\n            function mergeBuffers(channelBuffer, rLength) {\n                var result = new Float64Array(rLength);\n                var offset = 0;\n                var lng = channelBuffer.length;\n\n                for (var i = 0; i < lng; i++) {\n                    var buffer = channelBuffer[i];\n                    result.set(buffer, offset);\n                    offset += buffer.length;\n                }\n\n                return result;\n            }\n\n            function interleave(leftChannel, rightChannel) {\n                var length = leftChannel.length + rightChannel.length;\n\n                var result = new Float64Array(length);\n\n                var inputIndex = 0;\n\n                for (var index = 0; index < length;) {\n                    result[index++] = leftChannel[inputIndex];\n                    result[index++] = rightChannel[inputIndex];\n                    inputIndex++;\n                }\n                return result;\n            }\n\n            function writeUTFBytes(view, offset, string) {\n                var lng = string.length;\n                for (var i = 0; i < lng; i++) {\n                    view.setUint8(offset + i, string.charCodeAt(i));\n                }\n            }\n\n            // interleave both channels together\n            var interleaved;\n\n            if (numberOfAudioChannels === 2) {\n                interleaved = interleave(leftBuffers, rightBuffers);\n            }\n\n            if (numberOfAudioChannels === 1) {\n                interleaved = leftBuffers;\n            }\n\n            var interleavedLength = interleaved.length;\n\n            // create wav file\n            var resultingBufferLength = 44 + interleavedLength * 2;\n\n            var buffer = new ArrayBuffer(resultingBufferLength);\n\n            var view = new DataView(buffer);\n\n            // RIFF chunk descriptor/identifier \n            writeUTFBytes(view, 0, 'RIFF');\n\n            // RIFF chunk length\n            view.setUint32(4, 44 + interleavedLength * 2, true);\n\n            // RIFF type \n            writeUTFBytes(view, 8, 'WAVE');\n\n            // format chunk identifier \n            // FMT sub-chunk\n            writeUTFBytes(view, 12, 'fmt ');\n\n            // format chunk length \n            view.setUint32(16, 16, true);\n\n            // sample format (raw)\n            view.setUint16(20, 1, true);\n\n            // stereo (2 channels)\n            view.setUint16(22, numberOfAudioChannels, true);\n\n            // sample rate \n            view.setUint32(24, sampleRate, true);\n\n            // byte rate (sample rate * block align)\n            view.setUint32(28, sampleRate * 2, true);\n\n            // block align (channel count * bytes per sample) \n            view.setUint16(32, numberOfAudioChannels * 2, true);\n\n            // bits per sample \n            view.setUint16(34, 16, true);\n\n            // data sub-chunk\n            // data chunk identifier \n            writeUTFBytes(view, 36, 'data');\n\n            // data chunk length \n            view.setUint32(40, interleavedLength * 2, true);\n\n            // write the PCM samples\n            var lng = interleavedLength;\n            var index = 44;\n            var volume = 1;\n            for (var i = 0; i < lng; i++) {\n                view.setInt16(index, interleaved[i] * (0x7FFF * volume), true);\n                index += 2;\n            }\n\n            if (cb) {\n                return cb({\n                    buffer: buffer,\n                    view: view\n                });\n            }\n\n            postMessage({\n                buffer: buffer,\n                view: view\n            });\n        }\n\n        if (!isChrome) {\n            // its Microsoft Edge\n            mergeAudioBuffers(config, function(data) {\n                callback(data.buffer, data.view);\n            });\n            return;\n        }\n\n\n        var webWorker = processInWebWorker(mergeAudioBuffers);\n\n        webWorker.onmessage = function(event) {\n            callback(event.data.buffer, event.data.view);\n\n            // release memory\n            URL.revokeObjectURL(webWorker.workerURL);\n        };\n\n        webWorker.postMessage(config);\n    }\n\n    function processInWebWorker(_function) {\n        var workerURL = URL.createObjectURL(new Blob([_function.toString(),\n            ';this.onmessage =  function (e) {' + _function.name + '(e.data);}'\n        ], {\n            type: 'application/javascript'\n        }));\n\n        var worker = new Worker(workerURL);\n        worker.workerURL = workerURL;\n        return worker;\n    }\n\n    /**\n     * This method stops recording MediaStream.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function(callback) {\n        // stop recording\n        recording = false;\n\n        // to make sure onaudioprocess stops firing\n        // audioInput.disconnect();\n\n        mergeLeftRightBuffers({\n            sampleRate: sampleRate,\n            numberOfAudioChannels: numberOfAudioChannels,\n            internalInterleavedLength: recordingLength,\n            leftBuffers: leftchannel,\n            rightBuffers: numberOfAudioChannels === 1 ? [] : rightchannel\n        }, function(buffer, view) {\n            /**\n             * @property {Blob} blob - The recorded blob object.\n             * @memberof StereoAudioRecorder\n             * @example\n             * recorder.stop(function(){\n             *     var blob = recorder.blob;\n             * });\n             */\n            self.blob = new Blob([view], {\n                type: 'audio/wav'\n            });\n\n            /**\n             * @property {ArrayBuffer} buffer - The recorded buffer object.\n             * @memberof StereoAudioRecorder\n             * @example\n             * recorder.stop(function(){\n             *     var buffer = recorder.buffer;\n             * });\n             */\n            self.buffer = new ArrayBuffer(view.buffer.byteLength);\n\n            /**\n             * @property {DataView} view - The recorded data-view object.\n             * @memberof StereoAudioRecorder\n             * @example\n             * recorder.stop(function(){\n             *     var view = recorder.view;\n             * });\n             */\n            self.view = view;\n\n            self.sampleRate = sampleRate;\n            self.bufferSize = bufferSize;\n\n            // recorded audio length\n            self.length = recordingLength;\n\n            if (callback) {\n                callback();\n            }\n\n            isAudioProcessStarted = false;\n        });\n    };\n\n    if (!Storage.AudioContextConstructor) {\n        Storage.AudioContextConstructor = new Storage.AudioContext();\n    }\n\n    var context = Storage.AudioContextConstructor;\n\n    // creates an audio node from the microphone incoming stream\n    var audioInput = context.createMediaStreamSource(mediaStream);\n\n    var legalBufferValues = [0, 256, 512, 1024, 2048, 4096, 8192, 16384];\n\n    /**\n     * From the spec: This value controls how frequently the audioprocess event is\n     * dispatched and how many sample-frames need to be processed each call.\n     * Lower values for buffer size will result in a lower (better) latency.\n     * Higher values will be necessary to avoid audio breakup and glitches\n     * The size of the buffer (in sample-frames) which needs to\n     * be processed each time onprocessaudio is called.\n     * Legal values are (256, 512, 1024, 2048, 4096, 8192, 16384).\n     * @property {number} bufferSize - Buffer-size for how frequently the audioprocess event is dispatched.\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder = new StereoAudioRecorder(mediaStream, {\n     *     bufferSize: 4096\n     * });\n     */\n\n    // \"0\" means, let chrome decide the most accurate buffer-size for current platform.\n    var bufferSize = typeof config.bufferSize === 'undefined' ? 4096 : config.bufferSize;\n\n    if (legalBufferValues.indexOf(bufferSize) === -1) {\n        if (!config.disableLogs) {\n            console.warn('Legal values for buffer-size are ' + JSON.stringify(legalBufferValues, null, '\\t'));\n        }\n    }\n\n    if (context.createJavaScriptNode) {\n        jsAudioNode = context.createJavaScriptNode(bufferSize, numberOfAudioChannels, numberOfAudioChannels);\n    } else if (context.createScriptProcessor) {\n        jsAudioNode = context.createScriptProcessor(bufferSize, numberOfAudioChannels, numberOfAudioChannels);\n    } else {\n        throw 'WebAudio API has no support on this browser.';\n    }\n\n    // connect the stream to the gain node\n    audioInput.connect(jsAudioNode);\n\n    if (!config.bufferSize) {\n        bufferSize = jsAudioNode.bufferSize; // device buffer-size\n    }\n\n    /**\n     * The sample rate (in sample-frames per second) at which the\n     * AudioContext handles audio. It is assumed that all AudioNodes\n     * in the context run at this rate. In making this assumption,\n     * sample-rate converters or \"varispeed\" processors are not supported\n     * in real-time processing.\n     * The sampleRate parameter describes the sample-rate of the\n     * linear PCM audio data in the buffer in sample-frames per second.\n     * An implementation must support sample-rates in at least\n     * the range 22050 to 96000.\n     * @property {number} sampleRate - Buffer-size for how frequently the audioprocess event is dispatched.\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder = new StereoAudioRecorder(mediaStream, {\n     *     sampleRate: 44100\n     * });\n     */\n    var sampleRate = typeof config.sampleRate !== 'undefined' ? config.sampleRate : context.sampleRate || 44100;\n\n    if (sampleRate < 22050 || sampleRate > 96000) {\n        // Ref: http://stackoverflow.com/a/26303918/552182\n        if (!config.disableLogs) {\n            console.warn('sample-rate must be under range 22050 and 96000.');\n        }\n    }\n\n    if (!config.disableLogs) {\n        console.log('sample-rate', sampleRate);\n        console.log('buffer-size', bufferSize);\n    }\n\n    var isPaused = false;\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function() {\n        isPaused = true;\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function() {\n        if (isMediaStreamActive() === false) {\n            throw 'Please make sure MediaStream is active.';\n        }\n\n        if (!recording) {\n            if (!config.disableLogs) {\n                console.info('Seems recording has been restarted.');\n            }\n            this.record();\n            return;\n        }\n\n        isPaused = false;\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function() {\n        this.pause();\n\n        leftchannel.length = rightchannel.length = 0;\n        recordingLength = 0;\n    };\n\n    var isAudioProcessStarted = false;\n\n    function onAudioProcessDataAvailable(e) {\n        if (isPaused) {\n            return;\n        }\n\n        if (isMediaStreamActive() === false) {\n            if (!config.disableLogs) {\n                console.log('MediaStream seems stopped.');\n            }\n            jsAudioNode.disconnect();\n            recording = false;\n        }\n\n        if (!recording) {\n            audioInput.disconnect();\n            return;\n        }\n\n        /**\n         * This method is called on \"onaudioprocess\" event's first invocation.\n         * @method {function} onAudioProcessStarted\n         * @memberof StereoAudioRecorder\n         * @example\n         * recorder.onAudioProcessStarted: function() { };\n         */\n        if (!isAudioProcessStarted) {\n            isAudioProcessStarted = true;\n            if (config.onAudioProcessStarted) {\n                config.onAudioProcessStarted();\n            }\n\n            if (config.initCallback) {\n                config.initCallback();\n            }\n        }\n\n        var left = e.inputBuffer.getChannelData(0);\n\n        // we clone the samples\n        leftchannel.push(new Float32Array(left));\n\n        if (numberOfAudioChannels === 2) {\n            var right = e.inputBuffer.getChannelData(1);\n            rightchannel.push(new Float32Array(right));\n        }\n\n        recordingLength += bufferSize;\n    }\n\n    jsAudioNode.onaudioprocess = onAudioProcessDataAvailable;\n\n    // to prevent self audio to be connected with speakers\n    jsAudioNode.connect(context.destination);\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.StereoAudioRecorder = StereoAudioRecorder;\n}\n\n// _________________\n// CanvasRecorder.js\n\n/**\n * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.\n * @summary HTML2Canvas recording into video WebM.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef CanvasRecorder\n * @class\n * @example\n * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true });\n * recorder.record();\n * recorder.stop(function(blob) {\n *     video.src = URL.createObjectURL(blob);\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.\n * @param {object} config - {disableLogs:true, initCallback: function}\n */\n\nfunction CanvasRecorder(htmlElement, config) {\n    if (typeof html2canvas === 'undefined' && htmlElement.nodeName.toLowerCase() !== 'canvas') {\n        throw 'Please link: https://cdn.webrtc-experiment.com/screenshot.js';\n    }\n\n    config = config || {};\n    if (!config.frameInterval) {\n        config.frameInterval = 10;\n    }\n\n    // via DetectRTC.js\n    var isCanvasSupportsStreamCapturing = false;\n    ['captureStream', 'mozCaptureStream', 'webkitCaptureStream'].forEach(function(item) {\n        if (item in document.createElement('canvas')) {\n            isCanvasSupportsStreamCapturing = true;\n        }\n    });\n\n    var _isChrome = (!!window.webkitRTCPeerConnection || !!window.webkitGetUserMedia) && !!window.chrome;\n\n    var chromeVersion = 50;\n    var matchArray = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n    if (_isChrome && matchArray && matchArray[2]) {\n        chromeVersion = parseInt(matchArray[2], 10);\n    }\n\n    if (_isChrome && chromeVersion < 52) {\n        isCanvasSupportsStreamCapturing = false;\n    }\n\n    var globalCanvas, mediaStreamRecorder;\n\n    if (isCanvasSupportsStreamCapturing) {\n        if (!config.disableLogs) {\n            console.debug('Your browser supports both MediRecorder API and canvas.captureStream!');\n        }\n\n        if (htmlElement instanceof HTMLCanvasElement) {\n            globalCanvas = htmlElement;\n        } else if (htmlElement instanceof CanvasRenderingContext2D) {\n            globalCanvas = htmlElement.canvas;\n        } else {\n            throw 'Please pass either HTMLCanvasElement or CanvasRenderingContext2D.';\n        }\n    } else if (!!navigator.mozGetUserMedia) {\n        if (!config.disableLogs) {\n            console.error('Canvas recording is NOT supported in Firefox.');\n        }\n    }\n\n    var isRecording;\n\n    /**\n     * This method records Canvas.\n     * @method\n     * @memberof CanvasRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function() {\n        isRecording = true;\n\n        if (isCanvasSupportsStreamCapturing) {\n            // CanvasCaptureMediaStream\n            var canvasMediaStream;\n            if ('captureStream' in globalCanvas) {\n                canvasMediaStream = globalCanvas.captureStream(25); // 25 FPS\n            } else if ('mozCaptureStream' in globalCanvas) {\n                canvasMediaStream = globalCanvas.mozCaptureStream(25);\n            } else if ('webkitCaptureStream' in globalCanvas) {\n                canvasMediaStream = globalCanvas.webkitCaptureStream(25);\n            }\n\n            try {\n                var mdStream = new MediaStream();\n                mdStream.addTrack(canvasMediaStream.getVideoTracks()[0]);\n                canvasMediaStream = mdStream;\n            } catch (e) {}\n\n            if (!canvasMediaStream) {\n                throw 'captureStream API are NOT available.';\n            }\n\n            // Note: Jan 18, 2016 status is that, \n            // Firefox MediaRecorder API can't record CanvasCaptureMediaStream object.\n            mediaStreamRecorder = new MediaStreamRecorder(canvasMediaStream, {\n                mimeType: 'video/webm'\n            });\n            mediaStreamRecorder.record();\n        } else {\n            whammy.frames = [];\n            lastTime = new Date().getTime();\n            drawCanvasFrame();\n        }\n\n        if (config.initCallback) {\n            config.initCallback();\n        }\n    };\n\n    this.getWebPImages = function(callback) {\n        if (htmlElement.nodeName.toLowerCase() !== 'canvas') {\n            callback();\n            return;\n        }\n\n        var framesLength = whammy.frames.length;\n        whammy.frames.forEach(function(frame, idx) {\n            var framesRemaining = framesLength - idx;\n            if (!config.disableLogs) {\n                console.debug(framesRemaining + '/' + framesLength + ' frames remaining');\n            }\n\n            if (config.onEncodingCallback) {\n                config.onEncodingCallback(framesRemaining, framesLength);\n            }\n\n            var webp = frame.image.toDataURL('image/webp', 1);\n            whammy.frames[idx].image = webp;\n        });\n\n        if (!config.disableLogs) {\n            console.debug('Generating WebM');\n        }\n\n        callback();\n    };\n\n    /**\n     * This method stops recording Canvas.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof CanvasRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function(callback) {\n        isRecording = false;\n\n        var that = this;\n\n        if (isCanvasSupportsStreamCapturing && mediaStreamRecorder) {\n            mediaStreamRecorder.stop(callback);\n            return;\n        }\n\n        this.getWebPImages(function() {\n            /**\n             * @property {Blob} blob - Recorded frames in video/webm blob.\n             * @memberof CanvasRecorder\n             * @example\n             * recorder.stop(function() {\n             *     var blob = recorder.blob;\n             * });\n             */\n            whammy.compile(function(blob) {\n                if (!config.disableLogs) {\n                    console.debug('Recording finished!');\n                }\n\n                that.blob = blob;\n\n                if (that.blob.forEach) {\n                    that.blob = new Blob([], {\n                        type: 'video/webm'\n                    });\n                }\n\n                if (callback) {\n                    callback(that.blob);\n                }\n\n                whammy.frames = [];\n            });\n        });\n    };\n\n    var isPausedRecording = false;\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof CanvasRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function() {\n        isPausedRecording = true;\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof CanvasRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function() {\n        isPausedRecording = false;\n\n        if (!isRecording) {\n            this.record();\n        }\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof CanvasRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function() {\n        this.pause();\n        whammy.frames = [];\n    };\n\n    function cloneCanvas() {\n        //create a new canvas\n        var newCanvas = document.createElement('canvas');\n        var context = newCanvas.getContext('2d');\n\n        //set dimensions\n        newCanvas.width = htmlElement.width;\n        newCanvas.height = htmlElement.height;\n\n        //apply the old canvas to the new one\n        context.drawImage(htmlElement, 0, 0);\n\n        //return the new canvas\n        return newCanvas;\n    }\n\n    function drawCanvasFrame() {\n        if (isPausedRecording) {\n            lastTime = new Date().getTime();\n            return setTimeout(drawCanvasFrame, 500);\n        }\n\n        if (htmlElement.nodeName.toLowerCase() === 'canvas') {\n            var duration = new Date().getTime() - lastTime;\n            // via #206, by Jack i.e. @Seymourr\n            lastTime = new Date().getTime();\n\n            whammy.frames.push({\n                image: cloneCanvas(),\n                duration: duration\n            });\n\n            if (isRecording) {\n                setTimeout(drawCanvasFrame, config.frameInterval);\n            }\n            return;\n        }\n\n        html2canvas(htmlElement, {\n            grabMouse: typeof config.showMousePointer === 'undefined' || config.showMousePointer,\n            onrendered: function(canvas) {\n                var duration = new Date().getTime() - lastTime;\n                if (!duration) {\n                    return setTimeout(drawCanvasFrame, config.frameInterval);\n                }\n\n                // via #206, by Jack i.e. @Seymourr\n                lastTime = new Date().getTime();\n\n                whammy.frames.push({\n                    image: canvas.toDataURL('image/webp', 1),\n                    duration: duration\n                });\n\n                if (isRecording) {\n                    setTimeout(drawCanvasFrame, config.frameInterval);\n                }\n            }\n        });\n    }\n\n    var lastTime = new Date().getTime();\n\n    var whammy = new Whammy.Video(100);\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.CanvasRecorder = CanvasRecorder;\n}\n\n// _________________\n// WhammyRecorder.js\n\n/**\n * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.\n * @summary Video recording feature in Chrome.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef WhammyRecorder\n * @class\n * @example\n * var recorder = new WhammyRecorder(mediaStream);\n * recorder.record();\n * recorder.stop(function(blob) {\n *     video.src = URL.createObjectURL(blob);\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}\n */\n\nfunction WhammyRecorder(mediaStream, config) {\n\n    config = config || {};\n\n    if (!config.frameInterval) {\n        config.frameInterval = 10;\n    }\n\n    if (!config.disableLogs) {\n        console.log('Using frames-interval:', config.frameInterval);\n    }\n\n    /**\n     * This method records video.\n     * @method\n     * @memberof WhammyRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function() {\n        if (!config.width) {\n            config.width = 320;\n        }\n\n        if (!config.height) {\n            config.height = 240;\n        }\n\n        if (!config.video) {\n            config.video = {\n                width: config.width,\n                height: config.height\n            };\n        }\n\n        if (!config.canvas) {\n            config.canvas = {\n                width: config.width,\n                height: config.height\n            };\n        }\n\n        canvas.width = config.canvas.width;\n        canvas.height = config.canvas.height;\n\n        context = canvas.getContext('2d');\n\n        // setting defaults\n        if (config.video && config.video instanceof HTMLVideoElement) {\n            video = config.video.cloneNode();\n\n            if (config.initCallback) {\n                config.initCallback();\n            }\n        } else {\n            video = document.createElement('video');\n\n            if (typeof video.srcObject !== 'undefined') {\n                video.srcObject = mediaStream;\n            } else {\n                video.src = URL.createObjectURL(mediaStream);\n            }\n\n            video.onloadedmetadata = function() { // \"onloadedmetadata\" may NOT work in FF?\n                if (config.initCallback) {\n                    config.initCallback();\n                }\n            };\n\n            video.width = config.video.width;\n            video.height = config.video.height;\n        }\n\n        video.muted = true;\n        video.play();\n\n        lastTime = new Date().getTime();\n        whammy = new Whammy.Video();\n\n        if (!config.disableLogs) {\n            console.log('canvas resolutions', canvas.width, '*', canvas.height);\n            console.log('video width/height', video.width || canvas.width, '*', video.height || canvas.height);\n        }\n\n        drawFrames(config.frameInterval);\n    };\n\n    /**\n     * Draw and push frames to Whammy\n     * @param {integer} frameInterval - set minimum interval (in milliseconds) between each time we push a frame to Whammy\n     */\n    function drawFrames(frameInterval) {\n        frameInterval = typeof frameInterval !== 'undefined' ? frameInterval : 10;\n\n        var duration = new Date().getTime() - lastTime;\n        if (!duration) {\n            return setTimeout(drawFrames, frameInterval, frameInterval);\n        }\n\n        if (isPausedRecording) {\n            lastTime = new Date().getTime();\n            return setTimeout(drawFrames, 100);\n        }\n\n        // via #206, by Jack i.e. @Seymourr\n        lastTime = new Date().getTime();\n\n        if (video.paused) {\n            // via: https://github.com/muaz-khan/WebRTC-Experiment/pull/316\n            // Tweak for Android Chrome\n            video.play();\n        }\n\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\n        whammy.frames.push({\n            duration: duration,\n            image: canvas.toDataURL('image/webp')\n        });\n\n        if (!isStopDrawing) {\n            setTimeout(drawFrames, frameInterval, frameInterval);\n        }\n    }\n\n    function asyncLoop(o) {\n        var i = -1,\n            length = o.length;\n\n        var loop = function() {\n            i++;\n            if (i === length) {\n                o.callback();\n                return;\n            }\n            o.functionToLoop(loop, i);\n        };\n        loop(); //init\n    }\n\n\n    /**\n     * remove black frames from the beginning to the specified frame\n     * @param {Array} _frames - array of frames to be checked\n     * @param {number} _framesToCheck - number of frame until check will be executed (-1 - will drop all frames until frame not matched will be found)\n     * @param {number} _pixTolerance - 0 - very strict (only black pixel color) ; 1 - all\n     * @param {number} _frameTolerance - 0 - very strict (only black frame color) ; 1 - all\n     * @returns {Array} - array of frames\n     */\n    // pull#293 by @volodalexey\n    function dropBlackFrames(_frames, _framesToCheck, _pixTolerance, _frameTolerance, callback) {\n        var localCanvas = document.createElement('canvas');\n        localCanvas.width = canvas.width;\n        localCanvas.height = canvas.height;\n        var context2d = localCanvas.getContext('2d');\n        var resultFrames = [];\n\n        var checkUntilNotBlack = _framesToCheck === -1;\n        var endCheckFrame = (_framesToCheck && _framesToCheck > 0 && _framesToCheck <= _frames.length) ?\n            _framesToCheck : _frames.length;\n        var sampleColor = {\n            r: 0,\n            g: 0,\n            b: 0\n        };\n        var maxColorDifference = Math.sqrt(\n            Math.pow(255, 2) +\n            Math.pow(255, 2) +\n            Math.pow(255, 2)\n        );\n        var pixTolerance = _pixTolerance && _pixTolerance >= 0 && _pixTolerance <= 1 ? _pixTolerance : 0;\n        var frameTolerance = _frameTolerance && _frameTolerance >= 0 && _frameTolerance <= 1 ? _frameTolerance : 0;\n        var doNotCheckNext = false;\n\n        asyncLoop({\n            length: endCheckFrame,\n            functionToLoop: function(loop, f) {\n                var matchPixCount, endPixCheck, maxPixCount;\n\n                var finishImage = function() {\n                    if (!doNotCheckNext && maxPixCount - matchPixCount <= maxPixCount * frameTolerance) {\n                        // console.log('removed black frame : ' + f + ' ; frame duration ' + _frames[f].duration);\n                    } else {\n                        // console.log('frame is passed : ' + f);\n                        if (checkUntilNotBlack) {\n                            doNotCheckNext = true;\n                        }\n                        resultFrames.push(_frames[f]);\n                    }\n                    loop();\n                };\n\n                if (!doNotCheckNext) {\n                    var image = new Image();\n                    image.onload = function() {\n                        context2d.drawImage(image, 0, 0, canvas.width, canvas.height);\n                        var imageData = context2d.getImageData(0, 0, canvas.width, canvas.height);\n                        matchPixCount = 0;\n                        endPixCheck = imageData.data.length;\n                        maxPixCount = imageData.data.length / 4;\n\n                        for (var pix = 0; pix < endPixCheck; pix += 4) {\n                            var currentColor = {\n                                r: imageData.data[pix],\n                                g: imageData.data[pix + 1],\n                                b: imageData.data[pix + 2]\n                            };\n                            var colorDifference = Math.sqrt(\n                                Math.pow(currentColor.r - sampleColor.r, 2) +\n                                Math.pow(currentColor.g - sampleColor.g, 2) +\n                                Math.pow(currentColor.b - sampleColor.b, 2)\n                            );\n                            // difference in color it is difference in color vectors (r1,g1,b1) <=> (r2,g2,b2)\n                            if (colorDifference <= maxColorDifference * pixTolerance) {\n                                matchPixCount++;\n                            }\n                        }\n                        finishImage();\n                    };\n                    image.src = _frames[f].image;\n                } else {\n                    finishImage();\n                }\n            },\n            callback: function() {\n                resultFrames = resultFrames.concat(_frames.slice(endCheckFrame));\n\n                if (resultFrames.length <= 0) {\n                    // at least one last frame should be available for next manipulation\n                    // if total duration of all frames will be < 1000 than ffmpeg doesn't work well...\n                    resultFrames.push(_frames[_frames.length - 1]);\n                }\n                callback(resultFrames);\n            }\n        });\n    }\n\n    var isStopDrawing = false;\n\n    /**\n     * This method stops recording video.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof WhammyRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function(callback) {\n        isStopDrawing = true;\n\n        var _this = this;\n        // analyse of all frames takes some time!\n        setTimeout(function() {\n            // e.g. dropBlackFrames(frames, 10, 1, 1) - will cut all 10 frames\n            // e.g. dropBlackFrames(frames, 10, 0.5, 0.5) - will analyse 10 frames\n            // e.g. dropBlackFrames(frames, 10) === dropBlackFrames(frames, 10, 0, 0) - will analyse 10 frames with strict black color\n            dropBlackFrames(whammy.frames, -1, null, null, function(frames) {\n                whammy.frames = frames;\n\n                // to display advertisement images!\n                if (config.advertisement && config.advertisement.length) {\n                    whammy.frames = config.advertisement.concat(whammy.frames);\n                }\n\n                /**\n                 * @property {Blob} blob - Recorded frames in video/webm blob.\n                 * @memberof WhammyRecorder\n                 * @example\n                 * recorder.stop(function() {\n                 *     var blob = recorder.blob;\n                 * });\n                 */\n                whammy.compile(function(blob) {\n                    _this.blob = blob;\n\n                    if (_this.blob.forEach) {\n                        _this.blob = new Blob([], {\n                            type: 'video/webm'\n                        });\n                    }\n\n                    if (callback) {\n                        callback(_this.blob);\n                    }\n                });\n            });\n        }, 10);\n    };\n\n    var isPausedRecording = false;\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof WhammyRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function() {\n        isPausedRecording = true;\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof WhammyRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function() {\n        isPausedRecording = false;\n\n        if (isStopDrawing) {\n            this.record();\n        }\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof WhammyRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function() {\n        this.pause();\n        whammy.frames = [];\n    };\n\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n\n    var video;\n    var lastTime;\n    var whammy;\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.WhammyRecorder = WhammyRecorder;\n}\n\n// https://github.com/antimatter15/whammy/blob/master/LICENSE\n// _________\n// Whammy.js\n\n// todo: Firefox now supports webp for webm containers!\n// their MediaRecorder implementation works well!\n// should we provide an option to record via Whammy.js or MediaRecorder API is a better solution?\n\n/**\n * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}\n * @summary A real time javascript webm encoder based on a canvas hack.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef Whammy\n * @class\n * @example\n * var recorder = new Whammy().Video(15);\n * recorder.add(context || canvas || dataURL);\n * var output = recorder.compile();\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\n\nvar Whammy = (function() {\n    // a more abstract-ish API\n\n    function WhammyVideo(duration) {\n        this.frames = [];\n        this.duration = duration || 1;\n        this.quality = 0.8;\n    }\n\n    /**\n     * Pass Canvas or Context or image/webp(string) to {@link Whammy} encoder.\n     * @method\n     * @memberof Whammy\n     * @example\n     * recorder = new Whammy().Video(0.8, 100);\n     * recorder.add(canvas || context || 'image/webp');\n     * @param {string} frame - Canvas || Context || image/webp\n     * @param {number} duration - Stick a duration (in milliseconds)\n     */\n    WhammyVideo.prototype.add = function(frame, duration) {\n        if ('canvas' in frame) { //CanvasRenderingContext2D\n            frame = frame.canvas;\n        }\n\n        if ('toDataURL' in frame) {\n            frame = frame.toDataURL('image/webp', this.quality);\n        }\n\n        if (!(/^data:image\\/webp;base64,/ig).test(frame)) {\n            throw 'Input must be formatted properly as a base64 encoded DataURI of type image/webp';\n        }\n        this.frames.push({\n            image: frame,\n            duration: duration || this.duration\n        });\n    };\n\n    function processInWebWorker(_function) {\n        var blob = URL.createObjectURL(new Blob([_function.toString(),\n            'this.onmessage =  function (e) {' + _function.name + '(e.data);}'\n        ], {\n            type: 'application/javascript'\n        }));\n\n        var worker = new Worker(blob);\n        URL.revokeObjectURL(blob);\n        return worker;\n    }\n\n    function whammyInWebWorker(frames) {\n        function ArrayToWebM(frames) {\n            var info = checkFrames(frames);\n            if (!info) {\n                return [];\n            }\n\n            var clusterMaxDuration = 30000;\n\n            var EBML = [{\n                'id': 0x1a45dfa3, // EBML\n                'data': [{\n                    'data': 1,\n                    'id': 0x4286 // EBMLVersion\n                }, {\n                    'data': 1,\n                    'id': 0x42f7 // EBMLReadVersion\n                }, {\n                    'data': 4,\n                    'id': 0x42f2 // EBMLMaxIDLength\n                }, {\n                    'data': 8,\n                    'id': 0x42f3 // EBMLMaxSizeLength\n                }, {\n                    'data': 'webm',\n                    'id': 0x4282 // DocType\n                }, {\n                    'data': 2,\n                    'id': 0x4287 // DocTypeVersion\n                }, {\n                    'data': 2,\n                    'id': 0x4285 // DocTypeReadVersion\n                }]\n            }, {\n                'id': 0x18538067, // Segment\n                'data': [{\n                    'id': 0x1549a966, // Info\n                    'data': [{\n                        'data': 1e6, //do things in millisecs (num of nanosecs for duration scale)\n                        'id': 0x2ad7b1 // TimecodeScale\n                    }, {\n                        'data': 'whammy',\n                        'id': 0x4d80 // MuxingApp\n                    }, {\n                        'data': 'whammy',\n                        'id': 0x5741 // WritingApp\n                    }, {\n                        'data': doubleToString(info.duration),\n                        'id': 0x4489 // Duration\n                    }]\n                }, {\n                    'id': 0x1654ae6b, // Tracks\n                    'data': [{\n                        'id': 0xae, // TrackEntry\n                        'data': [{\n                            'data': 1,\n                            'id': 0xd7 // TrackNumber\n                        }, {\n                            'data': 1,\n                            'id': 0x73c5 // TrackUID\n                        }, {\n                            'data': 0,\n                            'id': 0x9c // FlagLacing\n                        }, {\n                            'data': 'und',\n                            'id': 0x22b59c // Language\n                        }, {\n                            'data': 'V_VP8',\n                            'id': 0x86 // CodecID\n                        }, {\n                            'data': 'VP8',\n                            'id': 0x258688 // CodecName\n                        }, {\n                            'data': 1,\n                            'id': 0x83 // TrackType\n                        }, {\n                            'id': 0xe0, // Video\n                            'data': [{\n                                'data': info.width,\n                                'id': 0xb0 // PixelWidth\n                            }, {\n                                'data': info.height,\n                                'id': 0xba // PixelHeight\n                            }]\n                        }]\n                    }]\n                }]\n            }];\n\n            //Generate clusters (max duration)\n            var frameNumber = 0;\n            var clusterTimecode = 0;\n            while (frameNumber < frames.length) {\n\n                var clusterFrames = [];\n                var clusterDuration = 0;\n                do {\n                    clusterFrames.push(frames[frameNumber]);\n                    clusterDuration += frames[frameNumber].duration;\n                    frameNumber++;\n                } while (frameNumber < frames.length && clusterDuration < clusterMaxDuration);\n\n                var clusterCounter = 0;\n                var cluster = {\n                    'id': 0x1f43b675, // Cluster\n                    'data': getClusterData(clusterTimecode, clusterCounter, clusterFrames)\n                }; //Add cluster to segment\n                EBML[1].data.push(cluster);\n                clusterTimecode += clusterDuration;\n            }\n\n            return generateEBML(EBML);\n        }\n\n        function getClusterData(clusterTimecode, clusterCounter, clusterFrames) {\n            return [{\n                'data': clusterTimecode,\n                'id': 0xe7 // Timecode\n            }].concat(clusterFrames.map(function(webp) {\n                var block = makeSimpleBlock({\n                    discardable: 0,\n                    frame: webp.data.slice(4),\n                    invisible: 0,\n                    keyframe: 1,\n                    lacing: 0,\n                    trackNum: 1,\n                    timecode: Math.round(clusterCounter)\n                });\n                clusterCounter += webp.duration;\n                return {\n                    data: block,\n                    id: 0xa3\n                };\n            }));\n        }\n\n        // sums the lengths of all the frames and gets the duration\n\n        function checkFrames(frames) {\n            if (!frames[0]) {\n                postMessage({\n                    error: 'Something went wrong. Maybe WebP format is not supported in the current browser.'\n                });\n                return;\n            }\n\n            var width = frames[0].width,\n                height = frames[0].height,\n                duration = frames[0].duration;\n\n            for (var i = 1; i < frames.length; i++) {\n                duration += frames[i].duration;\n            }\n            return {\n                duration: duration,\n                width: width,\n                height: height\n            };\n        }\n\n        function numToBuffer(num) {\n            var parts = [];\n            while (num > 0) {\n                parts.push(num & 0xff);\n                num = num >> 8;\n            }\n            return new Uint8Array(parts.reverse());\n        }\n\n        function strToBuffer(str) {\n            return new Uint8Array(str.split('').map(function(e) {\n                return e.charCodeAt(0);\n            }));\n        }\n\n        function bitsToBuffer(bits) {\n            var data = [];\n            var pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\n            bits = pad + bits;\n            for (var i = 0; i < bits.length; i += 8) {\n                data.push(parseInt(bits.substr(i, 8), 2));\n            }\n            return new Uint8Array(data);\n        }\n\n        function generateEBML(json) {\n            var ebml = [];\n            for (var i = 0; i < json.length; i++) {\n                var data = json[i].data;\n\n                if (typeof data === 'object') {\n                    data = generateEBML(data);\n                }\n\n                if (typeof data === 'number') {\n                    data = bitsToBuffer(data.toString(2));\n                }\n\n                if (typeof data === 'string') {\n                    data = strToBuffer(data);\n                }\n\n                var len = data.size || data.byteLength || data.length;\n                var zeroes = Math.ceil(Math.ceil(Math.log(len) / Math.log(2)) / 8);\n                var sizeToString = len.toString(2);\n                var padded = (new Array((zeroes * 7 + 7 + 1) - sizeToString.length)).join('0') + sizeToString;\n                var size = (new Array(zeroes)).join('0') + '1' + padded;\n\n                ebml.push(numToBuffer(json[i].id));\n                ebml.push(bitsToBuffer(size));\n                ebml.push(data);\n            }\n\n            return new Blob(ebml, {\n                type: 'video/webm'\n            });\n        }\n\n        function toBinStrOld(bits) {\n            var data = '';\n            var pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\n            bits = pad + bits;\n            for (var i = 0; i < bits.length; i += 8) {\n                data += String.fromCharCode(parseInt(bits.substr(i, 8), 2));\n            }\n            return data;\n        }\n\n        function makeSimpleBlock(data) {\n            var flags = 0;\n\n            if (data.keyframe) {\n                flags |= 128;\n            }\n\n            if (data.invisible) {\n                flags |= 8;\n            }\n\n            if (data.lacing) {\n                flags |= (data.lacing << 1);\n            }\n\n            if (data.discardable) {\n                flags |= 1;\n            }\n\n            if (data.trackNum > 127) {\n                throw 'TrackNumber > 127 not supported';\n            }\n\n            var out = [data.trackNum | 0x80, data.timecode >> 8, data.timecode & 0xff, flags].map(function(e) {\n                return String.fromCharCode(e);\n            }).join('') + data.frame;\n\n            return out;\n        }\n\n        function parseWebP(riff) {\n            var VP8 = riff.RIFF[0].WEBP[0];\n\n            var frameStart = VP8.indexOf('\\x9d\\x01\\x2a'); // A VP8 keyframe starts with the 0x9d012a header\n            for (var i = 0, c = []; i < 4; i++) {\n                c[i] = VP8.charCodeAt(frameStart + 3 + i);\n            }\n\n            var width, height, tmp;\n\n            //the code below is literally copied verbatim from the bitstream spec\n            tmp = (c[1] << 8) | c[0];\n            width = tmp & 0x3FFF;\n            tmp = (c[3] << 8) | c[2];\n            height = tmp & 0x3FFF;\n            return {\n                width: width,\n                height: height,\n                data: VP8,\n                riff: riff\n            };\n        }\n\n        function getStrLength(string, offset) {\n            return parseInt(string.substr(offset + 4, 4).split('').map(function(i) {\n                var unpadded = i.charCodeAt(0).toString(2);\n                return (new Array(8 - unpadded.length + 1)).join('0') + unpadded;\n            }).join(''), 2);\n        }\n\n        function parseRIFF(string) {\n            var offset = 0;\n            var chunks = {};\n\n            while (offset < string.length) {\n                var id = string.substr(offset, 4);\n                var len = getStrLength(string, offset);\n                var data = string.substr(offset + 4 + 4, len);\n                offset += 4 + 4 + len;\n                chunks[id] = chunks[id] || [];\n\n                if (id === 'RIFF' || id === 'LIST') {\n                    chunks[id].push(parseRIFF(data));\n                } else {\n                    chunks[id].push(data);\n                }\n            }\n            return chunks;\n        }\n\n        function doubleToString(num) {\n            return [].slice.call(\n                new Uint8Array((new Float64Array([num])).buffer), 0).map(function(e) {\n                return String.fromCharCode(e);\n            }).reverse().join('');\n        }\n\n        var webm = new ArrayToWebM(frames.map(function(frame) {\n            var webp = parseWebP(parseRIFF(atob(frame.image.slice(23))));\n            webp.duration = frame.duration;\n            return webp;\n        }));\n\n        postMessage(webm);\n    }\n\n    /**\n     * Encodes frames in WebM container. It uses WebWorkinvoke to invoke 'ArrayToWebM' method.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof Whammy\n     * @example\n     * recorder = new Whammy().Video(0.8, 100);\n     * recorder.compile(function(blob) {\n     *    // blob.size - blob.type\n     * });\n     */\n    WhammyVideo.prototype.compile = function(callback) {\n        var webWorker = processInWebWorker(whammyInWebWorker);\n\n        webWorker.onmessage = function(event) {\n            if (event.data.error) {\n                console.error(event.data.error);\n                return;\n            }\n            callback(event.data);\n        };\n\n        webWorker.postMessage(this.frames);\n    };\n\n    return {\n        /**\n         * A more abstract-ish API.\n         * @method\n         * @memberof Whammy\n         * @example\n         * recorder = new Whammy().Video(0.8, 100);\n         * @param {?number} speed - 0.8\n         * @param {?number} quality - 100\n         */\n        Video: WhammyVideo\n    };\n})();\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.Whammy = Whammy;\n}\n\n// ______________ (indexed-db)\n// DiskStorage.js\n\n/**\n * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.\n * @summary Writing blobs into IndexedDB.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @example\n * DiskStorage.Store({\n *     audioBlob: yourAudioBlob,\n *     videoBlob: yourVideoBlob,\n *     gifBlob  : yourGifBlob\n * });\n * DiskStorage.Fetch(function(dataURL, type) {\n *     if(type === 'audioBlob') { }\n *     if(type === 'videoBlob') { }\n *     if(type === 'gifBlob')   { }\n * });\n * // DiskStorage.dataStoreName = 'recordRTC';\n * // DiskStorage.onError = function(error) { };\n * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.\n * @property {function} Fetch - This method fetches stored blobs from IndexedDB.\n * @property {function} Store - This method stores blobs in IndexedDB.\n * @property {function} onError - This function is invoked for any known/unknown error.\n * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\n\n\nvar DiskStorage = {\n    /**\n     * This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.\n     * @method\n     * @memberof DiskStorage\n     * @internal\n     * @example\n     * DiskStorage.init();\n     */\n    init: function() {\n        var self = this;\n\n        if (typeof indexedDB === 'undefined' || typeof indexedDB.open === 'undefined') {\n            console.error('IndexedDB API are not available in this browser.');\n            return;\n        }\n\n        var dbVersion = 1;\n        var dbName = this.dbName || location.href.replace(/\\/|:|#|%|\\.|\\[|\\]/g, ''),\n            db;\n        var request = indexedDB.open(dbName, dbVersion);\n\n        function createObjectStore(dataBase) {\n            dataBase.createObjectStore(self.dataStoreName);\n        }\n\n        function putInDB() {\n            var transaction = db.transaction([self.dataStoreName], 'readwrite');\n\n            if (self.videoBlob) {\n                transaction.objectStore(self.dataStoreName).put(self.videoBlob, 'videoBlob');\n            }\n\n            if (self.gifBlob) {\n                transaction.objectStore(self.dataStoreName).put(self.gifBlob, 'gifBlob');\n            }\n\n            if (self.audioBlob) {\n                transaction.objectStore(self.dataStoreName).put(self.audioBlob, 'audioBlob');\n            }\n\n            function getFromStore(portionName) {\n                transaction.objectStore(self.dataStoreName).get(portionName).onsuccess = function(event) {\n                    if (self.callback) {\n                        self.callback(event.target.result, portionName);\n                    }\n                };\n            }\n\n            getFromStore('audioBlob');\n            getFromStore('videoBlob');\n            getFromStore('gifBlob');\n        }\n\n        request.onerror = self.onError;\n\n        request.onsuccess = function() {\n            db = request.result;\n            db.onerror = self.onError;\n\n            if (db.setVersion) {\n                if (db.version !== dbVersion) {\n                    var setVersion = db.setVersion(dbVersion);\n                    setVersion.onsuccess = function() {\n                        createObjectStore(db);\n                        putInDB();\n                    };\n                } else {\n                    putInDB();\n                }\n            } else {\n                putInDB();\n            }\n        };\n        request.onupgradeneeded = function(event) {\n            createObjectStore(event.target.result);\n        };\n    },\n    /**\n     * This method fetches stored blobs from IndexedDB.\n     * @method\n     * @memberof DiskStorage\n     * @internal\n     * @example\n     * DiskStorage.Fetch(function(dataURL, type) {\n     *     if(type === 'audioBlob') { }\n     *     if(type === 'videoBlob') { }\n     *     if(type === 'gifBlob')   { }\n     * });\n     */\n    Fetch: function(callback) {\n        this.callback = callback;\n        this.init();\n\n        return this;\n    },\n    /**\n     * This method stores blobs in IndexedDB.\n     * @method\n     * @memberof DiskStorage\n     * @internal\n     * @example\n     * DiskStorage.Store({\n     *     audioBlob: yourAudioBlob,\n     *     videoBlob: yourVideoBlob,\n     *     gifBlob  : yourGifBlob\n     * });\n     */\n    Store: function(config) {\n        this.audioBlob = config.audioBlob;\n        this.videoBlob = config.videoBlob;\n        this.gifBlob = config.gifBlob;\n\n        this.init();\n\n        return this;\n    },\n    /**\n     * This function is invoked for any known/unknown error.\n     * @method\n     * @memberof DiskStorage\n     * @internal\n     * @example\n     * DiskStorage.onError = function(error){\n     *     alerot( JSON.stringify(error) );\n     * };\n     */\n    onError: function(error) {\n        console.error(JSON.stringify(error, null, '\\t'));\n    },\n\n    /**\n     * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.\n     * @memberof DiskStorage\n     * @internal\n     * @example\n     * DiskStorage.dataStoreName = 'recordRTC';\n     */\n    dataStoreName: 'recordRTC',\n    dbName: null\n};\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.DiskStorage = DiskStorage;\n}\n\n// ______________\n// GifRecorder.js\n\n/**\n * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef GifRecorder\n * @class\n * @example\n * var recorder = new GifRecorder(mediaStream || canvas || context, { width: 1280, height: 720, frameRate: 200, quality: 10 });\n * recorder.record();\n * recorder.stop(function(blob) {\n *     img.src = URL.createObjectURL(blob);\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.\n * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}\n */\n\nfunction GifRecorder(mediaStream, config) {\n    if (typeof GIFEncoder === 'undefined') {\n        throw 'Please link: https://cdn.webrtc-experiment.com/gif-recorder.js';\n    }\n\n    config = config || {};\n\n    var isHTMLObject = mediaStream instanceof CanvasRenderingContext2D || mediaStream instanceof HTMLCanvasElement;\n\n    /**\n     * This method records MediaStream.\n     * @method\n     * @memberof GifRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function() {\n        if (!isHTMLObject) {\n            if (!config.width) {\n                config.width = video.offsetWidth || 320;\n            }\n\n            if (!this.height) {\n                config.height = video.offsetHeight || 240;\n            }\n\n            if (!config.video) {\n                config.video = {\n                    width: config.width,\n                    height: config.height\n                };\n            }\n\n            if (!config.canvas) {\n                config.canvas = {\n                    width: config.width,\n                    height: config.height\n                };\n            }\n\n            canvas.width = config.canvas.width;\n            canvas.height = config.canvas.height;\n\n            video.width = config.video.width;\n            video.height = config.video.height;\n        }\n\n        // external library to record as GIF images\n        gifEncoder = new GIFEncoder();\n\n        // void setRepeat(int iter) \n        // Sets the number of times the set of GIF frames should be played. \n        // Default is 1; 0 means play indefinitely.\n        gifEncoder.setRepeat(0);\n\n        // void setFrameRate(Number fps) \n        // Sets frame rate in frames per second. \n        // Equivalent to setDelay(1000/fps).\n        // Using \"setDelay\" instead of \"setFrameRate\"\n        gifEncoder.setDelay(config.frameRate || 200);\n\n        // void setQuality(int quality) \n        // Sets quality of color quantization (conversion of images to the \n        // maximum 256 colors allowed by the GIF specification). \n        // Lower values (minimum = 1) produce better colors, \n        // but slow processing significantly. 10 is the default, \n        // and produces good color mapping at reasonable speeds. \n        // Values greater than 20 do not yield significant improvements in speed.\n        gifEncoder.setQuality(config.quality || 10);\n\n        // Boolean start() \n        // This writes the GIF Header and returns false if it fails.\n        gifEncoder.start();\n\n        startTime = Date.now();\n\n        var self = this;\n\n        function drawVideoFrame(time) {\n            if (isPausedRecording) {\n                return setTimeout(function() {\n                    drawVideoFrame(time);\n                }, 100);\n            }\n\n            lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\n\n            if (typeof lastFrameTime === undefined) {\n                lastFrameTime = time;\n            }\n\n            // ~10 fps\n            if (time - lastFrameTime < 90) {\n                return;\n            }\n\n            if (!isHTMLObject && video.paused) {\n                // via: https://github.com/muaz-khan/WebRTC-Experiment/pull/316\n                // Tweak for Android Chrome\n                video.play();\n            }\n\n            if (!isHTMLObject) {\n                context.drawImage(video, 0, 0, canvas.width, canvas.height);\n            }\n\n            if (config.onGifPreview) {\n                config.onGifPreview(canvas.toDataURL('image/png'));\n            }\n\n            gifEncoder.addFrame(context);\n            lastFrameTime = time;\n        }\n\n        lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\n\n        if (config.initCallback) {\n            config.initCallback();\n        }\n    };\n\n    /**\n     * This method stops recording MediaStream.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof GifRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     img.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function() {\n        if (lastAnimationFrame) {\n            cancelAnimationFrame(lastAnimationFrame);\n        }\n\n        endTime = Date.now();\n\n        /**\n         * @property {Blob} blob - The recorded blob object.\n         * @memberof GifRecorder\n         * @example\n         * recorder.stop(function(){\n         *     var blob = recorder.blob;\n         * });\n         */\n        this.blob = new Blob([new Uint8Array(gifEncoder.stream().bin)], {\n            type: 'image/gif'\n        });\n\n        // bug: find a way to clear old recorded blobs\n        gifEncoder.stream().bin = [];\n    };\n\n    var isPausedRecording = false;\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof GifRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function() {\n        isPausedRecording = true;\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof GifRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function() {\n        isPausedRecording = false;\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof GifRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function() {\n        if (!gifEncoder) {\n            return;\n        }\n\n        this.pause();\n\n        gifEncoder.stream().bin = [];\n    };\n\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n\n    if (isHTMLObject) {\n        if (mediaStream instanceof CanvasRenderingContext2D) {\n            context = mediaStream;\n            canvas = context.canvas;\n        } else if (mediaStream instanceof HTMLCanvasElement) {\n            context = mediaStream.getContext('2d');\n            canvas = mediaStream;\n        }\n    }\n\n    if (!isHTMLObject) {\n        var video = document.createElement('video');\n        video.muted = true;\n        video.autoplay = true;\n\n        if (typeof video.srcObject !== 'undefined') {\n            video.srcObject = mediaStream;\n        } else {\n            video.src = URL.createObjectURL(mediaStream);\n        }\n\n        video.play();\n    }\n\n    var lastAnimationFrame = null;\n    var startTime, endTime, lastFrameTime;\n\n    var gifEncoder;\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.GifRecorder = GifRecorder;\n}\n","var Vue // late bind\nvar map = window.__VUE_HOT_MAP__ = Object.create(null)\nvar installed = false\nvar isBrowserify = false\nvar initHookName = 'beforeCreate'\n\nexports.install = function (vue, browserify) {\n  if (installed) return\n  installed = true\n\n  Vue = vue\n  isBrowserify = browserify\n\n  // compat with < 2.0.0-alpha.7\n  if (Vue.config._lifecycleHooks.indexOf('init') > -1) {\n    initHookName = 'init'\n  }\n\n  exports.compatible = Number(Vue.version.split('.')[0]) >= 2\n  if (!exports.compatible) {\n    console.warn(\n      '[HMR] You are using a version of vue-hot-reload-api that is ' +\n      'only compatible with Vue.js core ^2.0.0.'\n    )\n    return\n  }\n}\n\n/**\n * Create a record for a hot module, which keeps track of its constructor\n * and instances\n *\n * @param {String} id\n * @param {Object} options\n */\n\nexports.createRecord = function (id, options) {\n  var Ctor = null\n  if (typeof options === 'function') {\n    Ctor = options\n    options = Ctor.options\n  }\n  makeOptionsHot(id, options)\n  map[id] = {\n    Ctor: Vue.extend(options),\n    instances: []\n  }\n}\n\n/**\n * Make a Component options object hot.\n *\n * @param {String} id\n * @param {Object} options\n */\n\nfunction makeOptionsHot (id, options) {\n  injectHook(options, initHookName, function () {\n    map[id].instances.push(this)\n  })\n  injectHook(options, 'beforeDestroy', function () {\n    var instances = map[id].instances\n    instances.splice(instances.indexOf(this), 1)\n  })\n}\n\n/**\n * Inject a hook to a hot reloadable component so that\n * we can keep track of it.\n *\n * @param {Object} options\n * @param {String} name\n * @param {Function} hook\n */\n\nfunction injectHook (options, name, hook) {\n  var existing = options[name]\n  options[name] = existing\n    ? Array.isArray(existing)\n      ? existing.concat(hook)\n      : [existing, hook]\n    : [hook]\n}\n\nfunction tryWrap (fn) {\n  return function (id, arg) {\n    try { fn(id, arg) } catch (e) {\n      console.error(e)\n      console.warn('Something went wrong during Vue component hot-reload. Full reload required.')\n    }\n  }\n}\n\nexports.rerender = tryWrap(function (id, fns) {\n  var record = map[id]\n  record.Ctor.options.render = fns.render\n  record.Ctor.options.staticRenderFns = fns.staticRenderFns\n  record.instances.slice().forEach(function (instance) {\n    instance.$options.render = fns.render\n    instance.$options.staticRenderFns = fns.staticRenderFns\n    instance._staticTrees = [] // reset static trees\n    instance.$forceUpdate()\n  })\n})\n\nexports.reload = tryWrap(function (id, options) {\n  makeOptionsHot(id, options)\n  var record = map[id]\n  record.Ctor.extendOptions = options\n  var newCtor = Vue.extend(options)\n  record.Ctor.options = newCtor.options\n  record.Ctor.cid = newCtor.cid\n  if (newCtor.release) {\n    // temporary global mixin strategy used in < 2.0.0-alpha.6\n    newCtor.release()\n  }\n  record.instances.slice().forEach(function (instance) {\n    if (instance.$parent) {\n      instance.$parent.$forceUpdate()\n    } else {\n      console.warn('Root or manually mounted instance modified. Full reload required.')\n    }\n  })\n})\n","// THIS FILE IS GENERATED - DO NOT EDIT!\n/*!mobile-detect v1.3.3 2016-07-31*/\n/*global module:false, define:false*/\n/*!@license Copyright 2013, Heinrich Goebl, License: MIT, see https://github.com/hgoebl/mobile-detect.js*/\n(function (define, undefined) {\ndefine(function () {\n    'use strict';\n\n    var impl = {};\n\n    impl.mobileDetectRules = {\n    \"phones\": {\n        \"iPhone\": \"\\\\biPhone\\\\b|\\\\biPod\\\\b\",\n        \"BlackBerry\": \"BlackBerry|\\\\bBB10\\\\b|rim[0-9]+\",\n        \"HTC\": \"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\\\bEVO\\\\b|T-Mobile G1|Z520m\",\n        \"Nexus\": \"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6\",\n        \"Dell\": \"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\\\b001DL\\\\b|\\\\b101DL\\\\b|\\\\bGS01\\\\b\",\n        \"Motorola\": \"Motorola|DROIDX|DROID BIONIC|\\\\bDroid\\\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\\\bMoto E\\\\b\",\n        \"Samsung\": \"Samsung|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F\",\n        \"LG\": \"\\\\bLG\\\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323)\",\n        \"Sony\": \"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533\",\n        \"Asus\": \"Asus.*Galaxy|PadFone.*Mobile\",\n        \"NokiaLumia\": \"Lumia [0-9]{3,4}\",\n        \"Micromax\": \"Micromax.*\\\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\\\b\",\n        \"Palm\": \"PalmSource|Palm\",\n        \"Vertu\": \"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature\",\n        \"Pantech\": \"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790\",\n        \"Fly\": \"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250\",\n        \"Wiko\": \"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM\",\n        \"iMobile\": \"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)\",\n        \"SimValley\": \"\\\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\\\b\",\n        \"Wolfgang\": \"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q\",\n        \"Alcatel\": \"Alcatel\",\n        \"Nintendo\": \"Nintendo 3DS\",\n        \"Amoi\": \"Amoi\",\n        \"INQ\": \"INQ\",\n        \"GenericPhone\": \"Tapatalk|PDA;|SAGEM|\\\\bmmp\\\\b|pocket|\\\\bpsp\\\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\\\bwap\\\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser\"\n    },\n    \"tablets\": {\n        \"iPad\": \"iPad|iPad.*Mobile\",\n        \"NexusTablet\": \"Android.*Nexus[\\\\s]+(7|9|10)\",\n        \"SamsungTablet\": \"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561\",\n        \"Kindle\": \"Kindle|Silk.*Accelerated|Android.*\\\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI)\\\\b\",\n        \"SurfaceTablet\": \"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)\",\n        \"HPTablet\": \"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10\",\n        \"AsusTablet\": \"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\\\bK00F\\\\b|\\\\bK00C\\\\b|\\\\bK00E\\\\b|\\\\bK00L\\\\b|TX201LA|ME176C|ME102A|\\\\bM80TA\\\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K017 |ME572C|ME103K|ME170C|ME171C|\\\\bME70C\\\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA\",\n        \"BlackBerryTablet\": \"PlayBook|RIM Tablet\",\n        \"HTCtablet\": \"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410\",\n        \"MotorolaTablet\": \"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617\",\n        \"NookTablet\": \"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2\",\n        \"AcerTablet\": \"Android.*; \\\\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\\\b|W3-810|\\\\bA3-A10\\\\b|\\\\bA3-A11\\\\b|\\\\bA3-A20\",\n        \"ToshibaTablet\": \"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO\",\n        \"LGTablet\": \"\\\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\\\b\",\n        \"FujitsuTablet\": \"Android.*\\\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\\\b\",\n        \"PrestigioTablet\": \"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002\",\n        \"LenovoTablet\": \"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)\",\n        \"DellTablet\": \"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7\",\n        \"YarvikTablet\": \"Android.*\\\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\\\b\",\n        \"MedionTablet\": \"Android.*\\\\bOYO\\\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB\",\n        \"ArnovaTablet\": \"AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2\",\n        \"IntensoTablet\": \"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004\",\n        \"IRUTablet\": \"M702pro\",\n        \"MegafonTablet\": \"MegaFon V9|\\\\bZTE V9\\\\b|Android.*\\\\bMT7A\\\\b\",\n        \"EbodaTablet\": \"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)\",\n        \"AllViewTablet\": \"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)\",\n        \"ArchosTablet\": \"\\\\b(101G9|80G9|A101IT)\\\\b|Qilive 97R|Archos5|\\\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\\\b\",\n        \"AinolTablet\": \"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark\",\n        \"NokiaLumiaTablet\": \"Lumia 2520\",\n        \"SonyTablet\": \"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612|SOT31\",\n        \"PhilipsTablet\": \"\\\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\\\b\",\n        \"CubeTablet\": \"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT\",\n        \"CobyTablet\": \"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010\",\n        \"MIDTablet\": \"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10\",\n        \"MSITablet\": \"MSI \\\\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\\\b\",\n        \"SMiTTablet\": \"Android.*(\\\\bMID\\\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)\",\n        \"RockChipTablet\": \"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A\",\n        \"FlyTablet\": \"IQ310|Fly Vision\",\n        \"bqTablet\": \"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris E10)|Maxwell.*Lite|Maxwell.*Plus\",\n        \"HuaweiTablet\": \"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim\",\n        \"NecTablet\": \"\\\\bN-06D|\\\\bN-08D\",\n        \"PantechTablet\": \"Pantech.*P4100\",\n        \"BronchoTablet\": \"Broncho.*(N701|N708|N802|a710)\",\n        \"VersusTablet\": \"TOUCHPAD.*[78910]|\\\\bTOUCHTAB\\\\b\",\n        \"ZyncTablet\": \"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900\",\n        \"PositivoTablet\": \"TB07STA|TB10STA|TB07FTA|TB10FTA\",\n        \"NabiTablet\": \"Android.*\\\\bNabi\",\n        \"KoboTablet\": \"Kobo Touch|\\\\bK080\\\\b|\\\\bVox\\\\b Build|\\\\bArc\\\\b Build\",\n        \"DanewTablet\": \"DSlide.*\\\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\\\b\",\n        \"TexetTablet\": \"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE\",\n        \"PlaystationTablet\": \"Playstation.*(Portable|Vita)\",\n        \"TrekstorTablet\": \"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab\",\n        \"PyleAudioTablet\": \"\\\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\\\b\",\n        \"AdvanTablet\": \"Android.* \\\\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\\\b \",\n        \"DanyTechTablet\": \"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1\",\n        \"GalapadTablet\": \"Android.*\\\\bG1\\\\b\",\n        \"MicromaxTablet\": \"Funbook|Micromax.*\\\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\\\b\",\n        \"KarbonnTablet\": \"Android.*\\\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\\\b\",\n        \"AllFineTablet\": \"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide\",\n        \"PROSCANTablet\": \"\\\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\\\b\",\n        \"YONESTablet\": \"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026\",\n        \"ChangJiaTablet\": \"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503\",\n        \"GUTablet\": \"TX-A1301|TX-M9002|Q702|kf026\",\n        \"PointOfViewTablet\": \"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10\",\n        \"OvermaxTablet\": \"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)\",\n        \"HCLTablet\": \"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync\",\n        \"DPSTablet\": \"DPS Dream 9|DPS Dual 7\",\n        \"VistureTablet\": \"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10\",\n        \"CrestaTablet\": \"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989\",\n        \"MediatekTablet\": \"\\\\bMT8125|MT8389|MT8135|MT8377\\\\b\",\n        \"ConcordeTablet\": \"Concorde([ ]+)?Tab|ConCorde ReadMan\",\n        \"GoCleverTablet\": \"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042\",\n        \"ModecomTablet\": \"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003\",\n        \"VoninoTablet\": \"\\\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\\\bQ8\\\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\\\b\",\n        \"ECSTablet\": \"V07OT2|TM105A|S10OT1|TR10CS1\",\n        \"StorexTablet\": \"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab\",\n        \"VodafoneTablet\": \"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497\",\n        \"EssentielBTablet\": \"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2\",\n        \"RossMoorTablet\": \"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711\",\n        \"iMobileTablet\": \"i-mobile i-note\",\n        \"TolinoTablet\": \"tolino tab [0-9.]+|tolino shine\",\n        \"AudioSonicTablet\": \"\\\\bC-22Q|T7-QC|T-17B|T-17P\\\\b\",\n        \"AMPETablet\": \"Android.* A78 \",\n        \"SkkTablet\": \"Android.* (SKYPAD|PHOENIX|CYCLOPS)\",\n        \"TecnoTablet\": \"TECNO P9\",\n        \"JXDTablet\": \"Android.* \\\\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\\\b\",\n        \"iJoyTablet\": \"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)\",\n        \"FX2Tablet\": \"FX2 PAD7|FX2 PAD10\",\n        \"XoroTablet\": \"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151\",\n        \"ViewsonicTablet\": \"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a\",\n        \"OdysTablet\": \"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\\\bXELIO\\\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10\",\n        \"CaptivaTablet\": \"CAPTIVA PAD\",\n        \"IconbitTablet\": \"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S\",\n        \"TeclastTablet\": \"T98 4G|\\\\bP80\\\\b|\\\\bX90HD\\\\b|X98 Air|X98 Air 3G|\\\\bX89\\\\b|P80 3G|\\\\bX80h\\\\b|P98 Air|\\\\bX89HD\\\\b|P98 3G|\\\\bP90HD\\\\b|P89 3G|X98 3G|\\\\bP70h\\\\b|P79HD 3G|G18d 3G|\\\\bP79HD\\\\b|\\\\bP89s\\\\b|\\\\bA88\\\\b|\\\\bP10HD\\\\b|\\\\bP19HD\\\\b|G18 3G|\\\\bP78HD\\\\b|\\\\bA78\\\\b|\\\\bP75\\\\b|G17s 3G|G17h 3G|\\\\bP85t\\\\b|\\\\bP90\\\\b|\\\\bP11\\\\b|\\\\bP98t\\\\b|\\\\bP98HD\\\\b|\\\\bG18d\\\\b|\\\\bP85s\\\\b|\\\\bP11HD\\\\b|\\\\bP88s\\\\b|\\\\bA80HD\\\\b|\\\\bA80se\\\\b|\\\\bA10h\\\\b|\\\\bP89\\\\b|\\\\bP78s\\\\b|\\\\bG18\\\\b|\\\\bP85\\\\b|\\\\bA70h\\\\b|\\\\bA70\\\\b|\\\\bG17\\\\b|\\\\bP18\\\\b|\\\\bA80s\\\\b|\\\\bA11s\\\\b|\\\\bP88HD\\\\b|\\\\bA80h\\\\b|\\\\bP76s\\\\b|\\\\bP76h\\\\b|\\\\bP98\\\\b|\\\\bA10HD\\\\b|\\\\bP78\\\\b|\\\\bP88\\\\b|\\\\bA11\\\\b|\\\\bA10t\\\\b|\\\\bP76a\\\\b|\\\\bP76t\\\\b|\\\\bP76e\\\\b|\\\\bP85HD\\\\b|\\\\bP85a\\\\b|\\\\bP86\\\\b|\\\\bP75HD\\\\b|\\\\bP76v\\\\b|\\\\bA12\\\\b|\\\\bP75a\\\\b|\\\\bA15\\\\b|\\\\bP76Ti\\\\b|\\\\bP81HD\\\\b|\\\\bA10\\\\b|\\\\bT760VE\\\\b|\\\\bT720HD\\\\b|\\\\bP76\\\\b|\\\\bP73\\\\b|\\\\bP71\\\\b|\\\\bP72\\\\b|\\\\bT720SE\\\\b|\\\\bC520Ti\\\\b|\\\\bT760\\\\b|\\\\bT720VE\\\\b|T720-3GE|T720-WiFi\",\n        \"OndaTablet\": \"\\\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\\\b[\\\\s]+\",\n        \"JaytechTablet\": \"TPC-PA762\",\n        \"BlaupunktTablet\": \"Endeavour 800NG|Endeavour 1010\",\n        \"DigmaTablet\": \"\\\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\\\b\",\n        \"EvolioTablet\": \"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\\\bEvotab\\\\b|\\\\bNeura\\\\b\",\n        \"LavaTablet\": \"QPAD E704|\\\\bIvoryS\\\\b|E-TAB IVORY|\\\\bE-TAB\\\\b\",\n        \"AocTablet\": \"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712\",\n        \"MpmanTablet\": \"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\\\bMPG7\\\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010\",\n        \"CelkonTablet\": \"CT695|CT888|CT[\\\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\\\bCT-1\\\\b\",\n        \"WolderTablet\": \"miTab \\\\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\\\b\",\n        \"MiTablet\": \"\\\\bMI PAD\\\\b|\\\\bHM NOTE 1W\\\\b\",\n        \"NibiruTablet\": \"Nibiru M1|Nibiru Jupiter One\",\n        \"NexoTablet\": \"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI\",\n        \"LeaderTablet\": \"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100\",\n        \"UbislateTablet\": \"UbiSlate[\\\\s]?7C\",\n        \"PocketBookTablet\": \"Pocketbook\",\n        \"KocasoTablet\": \"\\\\b(TB-1207)\\\\b\",\n        \"Hudl\": \"Hudl HT7S3|Hudl 2\",\n        \"TelstraTablet\": \"T-Hub2\",\n        \"GenericTablet\": \"Android.*\\\\b97D\\\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\\\bA7EB\\\\b|CatNova8|A1_07|CT704|CT1002|\\\\bM721\\\\b|rk30sdk|\\\\bEVOTAB\\\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\\\bM6pro\\\\b|CT1020W|arc 10HD|\\\\bJolla\\\\b|\\\\bTP750\\\\b\"\n    },\n    \"oss\": {\n        \"AndroidOS\": \"Android\",\n        \"BlackBerryOS\": \"blackberry|\\\\bBB10\\\\b|rim tablet os\",\n        \"PalmOS\": \"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino\",\n        \"SymbianOS\": \"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\\\bS60\\\\b\",\n        \"WindowsMobileOS\": \"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;\",\n        \"WindowsPhoneOS\": \"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;\",\n        \"iOS\": \"\\\\biPhone.*Mobile|\\\\biPod|\\\\biPad\",\n        \"MeeGoOS\": \"MeeGo\",\n        \"MaemoOS\": \"Maemo\",\n        \"JavaOS\": \"J2ME\\/|\\\\bMIDP\\\\b|\\\\bCLDC\\\\b\",\n        \"webOS\": \"webOS|hpwOS\",\n        \"badaOS\": \"\\\\bBada\\\\b\",\n        \"BREWOS\": \"BREW\"\n    },\n    \"uas\": {\n        \"Vivaldi\": \"Vivaldi\",\n        \"Chrome\": \"\\\\bCrMo\\\\b|CriOS|Android.*Chrome\\/[.0-9]* (Mobile)?\",\n        \"Dolfin\": \"\\\\bDolfin\\\\b\",\n        \"Opera\": \"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR\\/[0-9.]+|Coast\\/[0-9.]+\",\n        \"Skyfire\": \"Skyfire\",\n        \"Edge\": \"Mobile Safari\\/[.0-9]* Edge\",\n        \"IE\": \"IEMobile|MSIEMobile\",\n        \"Firefox\": \"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile\",\n        \"Bolt\": \"bolt\",\n        \"TeaShark\": \"teashark\",\n        \"Blazer\": \"Blazer\",\n        \"Safari\": \"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari\",\n        \"Tizen\": \"Tizen\",\n        \"UCBrowser\": \"UC.*Browser|UCWEB\",\n        \"baiduboxapp\": \"baiduboxapp\",\n        \"baidubrowser\": \"baidubrowser\",\n        \"DiigoBrowser\": \"DiigoBrowser\",\n        \"Puffin\": \"Puffin\",\n        \"Mercury\": \"\\\\bMercury\\\\b\",\n        \"ObigoBrowser\": \"Obigo\",\n        \"NetFront\": \"NF-Browser\",\n        \"GenericBrowser\": \"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger\",\n        \"PaleMoon\": \"Android.*PaleMoon|Mobile.*PaleMoon\"\n    },\n    \"props\": {\n        \"Mobile\": \"Mobile\\/[VER]\",\n        \"Build\": \"Build\\/[VER]\",\n        \"Version\": \"Version\\/[VER]\",\n        \"VendorID\": \"VendorID\\/[VER]\",\n        \"iPad\": \"iPad.*CPU[a-z ]+[VER]\",\n        \"iPhone\": \"iPhone.*CPU[a-z ]+[VER]\",\n        \"iPod\": \"iPod.*CPU[a-z ]+[VER]\",\n        \"Kindle\": \"Kindle\\/[VER]\",\n        \"Chrome\": [\n            \"Chrome\\/[VER]\",\n            \"CriOS\\/[VER]\",\n            \"CrMo\\/[VER]\"\n        ],\n        \"Coast\": [\n            \"Coast\\/[VER]\"\n        ],\n        \"Dolfin\": \"Dolfin\\/[VER]\",\n        \"Firefox\": \"Firefox\\/[VER]\",\n        \"Fennec\": \"Fennec\\/[VER]\",\n        \"Edge\": \"Edge\\/[VER]\",\n        \"IE\": [\n            \"IEMobile\\/[VER];\",\n            \"IEMobile [VER]\",\n            \"MSIE [VER];\",\n            \"Trident\\/[0-9.]+;.*rv:[VER]\"\n        ],\n        \"NetFront\": \"NetFront\\/[VER]\",\n        \"NokiaBrowser\": \"NokiaBrowser\\/[VER]\",\n        \"Opera\": [\n            \" OPR\\/[VER]\",\n            \"Opera Mini\\/[VER]\",\n            \"Version\\/[VER]\"\n        ],\n        \"Opera Mini\": \"Opera Mini\\/[VER]\",\n        \"Opera Mobi\": \"Version\\/[VER]\",\n        \"UC Browser\": \"UC Browser[VER]\",\n        \"MQQBrowser\": \"MQQBrowser\\/[VER]\",\n        \"MicroMessenger\": \"MicroMessenger\\/[VER]\",\n        \"baiduboxapp\": \"baiduboxapp\\/[VER]\",\n        \"baidubrowser\": \"baidubrowser\\/[VER]\",\n        \"Iron\": \"Iron\\/[VER]\",\n        \"Safari\": [\n            \"Version\\/[VER]\",\n            \"Safari\\/[VER]\"\n        ],\n        \"Skyfire\": \"Skyfire\\/[VER]\",\n        \"Tizen\": \"Tizen\\/[VER]\",\n        \"Webkit\": \"webkit[ \\/][VER]\",\n        \"PaleMoon\": \"PaleMoon\\/[VER]\",\n        \"Gecko\": \"Gecko\\/[VER]\",\n        \"Trident\": \"Trident\\/[VER]\",\n        \"Presto\": \"Presto\\/[VER]\",\n        \"Goanna\": \"Goanna\\/[VER]\",\n        \"iOS\": \" \\\\bi?OS\\\\b [VER][ ;]{1}\",\n        \"Android\": \"Android [VER]\",\n        \"BlackBerry\": [\n            \"BlackBerry[\\\\w]+\\/[VER]\",\n            \"BlackBerry.*Version\\/[VER]\",\n            \"Version\\/[VER]\"\n        ],\n        \"BREW\": \"BREW [VER]\",\n        \"Java\": \"Java\\/[VER]\",\n        \"Windows Phone OS\": [\n            \"Windows Phone OS [VER]\",\n            \"Windows Phone [VER]\"\n        ],\n        \"Windows Phone\": \"Windows Phone [VER]\",\n        \"Windows CE\": \"Windows CE\\/[VER]\",\n        \"Windows NT\": \"Windows NT [VER]\",\n        \"Symbian\": [\n            \"SymbianOS\\/[VER]\",\n            \"Symbian\\/[VER]\"\n        ],\n        \"webOS\": [\n            \"webOS\\/[VER]\",\n            \"hpwOS\\/[VER];\"\n        ]\n    },\n    \"utils\": {\n        \"Bot\": \"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom\",\n        \"MobileBot\": \"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker\\/M1A1-R2D2\",\n        \"DesktopMode\": \"WPDesktop\",\n        \"TV\": \"SonyDTV|HbbTV\",\n        \"WebKit\": \"(webkit)[ \\/]([\\\\w.]+)\",\n        \"Console\": \"\\\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\\\b\",\n        \"Watch\": \"SM-V700\"\n    }\n};\n\n    // following patterns come from http://detectmobilebrowsers.com/\n    impl.detectMobileBrowsers = {\n        fullPattern: /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,\n        shortPattern: /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i,\n        tabletPattern: /android|ipad|playbook|silk/i\n    };\n\n    var hasOwnProp = Object.prototype.hasOwnProperty,\n        isArray;\n\n    impl.FALLBACK_PHONE = 'UnknownPhone';\n    impl.FALLBACK_TABLET = 'UnknownTablet';\n    impl.FALLBACK_MOBILE = 'UnknownMobile';\n\n    isArray = ('isArray' in Array) ?\n        Array.isArray : function (value) { return Object.prototype.toString.call(value) === '[object Array]'; };\n\n    function equalIC(a, b) {\n        return a != null && b != null && a.toLowerCase() === b.toLowerCase();\n    }\n\n    function containsIC(array, value) {\n        var valueLC, i, len = array.length;\n        if (!len || !value) {\n            return false;\n        }\n        valueLC = value.toLowerCase();\n        for (i = 0; i < len; ++i) {\n            if (valueLC === array[i].toLowerCase()) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    function convertPropsToRegExp(object) {\n        for (var key in object) {\n            if (hasOwnProp.call(object, key)) {\n                object[key] = new RegExp(object[key], 'i');\n            }\n        }\n    }\n\n    (function init() {\n        var key, values, value, i, len, verPos, mobileDetectRules = impl.mobileDetectRules;\n        for (key in mobileDetectRules.props) {\n            if (hasOwnProp.call(mobileDetectRules.props, key)) {\n                values = mobileDetectRules.props[key];\n                if (!isArray(values)) {\n                    values = [values];\n                }\n                len = values.length;\n                for (i = 0; i < len; ++i) {\n                    value = values[i];\n                    verPos = value.indexOf('[VER]');\n                    if (verPos >= 0) {\n                        value = value.substring(0, verPos) + '([\\\\w._\\\\+]+)' + value.substring(verPos + 5);\n                    }\n                    values[i] = new RegExp(value, 'i');\n                }\n                mobileDetectRules.props[key] = values;\n            }\n        }\n        convertPropsToRegExp(mobileDetectRules.oss);\n        convertPropsToRegExp(mobileDetectRules.phones);\n        convertPropsToRegExp(mobileDetectRules.tablets);\n        convertPropsToRegExp(mobileDetectRules.uas);\n        convertPropsToRegExp(mobileDetectRules.utils);\n\n        // copy some patterns to oss0 which are tested first (see issue#15)\n        mobileDetectRules.oss0 = {\n            WindowsPhoneOS: mobileDetectRules.oss.WindowsPhoneOS,\n            WindowsMobileOS: mobileDetectRules.oss.WindowsMobileOS\n        };\n    }());\n\n    /**\n     * Test userAgent string against a set of rules and find the first matched key.\n     * @param {Object} rules (key is String, value is RegExp)\n     * @param {String} userAgent the navigator.userAgent (or HTTP-Header 'User-Agent').\n     * @returns {String|null} the matched key if found, otherwise <tt>null</tt>\n     * @private\n     */\n    impl.findMatch = function(rules, userAgent) {\n        for (var key in rules) {\n            if (hasOwnProp.call(rules, key)) {\n                if (rules[key].test(userAgent)) {\n                    return key;\n                }\n            }\n        }\n        return null;\n    };\n\n    /**\n     * Test userAgent string against a set of rules and return an array of matched keys.\n     * @param {Object} rules (key is String, value is RegExp)\n     * @param {String} userAgent the navigator.userAgent (or HTTP-Header 'User-Agent').\n     * @returns {Array} an array of matched keys, may be empty when there is no match, but not <tt>null</tt>\n     * @private\n     */\n    impl.findMatches = function(rules, userAgent) {\n        var result = [];\n        for (var key in rules) {\n            if (hasOwnProp.call(rules, key)) {\n                if (rules[key].test(userAgent)) {\n                    result.push(key);\n                }\n            }\n        }\n        return result;\n    };\n\n    /**\n     * Check the version of the given property in the User-Agent.\n     *\n     * @param {String} propertyName\n     * @param {String} userAgent\n     * @return {String} version or <tt>null</tt> if version not found\n     * @private\n     */\n    impl.getVersionStr = function (propertyName, userAgent) {\n        var props = impl.mobileDetectRules.props, patterns, i, len, match;\n        if (hasOwnProp.call(props, propertyName)) {\n            patterns = props[propertyName];\n            len = patterns.length;\n            for (i = 0; i < len; ++i) {\n                match = patterns[i].exec(userAgent);\n                if (match !== null) {\n                    return match[1];\n                }\n            }\n        }\n        return null;\n    };\n\n    /**\n     * Check the version of the given property in the User-Agent.\n     * Will return a float number. (eg. 2_0 will return 2.0, 4.3.1 will return 4.31)\n     *\n     * @param {String} propertyName\n     * @param {String} userAgent\n     * @return {Number} version or <tt>NaN</tt> if version not found\n     * @private\n     */\n    impl.getVersion = function (propertyName, userAgent) {\n        var version = impl.getVersionStr(propertyName, userAgent);\n        return version ? impl.prepareVersionNo(version) : NaN;\n    };\n\n    /**\n     * Prepare the version number.\n     *\n     * @param {String} version\n     * @return {Number} the version number as a floating number\n     * @private\n     */\n    impl.prepareVersionNo = function (version) {\n        var numbers;\n\n        numbers = version.split(/[a-z._ \\/\\-]/i);\n        if (numbers.length === 1) {\n            version = numbers[0];\n        }\n        if (numbers.length > 1) {\n            version = numbers[0] + '.';\n            numbers.shift();\n            version += numbers.join('');\n        }\n        return Number(version);\n    };\n\n    impl.isMobileFallback = function (userAgent) {\n        return impl.detectMobileBrowsers.fullPattern.test(userAgent) ||\n            impl.detectMobileBrowsers.shortPattern.test(userAgent.substr(0,4));\n    };\n\n    impl.isTabletFallback = function (userAgent) {\n        return impl.detectMobileBrowsers.tabletPattern.test(userAgent);\n    };\n\n    impl.prepareDetectionCache = function (cache, userAgent, maxPhoneWidth) {\n        if (cache.mobile !== undefined) {\n            return;\n        }\n        var phone, tablet, phoneSized;\n\n        // first check for stronger tablet rules, then phone (see issue#5)\n        tablet = impl.findMatch(impl.mobileDetectRules.tablets, userAgent);\n        if (tablet) {\n            cache.mobile = cache.tablet = tablet;\n            cache.phone = null;\n            return; // unambiguously identified as tablet\n        }\n\n        phone = impl.findMatch(impl.mobileDetectRules.phones, userAgent);\n        if (phone) {\n            cache.mobile = cache.phone = phone;\n            cache.tablet = null;\n            return; // unambiguously identified as phone\n        }\n\n        // our rules haven't found a match -> try more general fallback rules\n        if (impl.isMobileFallback(userAgent)) {\n            phoneSized = MobileDetect.isPhoneSized(maxPhoneWidth);\n            if (phoneSized === undefined) {\n                cache.mobile = impl.FALLBACK_MOBILE;\n                cache.tablet = cache.phone = null;\n            } else if (phoneSized) {\n                cache.mobile = cache.phone = impl.FALLBACK_PHONE;\n                cache.tablet = null;\n            } else {\n                cache.mobile = cache.tablet = impl.FALLBACK_TABLET;\n                cache.phone = null;\n            }\n        } else if (impl.isTabletFallback(userAgent)) {\n            cache.mobile = cache.tablet = impl.FALLBACK_TABLET;\n            cache.phone = null;\n        } else {\n            // not mobile at all!\n            cache.mobile = cache.tablet = cache.phone = null;\n        }\n    };\n\n    // t is a reference to a MobileDetect instance\n    impl.mobileGrade = function (t) {\n        // impl note:\n        // To keep in sync w/ Mobile_Detect.php easily, the following code is tightly aligned to the PHP version.\n        // When changes are made in Mobile_Detect.php, copy this method and replace:\n        //     $this-> / t.\n        //     self::MOBILE_GRADE_(.) / '$1'\n        //     , self::VERSION_TYPE_FLOAT / (nothing)\n        //     isIOS() / os('iOS')\n        //     [reg] / (nothing)   <-- jsdelivr complaining about unescaped unicode character U+00AE\n        var $isMobile = t.mobile() !== null;\n\n        if (\n            // Apple iOS 3.2-5.1 - Tested on the original iPad (4.3 / 5.0), iPad 2 (4.3), iPad 3 (5.1), original iPhone (3.1), iPhone 3 (3.2), 3GS (4.3), 4 (4.3 / 5.0), and 4S (5.1)\n            t.os('iOS') && t.version('iPad')>=4.3 ||\n            t.os('iOS') && t.version('iPhone')>=3.1 ||\n            t.os('iOS') && t.version('iPod')>=3.1 ||\n\n            // Android 2.1-2.3 - Tested on the HTC Incredible (2.2), original Droid (2.2), HTC Aria (2.1), Google Nexus S (2.3). Functional on 1.5 & 1.6 but performance may be sluggish, tested on Google G1 (1.5)\n            // Android 3.1 (Honeycomb)  - Tested on the Samsung Galaxy Tab 10.1 and Motorola XOOM\n            // Android 4.0 (ICS)  - Tested on a Galaxy Nexus. Note: transition performance can be poor on upgraded devices\n            // Android 4.1 (Jelly Bean)  - Tested on a Galaxy Nexus and Galaxy 7\n            ( t.version('Android')>2.1 && t.is('Webkit') ) ||\n\n            // Windows Phone 7-7.5 - Tested on the HTC Surround (7.0) HTC Trophy (7.5), LG-E900 (7.5), Nokia Lumia 800\n            t.version('Windows Phone OS')>=7.0 ||\n\n            // Blackberry 7 - Tested on BlackBerry Torch 9810\n            // Blackberry 6.0 - Tested on the Torch 9800 and Style 9670\n            t.is('BlackBerry') && t.version('BlackBerry')>=6.0 ||\n            // Blackberry Playbook (1.0-2.0) - Tested on PlayBook\n            t.match('Playbook.*Tablet') ||\n\n            // Palm WebOS (1.4-2.0) - Tested on the Palm Pixi (1.4), Pre (1.4), Pre 2 (2.0)\n            ( t.version('webOS')>=1.4 && t.match('Palm|Pre|Pixi') ) ||\n            // Palm WebOS 3.0  - Tested on HP TouchPad\n            t.match('hp.*TouchPad') ||\n\n            // Firefox Mobile (12 Beta) - Tested on Android 2.3 device\n            ( t.is('Firefox') && t.version('Firefox')>=12 ) ||\n\n            // Chrome for Android - Tested on Android 4.0, 4.1 device\n            ( t.is('Chrome') && t.is('AndroidOS') && t.version('Android')>=4.0 ) ||\n\n            // Skyfire 4.1 - Tested on Android 2.3 device\n            ( t.is('Skyfire') && t.version('Skyfire')>=4.1 && t.is('AndroidOS') && t.version('Android')>=2.3 ) ||\n\n            // Opera Mobile 11.5-12: Tested on Android 2.3\n            ( t.is('Opera') && t.version('Opera Mobi')>11 && t.is('AndroidOS') ) ||\n\n            // Meego 1.2 - Tested on Nokia 950 and N9\n            t.is('MeeGoOS') ||\n\n            // Tizen (pre-release) - Tested on early hardware\n            t.is('Tizen') ||\n\n            // Samsung Bada 2.0 - Tested on a Samsung Wave 3, Dolphin browser\n            // @todo: more tests here!\n            t.is('Dolfin') && t.version('Bada')>=2.0 ||\n\n            // UC Browser - Tested on Android 2.3 device\n            ( (t.is('UC Browser') || t.is('Dolfin')) && t.version('Android')>=2.3 ) ||\n\n            // Kindle 3 and Fire  - Tested on the built-in WebKit browser for each\n            ( t.match('Kindle Fire') ||\n                t.is('Kindle') && t.version('Kindle')>=3.0 ) ||\n\n            // Nook Color 1.4.1 - Tested on original Nook Color, not Nook Tablet\n            t.is('AndroidOS') && t.is('NookTablet') ||\n\n            // Chrome Desktop 11-21 - Tested on OS X 10.7 and Windows 7\n            t.version('Chrome')>=11 && !$isMobile ||\n\n            // Safari Desktop 4-5 - Tested on OS X 10.7 and Windows 7\n            t.version('Safari')>=5.0 && !$isMobile ||\n\n            // Firefox Desktop 4-13 - Tested on OS X 10.7 and Windows 7\n            t.version('Firefox')>=4.0 && !$isMobile ||\n\n            // Internet Explorer 7-9 - Tested on Windows XP, Vista and 7\n            t.version('MSIE')>=7.0 && !$isMobile ||\n\n            // Opera Desktop 10-12 - Tested on OS X 10.7 and Windows 7\n            // @reference: http://my.opera.com/community/openweb/idopera/\n            t.version('Opera')>=10 && !$isMobile\n\n            ){\n            return 'A';\n        }\n\n        if (\n            t.os('iOS') && t.version('iPad')<4.3 ||\n            t.os('iOS') && t.version('iPhone')<3.1 ||\n            t.os('iOS') && t.version('iPod')<3.1 ||\n\n            // Blackberry 5.0: Tested on the Storm 2 9550, Bold 9770\n            t.is('Blackberry') && t.version('BlackBerry')>=5 && t.version('BlackBerry')<6 ||\n\n            //Opera Mini (5.0-6.5) - Tested on iOS 3.2/4.3 and Android 2.3\n            ( t.version('Opera Mini')>=5.0 && t.version('Opera Mini')<=6.5 &&\n                (t.version('Android')>=2.3 || t.is('iOS')) ) ||\n\n            // Nokia Symbian^3 - Tested on Nokia N8 (Symbian^3), C7 (Symbian^3), also works on N97 (Symbian^1)\n            t.match('NokiaN8|NokiaC7|N97.*Series60|Symbian/3') ||\n\n            // @todo: report this (tested on Nokia N71)\n            t.version('Opera Mobi')>=11 && t.is('SymbianOS')\n            ){\n            return 'B';\n        }\n\n        if (\n        // Blackberry 4.x - Tested on the Curve 8330\n            t.version('BlackBerry')<5.0 ||\n            // Windows Mobile - Tested on the HTC Leo (WinMo 5.2)\n            t.match('MSIEMobile|Windows CE.*Mobile') || t.version('Windows Mobile')<=5.2\n\n            ){\n            return 'C';\n        }\n\n        //All older smartphone platforms and featurephones - Any device that doesn't support media queries\n        //will receive the basic, C grade experience.\n        return 'C';\n    };\n\n    impl.detectOS = function (ua) {\n        return impl.findMatch(impl.mobileDetectRules.oss0, ua) ||\n            impl.findMatch(impl.mobileDetectRules.oss, ua);\n    };\n\n    impl.getDeviceSmallerSide = function () {\n        return window.screen.width < window.screen.height ?\n            window.screen.width :\n            window.screen.height;\n    };\n\n    /**\n     * Constructor for MobileDetect object.\n     * <br>\n     * Such an object will keep a reference to the given user-agent string and cache most of the detect queries.<br>\n     * <div style=\"background-color: #d9edf7; border: 1px solid #bce8f1; color: #3a87ad; padding: 14px; border-radius: 2px; margin-top: 20px\">\n     *     <strong>Find information how to download and install:</strong>\n     *     <a href=\"https://github.com/hgoebl/mobile-detect.js/\">github.com/hgoebl/mobile-detect.js/</a>\n     * </div>\n     *\n     * @example <pre>\n     *     var md = new MobileDetect(window.navigator.userAgent);\n     *     if (md.mobile()) {\n     *         location.href = (md.mobileGrade() === 'A') ? '/mobile/' : '/lynx/';\n     *     }\n     * </pre>\n     *\n     * @param {string} userAgent typically taken from window.navigator.userAgent or http_header['User-Agent']\n     * @param {number} [maxPhoneWidth=600] <strong>only for browsers</strong> specify a value for the maximum\n     *        width of smallest device side (in logical \"CSS\" pixels) until a device detected as mobile will be handled\n     *        as phone.\n     *        This is only used in cases where the device cannot be classified as phone or tablet.<br>\n     *        See <a href=\"http://developer.android.com/guide/practices/screens_support.html\">Declaring Tablet Layouts\n     *        for Android</a>.<br>\n     *        If you provide a value < 0, then this \"fuzzy\" check is disabled.\n     * @constructor\n     * @global\n     */\n    function MobileDetect(userAgent, maxPhoneWidth) {\n        this.ua = userAgent || '';\n        this._cache = {};\n        //600dp is typical 7\" tablet minimum width\n        this.maxPhoneWidth = maxPhoneWidth || 600;\n    }\n\n    MobileDetect.prototype = {\n        constructor: MobileDetect,\n\n        /**\n         * Returns the detected phone or tablet type or <tt>null</tt> if it is not a mobile device.\n         * <br>\n         * For a list of possible return values see {@link MobileDetect#phone} and {@link MobileDetect#tablet}.<br>\n         * <br>\n         * If the device is not detected by the regular expressions from Mobile-Detect, a test is made against\n         * the patterns of <a href=\"http://detectmobilebrowsers.com/\">detectmobilebrowsers.com</a>. If this test\n         * is positive, a value of <code>UnknownPhone</code>, <code>UnknownTablet</code> or\n         * <code>UnknownMobile</code> is returned.<br>\n         * When used in browser, the decision whether phone or tablet is made based on <code>screen.width/height</code>.<br>\n         * <br>\n         * When used server-side (node.js), there is no way to tell the difference between <code>UnknownTablet</code>\n         * and <code>UnknownMobile</code>, so you will get <code>UnknownMobile</code> here.<br>\n         * Be aware that since v1.0.0 in this special case you will get <code>UnknownMobile</code> only for:\n         * {@link MobileDetect#mobile}, not for {@link MobileDetect#phone} and {@link MobileDetect#tablet}.\n         * In versions before v1.0.0 all 3 methods returned <code>UnknownMobile</code> which was tedious to use.\n         * <br>\n         * In most cases you will use the return value just as a boolean.\n         *\n         * @returns {String} the key for the phone family or tablet family, e.g. \"Nexus\".\n         * @function MobileDetect#mobile\n         */\n        mobile: function () {\n            impl.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth);\n            return this._cache.mobile;\n        },\n\n        /**\n         * Returns the detected phone type/family string or <tt>null</tt>.\n         * <br>\n         * The returned tablet (family or producer) is one of following keys:<br>\n         * <br><tt>iPhone, BlackBerry, HTC, Nexus, Dell, Motorola, Samsung, LG, Sony, Asus,\n         * NokiaLumia, Micromax, Palm, Vertu, Pantech, Fly, Wiko, iMobile, SimValley,\n         * Wolfgang, Alcatel, Nintendo, Amoi, INQ, GenericPhone</tt><br>\n         * <br>\n         * If the device is not detected by the regular expressions from Mobile-Detect, a test is made against\n         * the patterns of <a href=\"http://detectmobilebrowsers.com/\">detectmobilebrowsers.com</a>. If this test\n         * is positive, a value of <code>UnknownPhone</code> or <code>UnknownMobile</code> is returned.<br>\n         * When used in browser, the decision whether phone or tablet is made based on <code>screen.width/height</code>.<br>\n         * <br>\n         * When used server-side (node.js), there is no way to tell the difference between <code>UnknownTablet</code>\n         * and <code>UnknownMobile</code>, so you will get <code>null</code> here, while {@link MobileDetect#mobile}\n         * will return <code>UnknownMobile</code>.<br>\n         * Be aware that since v1.0.0 in this special case you will get <code>UnknownMobile</code> only for:\n         * {@link MobileDetect#mobile}, not for {@link MobileDetect#phone} and {@link MobileDetect#tablet}.\n         * In versions before v1.0.0 all 3 methods returned <code>UnknownMobile</code> which was tedious to use.\n         * <br>\n         * In most cases you will use the return value just as a boolean.\n         *\n         * @returns {String} the key of the phone family or producer, e.g. \"iPhone\"\n         * @function MobileDetect#phone\n         */\n        phone: function () {\n            impl.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth);\n            return this._cache.phone;\n        },\n\n        /**\n         * Returns the detected tablet type/family string or <tt>null</tt>.\n         * <br>\n         * The returned tablet (family or producer) is one of following keys:<br>\n         * <br><tt>iPad, NexusTablet, SamsungTablet, Kindle, SurfaceTablet, HPTablet, AsusTablet,\n         * BlackBerryTablet, HTCtablet, MotorolaTablet, NookTablet, AcerTablet,\n         * ToshibaTablet, LGTablet, FujitsuTablet, PrestigioTablet, LenovoTablet,\n         * DellTablet, YarvikTablet, MedionTablet, ArnovaTablet, IntensoTablet, IRUTablet,\n         * MegafonTablet, EbodaTablet, AllViewTablet, ArchosTablet, AinolTablet,\n         * NokiaLumiaTablet, SonyTablet, PhilipsTablet, CubeTablet, CobyTablet, MIDTablet,\n         * MSITablet, SMiTTablet, RockChipTablet, FlyTablet, bqTablet, HuaweiTablet,\n         * NecTablet, PantechTablet, BronchoTablet, VersusTablet, ZyncTablet,\n         * PositivoTablet, NabiTablet, KoboTablet, DanewTablet, TexetTablet,\n         * PlaystationTablet, TrekstorTablet, PyleAudioTablet, AdvanTablet,\n         * DanyTechTablet, GalapadTablet, MicromaxTablet, KarbonnTablet, AllFineTablet,\n         * PROSCANTablet, YONESTablet, ChangJiaTablet, GUTablet, PointOfViewTablet,\n         * OvermaxTablet, HCLTablet, DPSTablet, VistureTablet, CrestaTablet,\n         * MediatekTablet, ConcordeTablet, GoCleverTablet, ModecomTablet, VoninoTablet,\n         * ECSTablet, StorexTablet, VodafoneTablet, EssentielBTablet, RossMoorTablet,\n         * iMobileTablet, TolinoTablet, AudioSonicTablet, AMPETablet, SkkTablet,\n         * TecnoTablet, JXDTablet, iJoyTablet, FX2Tablet, XoroTablet, ViewsonicTablet,\n         * OdysTablet, CaptivaTablet, IconbitTablet, TeclastTablet, OndaTablet,\n         * JaytechTablet, BlaupunktTablet, DigmaTablet, EvolioTablet, LavaTablet,\n         * AocTablet, MpmanTablet, CelkonTablet, WolderTablet, MiTablet, NibiruTablet,\n         * NexoTablet, LeaderTablet, UbislateTablet, PocketBookTablet, KocasoTablet, Hudl,\n         * TelstraTablet, GenericTablet</tt><br>\n         * <br>\n         * If the device is not detected by the regular expressions from Mobile-Detect, a test is made against\n         * the patterns of <a href=\"http://detectmobilebrowsers.com/\">detectmobilebrowsers.com</a>. If this test\n         * is positive, a value of <code>UnknownTablet</code> or <code>UnknownMobile</code> is returned.<br>\n         * When used in browser, the decision whether phone or tablet is made based on <code>screen.width/height</code>.<br>\n         * <br>\n         * When used server-side (node.js), there is no way to tell the difference between <code>UnknownTablet</code>\n         * and <code>UnknownMobile</code>, so you will get <code>null</code> here, while {@link MobileDetect#mobile}\n         * will return <code>UnknownMobile</code>.<br>\n         * Be aware that since v1.0.0 in this special case you will get <code>UnknownMobile</code> only for:\n         * {@link MobileDetect#mobile}, not for {@link MobileDetect#phone} and {@link MobileDetect#tablet}.\n         * In versions before v1.0.0 all 3 methods returned <code>UnknownMobile</code> which was tedious to use.\n         * <br>\n         * In most cases you will use the return value just as a boolean.\n         *\n         * @returns {String} the key of the tablet family or producer, e.g. \"SamsungTablet\"\n         * @function MobileDetect#tablet\n         */\n        tablet: function () {\n            impl.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth);\n            return this._cache.tablet;\n        },\n\n        /**\n         * Returns the (first) detected user-agent string or <tt>null</tt>.\n         * <br>\n         * The returned user-agent is one of following keys:<br>\n         * <br><tt>Vivaldi, Chrome, Dolfin, Opera, Skyfire, Edge, IE, Firefox, Bolt, TeaShark,\n         * Blazer, Safari, Tizen, UCBrowser, baiduboxapp, baidubrowser, DiigoBrowser,\n         * Puffin, Mercury, ObigoBrowser, NetFront, GenericBrowser, PaleMoon</tt><br>\n         * <br>\n         * In most cases calling {@link MobileDetect#userAgent} will be sufficient. But there are rare\n         * cases where a mobile device pretends to be more than one particular browser. You can get the\n         * list of all matches with {@link MobileDetect#userAgents} or check for a particular value by\n         * providing one of the defined keys as first argument to {@link MobileDetect#is}.\n         *\n         * @returns {String} the key for the detected user-agent or <tt>null</tt>\n         * @function MobileDetect#userAgent\n         */\n        userAgent: function () {\n            if (this._cache.userAgent === undefined) {\n                this._cache.userAgent = impl.findMatch(impl.mobileDetectRules.uas, this.ua);\n            }\n            return this._cache.userAgent;\n        },\n\n        /**\n         * Returns all detected user-agent strings.\n         * <br>\n         * The array is empty or contains one or more of following keys:<br>\n         * <br><tt>Vivaldi, Chrome, Dolfin, Opera, Skyfire, Edge, IE, Firefox, Bolt, TeaShark,\n         * Blazer, Safari, Tizen, UCBrowser, baiduboxapp, baidubrowser, DiigoBrowser,\n         * Puffin, Mercury, ObigoBrowser, NetFront, GenericBrowser, PaleMoon</tt><br>\n         * <br>\n         * In most cases calling {@link MobileDetect#userAgent} will be sufficient. But there are rare\n         * cases where a mobile device pretends to be more than one particular browser. You can get the\n         * list of all matches with {@link MobileDetect#userAgents} or check for a particular value by\n         * providing one of the defined keys as first argument to {@link MobileDetect#is}.\n         *\n         * @returns {Array} the array of detected user-agent keys or <tt>[]</tt>\n         * @function MobileDetect#userAgents\n         */\n        userAgents: function () {\n            if (this._cache.userAgents === undefined) {\n                this._cache.userAgents = impl.findMatches(impl.mobileDetectRules.uas, this.ua);\n            }\n            return this._cache.userAgents;\n        },\n\n        /**\n         * Returns the detected operating system string or <tt>null</tt>.\n         * <br>\n         * The operating system is one of following keys:<br>\n         * <br><tt>AndroidOS, BlackBerryOS, PalmOS, SymbianOS, WindowsMobileOS, WindowsPhoneOS,\n         * iOS, MeeGoOS, MaemoOS, JavaOS, webOS, badaOS, BREWOS</tt><br>\n         *\n         * @returns {String} the key for the detected operating system.\n         * @function MobileDetect#os\n         */\n        os: function () {\n            if (this._cache.os === undefined) {\n                this._cache.os = impl.detectOS(this.ua);\n            }\n            return this._cache.os;\n        },\n\n        /**\n         * Get the version (as Number) of the given property in the User-Agent.\n         * <br>\n         * Will return a float number. (eg. 2_0 will return 2.0, 4.3.1 will return 4.31)\n         *\n         * @param {String} key a key defining a thing which has a version.<br>\n         *        You can use one of following keys:<br>\n         * <br><tt>Mobile, Build, Version, VendorID, iPad, iPhone, iPod, Kindle, Chrome, Coast,\n         * Dolfin, Firefox, Fennec, Edge, IE, NetFront, NokiaBrowser, Opera, Opera Mini,\n         * Opera Mobi, UC Browser, MQQBrowser, MicroMessenger, baiduboxapp, baidubrowser,\n         * Iron, Safari, Skyfire, Tizen, Webkit, PaleMoon, Gecko, Trident, Presto, Goanna,\n         * iOS, Android, BlackBerry, BREW, Java, Windows Phone OS, Windows Phone, Windows\n         * CE, Windows NT, Symbian, webOS</tt><br>\n         *\n         * @returns {Number} the version as float or <tt>NaN</tt> if User-Agent doesn't contain this version.\n         *          Be careful when comparing this value with '==' operator!\n         * @function MobileDetect#version\n         */\n        version: function (key) {\n            return impl.getVersion(key, this.ua);\n        },\n\n        /**\n         * Get the version (as String) of the given property in the User-Agent.\n         * <br>\n         *\n         * @param {String} key a key defining a thing which has a version.<br>\n         *        You can use one of following keys:<br>\n         * <br><tt>Mobile, Build, Version, VendorID, iPad, iPhone, iPod, Kindle, Chrome, Coast,\n         * Dolfin, Firefox, Fennec, Edge, IE, NetFront, NokiaBrowser, Opera, Opera Mini,\n         * Opera Mobi, UC Browser, MQQBrowser, MicroMessenger, baiduboxapp, baidubrowser,\n         * Iron, Safari, Skyfire, Tizen, Webkit, PaleMoon, Gecko, Trident, Presto, Goanna,\n         * iOS, Android, BlackBerry, BREW, Java, Windows Phone OS, Windows Phone, Windows\n         * CE, Windows NT, Symbian, webOS</tt><br>\n         *\n         * @returns {String} the \"raw\" version as String or <tt>null</tt> if User-Agent doesn't contain this version.\n         *\n         * @function MobileDetect#versionStr\n         */\n        versionStr: function (key) {\n            return impl.getVersionStr(key, this.ua);\n        },\n\n        /**\n         * Global test key against userAgent, os, phone, tablet and some other properties of userAgent string.\n         *\n         * @param {String} key the key (case-insensitive) of a userAgent, an operating system, phone or\n         *        tablet family.<br>\n         *        For a complete list of possible values, see {@link MobileDetect#userAgent},\n         *        {@link MobileDetect#os}, {@link MobileDetect#phone}, {@link MobileDetect#tablet}.<br>\n         *        Additionally you have following keys:<br>\n         * <br><tt>Bot, MobileBot, DesktopMode, TV, WebKit, Console, Watch</tt><br>\n         *\n         * @returns {boolean} <tt>true</tt> when the given key is one of the defined keys of userAgent, os, phone,\n         *                    tablet or one of the listed additional keys, otherwise <tt>false</tt>\n         * @function MobileDetect#is\n         */\n        is: function (key) {\n            return containsIC(this.userAgents(), key) ||\n                   equalIC(key, this.os()) ||\n                   equalIC(key, this.phone()) ||\n                   equalIC(key, this.tablet()) ||\n                   containsIC(impl.findMatches(impl.mobileDetectRules.utils, this.ua), key);\n        },\n\n        /**\n         * Do a quick test against navigator::userAgent.\n         *\n         * @param {String|RegExp} pattern the pattern, either as String or RegExp\n         *                        (a string will be converted to a case-insensitive RegExp).\n         * @returns {boolean} <tt>true</tt> when the pattern matches, otherwise <tt>false</tt>\n         * @function MobileDetect#match\n         */\n        match: function (pattern) {\n            if (!(pattern instanceof RegExp)) {\n                pattern = new RegExp(pattern, 'i');\n            }\n            return pattern.test(this.ua);\n        },\n\n        /**\n         * Checks whether the mobile device can be considered as phone regarding <code>screen.width</code>.\n         * <br>\n         * Obviously this method makes sense in browser environments only (not for Node.js)!\n         * @param {number} [maxPhoneWidth] the maximum logical pixels (aka. CSS-pixels) to be considered as phone.<br>\n         *        The argument is optional and if not present or falsy, the value of the constructor is taken.\n         * @returns {boolean|undefined} <code>undefined</code> if screen size wasn't detectable, else <code>true</code>\n         *          when screen.width is less or equal to maxPhoneWidth, otherwise <code>false</code>.<br>\n         *          Will always return <code>undefined</code> server-side.\n         */\n        isPhoneSized: function (maxPhoneWidth) {\n            return MobileDetect.isPhoneSized(maxPhoneWidth || this.maxPhoneWidth);\n        },\n\n        /**\n         * Returns the mobile grade ('A', 'B', 'C').\n         *\n         * @returns {String} one of the mobile grades ('A', 'B', 'C').\n         * @function MobileDetect#mobileGrade\n         */\n        mobileGrade: function () {\n            if (this._cache.grade === undefined) {\n                this._cache.grade = impl.mobileGrade(this);\n            }\n            return this._cache.grade;\n        }\n    };\n\n    // environment-dependent\n    if (typeof window !== 'undefined' && window.screen) {\n        MobileDetect.isPhoneSized = function (maxPhoneWidth) {\n            return maxPhoneWidth < 0 ? undefined : impl.getDeviceSmallerSide() <= maxPhoneWidth;\n        };\n    } else {\n        MobileDetect.isPhoneSized = function () {};\n    }\n\n    // should not be replaced by a completely new object - just overwrite existing methods\n    MobileDetect._impl = impl;\n    \n    MobileDetect.version = '1.3.3 2016-07-31';\n\n    return MobileDetect;\n}); // end of call of define()\n})((function (undefined) {\n    if (typeof module !== 'undefined' && module.exports) {\n        return function (factory) { module.exports = factory(); };\n    } else if (typeof define === 'function' && define.amd) {\n        return define;\n    } else if (typeof window !== 'undefined') {\n        return function (factory) { window.MobileDetect = factory(); };\n    } else {\n        // please file a bug if you get this error!\n        throw new Error('unknown environment');\n    }\n})());","var eaw = {};\n\nif ('undefined' == typeof module) {\n  window.eastasianwidth = eaw;\n} else {\n  module.exports = eaw;\n}\n\neaw.eastAsianWidth = function(character) {\n  var x = character.charCodeAt(0);\n  var y = (character.length == 2) ? character.charCodeAt(1) : 0;\n  var codePoint = x;\n  if ((0xD800 <= x && x <= 0xDBFF) && (0xDC00 <= y && y <= 0xDFFF)) {\n    x &= 0x3FF;\n    y &= 0x3FF;\n    codePoint = (x << 10) | y;\n    codePoint += 0x10000;\n  }\n\n  if ((0x3000 == codePoint) ||\n      (0xFF01 <= codePoint && codePoint <= 0xFF60) ||\n      (0xFFE0 <= codePoint && codePoint <= 0xFFE6)) {\n    return 'F';\n  }\n  if ((0x20A9 == codePoint) ||\n      (0xFF61 <= codePoint && codePoint <= 0xFFBE) ||\n      (0xFFC2 <= codePoint && codePoint <= 0xFFC7) ||\n      (0xFFCA <= codePoint && codePoint <= 0xFFCF) ||\n      (0xFFD2 <= codePoint && codePoint <= 0xFFD7) ||\n      (0xFFDA <= codePoint && codePoint <= 0xFFDC) ||\n      (0xFFE8 <= codePoint && codePoint <= 0xFFEE)) {\n    return 'H';\n  }\n  if ((0x1100 <= codePoint && codePoint <= 0x115F) ||\n      (0x11A3 <= codePoint && codePoint <= 0x11A7) ||\n      (0x11FA <= codePoint && codePoint <= 0x11FF) ||\n      (0x2329 <= codePoint && codePoint <= 0x232A) ||\n      (0x2E80 <= codePoint && codePoint <= 0x2E99) ||\n      (0x2E9B <= codePoint && codePoint <= 0x2EF3) ||\n      (0x2F00 <= codePoint && codePoint <= 0x2FD5) ||\n      (0x2FF0 <= codePoint && codePoint <= 0x2FFB) ||\n      (0x3001 <= codePoint && codePoint <= 0x303E) ||\n      (0x3041 <= codePoint && codePoint <= 0x3096) ||\n      (0x3099 <= codePoint && codePoint <= 0x30FF) ||\n      (0x3105 <= codePoint && codePoint <= 0x312D) ||\n      (0x3131 <= codePoint && codePoint <= 0x318E) ||\n      (0x3190 <= codePoint && codePoint <= 0x31BA) ||\n      (0x31C0 <= codePoint && codePoint <= 0x31E3) ||\n      (0x31F0 <= codePoint && codePoint <= 0x321E) ||\n      (0x3220 <= codePoint && codePoint <= 0x3247) ||\n      (0x3250 <= codePoint && codePoint <= 0x32FE) ||\n      (0x3300 <= codePoint && codePoint <= 0x4DBF) ||\n      (0x4E00 <= codePoint && codePoint <= 0xA48C) ||\n      (0xA490 <= codePoint && codePoint <= 0xA4C6) ||\n      (0xA960 <= codePoint && codePoint <= 0xA97C) ||\n      (0xAC00 <= codePoint && codePoint <= 0xD7A3) ||\n      (0xD7B0 <= codePoint && codePoint <= 0xD7C6) ||\n      (0xD7CB <= codePoint && codePoint <= 0xD7FB) ||\n      (0xF900 <= codePoint && codePoint <= 0xFAFF) ||\n      (0xFE10 <= codePoint && codePoint <= 0xFE19) ||\n      (0xFE30 <= codePoint && codePoint <= 0xFE52) ||\n      (0xFE54 <= codePoint && codePoint <= 0xFE66) ||\n      (0xFE68 <= codePoint && codePoint <= 0xFE6B) ||\n      (0x1B000 <= codePoint && codePoint <= 0x1B001) ||\n      (0x1F200 <= codePoint && codePoint <= 0x1F202) ||\n      (0x1F210 <= codePoint && codePoint <= 0x1F23A) ||\n      (0x1F240 <= codePoint && codePoint <= 0x1F248) ||\n      (0x1F250 <= codePoint && codePoint <= 0x1F251) ||\n      (0x20000 <= codePoint && codePoint <= 0x2F73F) ||\n      (0x2B740 <= codePoint && codePoint <= 0x2FFFD) ||\n      (0x30000 <= codePoint && codePoint <= 0x3FFFD)) {\n    return 'W';\n  }\n  if ((0x0020 <= codePoint && codePoint <= 0x007E) ||\n      (0x00A2 <= codePoint && codePoint <= 0x00A3) ||\n      (0x00A5 <= codePoint && codePoint <= 0x00A6) ||\n      (0x00AC == codePoint) ||\n      (0x00AF == codePoint) ||\n      (0x27E6 <= codePoint && codePoint <= 0x27ED) ||\n      (0x2985 <= codePoint && codePoint <= 0x2986)) {\n    return 'Na';\n  }\n  if ((0x00A1 == codePoint) ||\n      (0x00A4 == codePoint) ||\n      (0x00A7 <= codePoint && codePoint <= 0x00A8) ||\n      (0x00AA == codePoint) ||\n      (0x00AD <= codePoint && codePoint <= 0x00AE) ||\n      (0x00B0 <= codePoint && codePoint <= 0x00B4) ||\n      (0x00B6 <= codePoint && codePoint <= 0x00BA) ||\n      (0x00BC <= codePoint && codePoint <= 0x00BF) ||\n      (0x00C6 == codePoint) ||\n      (0x00D0 == codePoint) ||\n      (0x00D7 <= codePoint && codePoint <= 0x00D8) ||\n      (0x00DE <= codePoint && codePoint <= 0x00E1) ||\n      (0x00E6 == codePoint) ||\n      (0x00E8 <= codePoint && codePoint <= 0x00EA) ||\n      (0x00EC <= codePoint && codePoint <= 0x00ED) ||\n      (0x00F0 == codePoint) ||\n      (0x00F2 <= codePoint && codePoint <= 0x00F3) ||\n      (0x00F7 <= codePoint && codePoint <= 0x00FA) ||\n      (0x00FC == codePoint) ||\n      (0x00FE == codePoint) ||\n      (0x0101 == codePoint) ||\n      (0x0111 == codePoint) ||\n      (0x0113 == codePoint) ||\n      (0x011B == codePoint) ||\n      (0x0126 <= codePoint && codePoint <= 0x0127) ||\n      (0x012B == codePoint) ||\n      (0x0131 <= codePoint && codePoint <= 0x0133) ||\n      (0x0138 == codePoint) ||\n      (0x013F <= codePoint && codePoint <= 0x0142) ||\n      (0x0144 == codePoint) ||\n      (0x0148 <= codePoint && codePoint <= 0x014B) ||\n      (0x014D == codePoint) ||\n      (0x0152 <= codePoint && codePoint <= 0x0153) ||\n      (0x0166 <= codePoint && codePoint <= 0x0167) ||\n      (0x016B == codePoint) ||\n      (0x01CE == codePoint) ||\n      (0x01D0 == codePoint) ||\n      (0x01D2 == codePoint) ||\n      (0x01D4 == codePoint) ||\n      (0x01D6 == codePoint) ||\n      (0x01D8 == codePoint) ||\n      (0x01DA == codePoint) ||\n      (0x01DC == codePoint) ||\n      (0x0251 == codePoint) ||\n      (0x0261 == codePoint) ||\n      (0x02C4 == codePoint) ||\n      (0x02C7 == codePoint) ||\n      (0x02C9 <= codePoint && codePoint <= 0x02CB) ||\n      (0x02CD == codePoint) ||\n      (0x02D0 == codePoint) ||\n      (0x02D8 <= codePoint && codePoint <= 0x02DB) ||\n      (0x02DD == codePoint) ||\n      (0x02DF == codePoint) ||\n      (0x0300 <= codePoint && codePoint <= 0x036F) ||\n      (0x0391 <= codePoint && codePoint <= 0x03A1) ||\n      (0x03A3 <= codePoint && codePoint <= 0x03A9) ||\n      (0x03B1 <= codePoint && codePoint <= 0x03C1) ||\n      (0x03C3 <= codePoint && codePoint <= 0x03C9) ||\n      (0x0401 == codePoint) ||\n      (0x0410 <= codePoint && codePoint <= 0x044F) ||\n      (0x0451 == codePoint) ||\n      (0x2010 == codePoint) ||\n      (0x2013 <= codePoint && codePoint <= 0x2016) ||\n      (0x2018 <= codePoint && codePoint <= 0x2019) ||\n      (0x201C <= codePoint && codePoint <= 0x201D) ||\n      (0x2020 <= codePoint && codePoint <= 0x2022) ||\n      (0x2024 <= codePoint && codePoint <= 0x2027) ||\n      (0x2030 == codePoint) ||\n      (0x2032 <= codePoint && codePoint <= 0x2033) ||\n      (0x2035 == codePoint) ||\n      (0x203B == codePoint) ||\n      (0x203E == codePoint) ||\n      (0x2074 == codePoint) ||\n      (0x207F == codePoint) ||\n      (0x2081 <= codePoint && codePoint <= 0x2084) ||\n      (0x20AC == codePoint) ||\n      (0x2103 == codePoint) ||\n      (0x2105 == codePoint) ||\n      (0x2109 == codePoint) ||\n      (0x2113 == codePoint) ||\n      (0x2116 == codePoint) ||\n      (0x2121 <= codePoint && codePoint <= 0x2122) ||\n      (0x2126 == codePoint) ||\n      (0x212B == codePoint) ||\n      (0x2153 <= codePoint && codePoint <= 0x2154) ||\n      (0x215B <= codePoint && codePoint <= 0x215E) ||\n      (0x2160 <= codePoint && codePoint <= 0x216B) ||\n      (0x2170 <= codePoint && codePoint <= 0x2179) ||\n      (0x2189 == codePoint) ||\n      (0x2190 <= codePoint && codePoint <= 0x2199) ||\n      (0x21B8 <= codePoint && codePoint <= 0x21B9) ||\n      (0x21D2 == codePoint) ||\n      (0x21D4 == codePoint) ||\n      (0x21E7 == codePoint) ||\n      (0x2200 == codePoint) ||\n      (0x2202 <= codePoint && codePoint <= 0x2203) ||\n      (0x2207 <= codePoint && codePoint <= 0x2208) ||\n      (0x220B == codePoint) ||\n      (0x220F == codePoint) ||\n      (0x2211 == codePoint) ||\n      (0x2215 == codePoint) ||\n      (0x221A == codePoint) ||\n      (0x221D <= codePoint && codePoint <= 0x2220) ||\n      (0x2223 == codePoint) ||\n      (0x2225 == codePoint) ||\n      (0x2227 <= codePoint && codePoint <= 0x222C) ||\n      (0x222E == codePoint) ||\n      (0x2234 <= codePoint && codePoint <= 0x2237) ||\n      (0x223C <= codePoint && codePoint <= 0x223D) ||\n      (0x2248 == codePoint) ||\n      (0x224C == codePoint) ||\n      (0x2252 == codePoint) ||\n      (0x2260 <= codePoint && codePoint <= 0x2261) ||\n      (0x2264 <= codePoint && codePoint <= 0x2267) ||\n      (0x226A <= codePoint && codePoint <= 0x226B) ||\n      (0x226E <= codePoint && codePoint <= 0x226F) ||\n      (0x2282 <= codePoint && codePoint <= 0x2283) ||\n      (0x2286 <= codePoint && codePoint <= 0x2287) ||\n      (0x2295 == codePoint) ||\n      (0x2299 == codePoint) ||\n      (0x22A5 == codePoint) ||\n      (0x22BF == codePoint) ||\n      (0x2312 == codePoint) ||\n      (0x2460 <= codePoint && codePoint <= 0x24E9) ||\n      (0x24EB <= codePoint && codePoint <= 0x254B) ||\n      (0x2550 <= codePoint && codePoint <= 0x2573) ||\n      (0x2580 <= codePoint && codePoint <= 0x258F) ||\n      (0x2592 <= codePoint && codePoint <= 0x2595) ||\n      (0x25A0 <= codePoint && codePoint <= 0x25A1) ||\n      (0x25A3 <= codePoint && codePoint <= 0x25A9) ||\n      (0x25B2 <= codePoint && codePoint <= 0x25B3) ||\n      (0x25B6 <= codePoint && codePoint <= 0x25B7) ||\n      (0x25BC <= codePoint && codePoint <= 0x25BD) ||\n      (0x25C0 <= codePoint && codePoint <= 0x25C1) ||\n      (0x25C6 <= codePoint && codePoint <= 0x25C8) ||\n      (0x25CB == codePoint) ||\n      (0x25CE <= codePoint && codePoint <= 0x25D1) ||\n      (0x25E2 <= codePoint && codePoint <= 0x25E5) ||\n      (0x25EF == codePoint) ||\n      (0x2605 <= codePoint && codePoint <= 0x2606) ||\n      (0x2609 == codePoint) ||\n      (0x260E <= codePoint && codePoint <= 0x260F) ||\n      (0x2614 <= codePoint && codePoint <= 0x2615) ||\n      (0x261C == codePoint) ||\n      (0x261E == codePoint) ||\n      (0x2640 == codePoint) ||\n      (0x2642 == codePoint) ||\n      (0x2660 <= codePoint && codePoint <= 0x2661) ||\n      (0x2663 <= codePoint && codePoint <= 0x2665) ||\n      (0x2667 <= codePoint && codePoint <= 0x266A) ||\n      (0x266C <= codePoint && codePoint <= 0x266D) ||\n      (0x266F == codePoint) ||\n      (0x269E <= codePoint && codePoint <= 0x269F) ||\n      (0x26BE <= codePoint && codePoint <= 0x26BF) ||\n      (0x26C4 <= codePoint && codePoint <= 0x26CD) ||\n      (0x26CF <= codePoint && codePoint <= 0x26E1) ||\n      (0x26E3 == codePoint) ||\n      (0x26E8 <= codePoint && codePoint <= 0x26FF) ||\n      (0x273D == codePoint) ||\n      (0x2757 == codePoint) ||\n      (0x2776 <= codePoint && codePoint <= 0x277F) ||\n      (0x2B55 <= codePoint && codePoint <= 0x2B59) ||\n      (0x3248 <= codePoint && codePoint <= 0x324F) ||\n      (0xE000 <= codePoint && codePoint <= 0xF8FF) ||\n      (0xFE00 <= codePoint && codePoint <= 0xFE0F) ||\n      (0xFFFD == codePoint) ||\n      (0x1F100 <= codePoint && codePoint <= 0x1F10A) ||\n      (0x1F110 <= codePoint && codePoint <= 0x1F12D) ||\n      (0x1F130 <= codePoint && codePoint <= 0x1F169) ||\n      (0x1F170 <= codePoint && codePoint <= 0x1F19A) ||\n      (0xE0100 <= codePoint && codePoint <= 0xE01EF) ||\n      (0xF0000 <= codePoint && codePoint <= 0xFFFFD) ||\n      (0x100000 <= codePoint && codePoint <= 0x10FFFD)) {\n    return 'A';\n  }\n\n  return 'N';\n};\n\neaw.characterLength = function(character) {\n  var code = this.eastAsianWidth(character);\n  if (code == 'F' || code == 'W' || code == 'A') {\n    return 2;\n  } else {\n    return 1;\n  }\n};\n\neaw.length = function(string) {\n  var len = 0;\n  for (var i = 0; i < string.length; i++) {\n    len = len + this.characterLength(string.charAt(i));\n  }\n  return len;\n};\n\neaw.slice = function(text, start, end) {\n  start = start ? start : 0;\n  end = end ? end : 1;\n  var result = '';\n  for (var i = 0; i < text.length; i++) {\n    var char = text.charAt(i);\n    var eawLen = eaw.length(result + char);\n    if (eawLen >= 1 + start && eawLen < 1 + end) {\n      result += char\n    }\n  }\n  return result;\n};\n","var inserted = exports.cache = {}\n\nfunction noop () {}\n\nexports.insert = function (css) {\n  if (inserted[css]) return noop\n  inserted[css] = true\n\n  var elem = document.createElement('style')\n  elem.setAttribute('type', 'text/css')\n\n  if ('textContent' in elem) {\n    elem.textContent = css\n  } else {\n    elem.styleSheet.cssText = css\n  }\n\n  document.getElementsByTagName('head')[0].appendChild(elem)\n  return function () {\n    document.getElementsByTagName('head')[0].removeChild(elem)\n    inserted[css] = false\n  }\n}\n","<style lang=\"postcss\">\n</style>\n\n<template lang=\"pug\">\nsvg(\n  viewBox=\"0 0 100 100\", style=\"transform: rotate(-90deg);\",\n  @mousedown.prevent=\"emit('start', $event)\", @mouseup.prevent=\"emit('stop', $event)\",\n  @touchstart.prevent=\"emit('start', $event)\", @touchend.prevent=\"emit('stop', $event)\",\n)\n  circle.captureButton__bg(\n    cx=\"50\", cy=\"50\", :r=\"radius\",\n    fill=\"white\", stroke=\"#BDBDBD\", :stroke-width=\"strokeWidth\",\n  )\n  circle.captureButton__limit(\n    cx=\"50\", cy=\"50\", :r=\"radius\",\n    fill=\"none\", stroke=\"#616161\", :stroke-width=\"strokeWidth\",\n    :stroke-dasharray=\"(10 / 12) * circumference\", stroke-dashoffset=\"0\",\n  )\n  circle.captureButton__loop(\n    cx=\"50\", cy=\"50\", :r=\"radius\",\n    fill=\"none\", stroke=\"#FFC107\", :stroke-width=\"strokeWidth\",\n    :stroke-dasharray=\"getDashArray(0)\", :stroke-dashoffset=\"getDashOffset(0)\",\n  )\n  circle.captureButton__4sec(\n    cx=\"50\", cy=\"50\", :r=\"radius\",\n    fill=\"none\", stroke=\"#4CAF50\", :stroke-width=\"strokeWidth\",\n    :stroke-dasharray=\"getDashArray(0.5)\", :stroke-dashoffset=\"getDashOffset(0.5)\",\n  )\n  circle.captureButton__10sec(\n    cx=\"50\", cy=\"50\", :r=\"radius\",\n    fill=\"none\", stroke=\"#00BCD4\", :stroke-width=\"strokeWidth\",\n    :stroke-dasharray=\"getDashArray(4)\", :stroke-dashoffset=\"getDashOffset(4)\",\n  )\n  circle.captureButton__button(\n    cx=\"50\", cy=\"50\", :r=\"radius * 0.75\",\n    fill=\"none\", stroke=\"black\", stroke-width=\"1\",\n  )\n</template>\n\n<script>\nimport MobileDetect from 'mobile-detect';\n\nexport default {\n  data: () => ({\n    strokeWidth: 10,\n    mobileDetect: new MobileDetect(window.navigator.userAgent),\n  }),\n  props: [\n    'time',\n  ],\n  computed: {\n    radius() {\n      return 50 - (this.strokeWidth / 2);\n    },\n    circumference() {\n      return this.radius * 2 * Math.PI;\n    },\n  },\n  mounted() {},\n  methods: {\n    getDashArray(sec) {\n      const len = ((this.time - sec) / 12) * this.circumference;\n      return `${Math.max(len, 0)} 1000`;\n    },\n    getDashOffset(sec) {\n      const len = (sec / 12) * this.circumference;\n      return -1 * len;\n    },\n    emit(evName, event) {\n      if (\n        (this.mobileDetect.mobile() && event.type.includes('touch')) ||\n        (!this.mobileDetect.mobile() && event.type.includes('mouse'))\n      ) {\n        this.$emit(evName);\n      }\n    },\n  },\n  components: {},\n};\n</script>\n"," /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parts[1],\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      default: // Unknown extensions are silently ignored.\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n       ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var fpLine = lines.filter(function(line) {\n    return line.indexOf('a=fingerprint:') === 0;\n  })[0].substr(14);\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  var dtlsParameters = {\n    role: 'auto',\n    fingerprints: [{\n      algorithm: fpLine.split(' ')[0],\n      value: fpLine.split(' ')[1]\n    }]\n  };\n  return dtlsParameters;\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  // FIXME: add headerExtensions, fecMechanism and rtcp.\n  sdp += 'a=rtcp-mux\\r\\n';\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          payloadType: codec.payloadType,\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(5), 10);\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\nSDPUtils.writeSessionBoilerplate = function() {\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  // FIXME: for RTX there might be multiple SSRCs. Not implemented in Edge yet.\n  if (transceiver.rtpSender) {\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\n// Expose public methods.\nmodule.exports = SDPUtils;\n"]}